<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"><meta name="renderer" content="webkit"><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"><link rel="alternate" href="/rss.xml" title="Glad to see U (◦˙▽˙◦)" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="Glad to see U (◦˙▽˙◦)" type="application/atom+xml"><link rel="alternate" type="application/json" title="Glad to see U (◦˙▽˙◦)" href="https://ctf-learner.github.io/feed.json"><link rel="preconnect" href="https://lf9-cdn-tos.bytecdntp.com"><link rel="preconnect" href="https://at.alicdn.com"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CFredericka%20the%20Great:400,400italic,700,700italic%7CNoto%20Serif%20JP:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic%7CInconsolata:400,400italic,700,700italic&amp;display=swap&amp;subset=latin,latin-ext" media="none" onload="this.media='all'"><link rel="stylesheet" href="/css/app.css?v=0.4.2"><link rel="modulepreload" href="/js/chunk-4NFJIVO4.js"><link rel="modulepreload" href="/js/chunk-QEYYZFJM.js"><link rel="modulepreload" href="/js/chunk-SROX5L6D.js"><link rel="modulepreload" href="/js/chunk-U2JHH2LE.js"><link rel="modulepreload" href="/js/chunk-V7IRW4LQ.js"><link rel="modulepreload" href="/js/comments-XFLD7H6W.js"><link rel="modulepreload" href="/js/index.esm-MDTJ3BPJ.js"><link rel="modulepreload" href="/js/post-RLME5O3B.js"><link rel="modulepreload" href="/js/quicklink-S6UPH7RB.js"><link rel="modulepreload" href="/js/search-NYKJDJDG.js"><link rel="modulepreload" href="/js/siteInit.js"><link rel="stylesheet" href="https://npm.webcache.cn/@waline/client@3.0.0-alpha.11/dist/waline.css" media="none" onload="this.media='all'"><link rel="preload" href="https://s2.loli.net/2024/04/15/FekDvbXOnpcILV8.webp" as="image" fetchpriority="high"><link rel="preload" href="https://s2.loli.net/2024/04/15/WsgLDKxA73mCpPG.webp" as="image" fetchpriority="high"><link rel="preload" href="https://s2.loli.net/2024/04/15/KrhGDNnescg7Elv.webp" as="image" fetchpriority="high"><link rel="preload" href="https://s2.loli.net/2024/04/15/YHhdseK85Ov2o3L.webp" as="image" fetchpriority="high"><link rel="preload" href="https://s2.loli.net/2024/04/13/7TeOtnwBxyARzkZ.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://s2.loli.net/2024/04/13/CSlrhTG1vnZIM8Q.jpg" as="image" fetchpriority="high"><meta name="keywords" content="CTF,web,bypass,AWD,"><meta name="description" content="Never hack for profit"><link rel="canonical" href="https://ctf-learner.github.io/post/Linux%E6%8F%90%E6%9D%83%E6%96%B0%E6%89%8B%E6%9D%91/"><title>Linux提权新手村</title><meta name="generator" content="Hexo 7.1.1"></head><body itemscope="" itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Linux提权新手村</h1><div class="meta"><span class="item" title="创建时间：2024-04-15 22:35:32"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">发表于</span><time itemprop="dateCreated datePublished" datetime="2024-04-15T22:35:32+08:00">2024-04-15</time></span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i></span><span class="text">本文字数</span><span>3.8k</span><span class="text">字</span></span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i></span><span class="text">阅读时长</span><span>3 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">MorIo24's blog</a></li></ul><ul class="right" id="rightNav"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><ul><li class="item" style="background-image: url(&quot;https://s2.loli.net/2024/04/15/FekDvbXOnpcILV8.webp&quot;);"></li><li class="item" style="background-image: url(&quot;https://s2.loli.net/2024/04/15/WsgLDKxA73mCpPG.webp&quot;);"></li><li class="item" style="background-image: url(&quot;https://s2.loli.net/2024/04/15/KrhGDNnescg7Elv.webp&quot;);"></li><li class="item" style="background-image: url(&quot;https://s2.loli.net/2024/04/15/YHhdseK85Ov2o3L.webp&quot;);"></li><li class="item" style="background-image: url(&quot;https://s2.loli.net/2024/04/13/7TeOtnwBxyARzkZ.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://s2.loli.net/2024/04/13/CSlrhTG1vnZIM8Q.jpg&quot;);"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemlistelement="" itemscope="" itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">首页</a></span></div><article class="post block" itemscope="itemscope" itemtype="http://schema.org/Article" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://ctf-learner.github.io/post/Linux%E6%8F%90%E6%9D%83%E6%96%B0%E6%89%8B%E6%9D%91/"><span hidden="hidden" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"><meta itemprop="name" content="MorIo24"><meta itemprop="description" content="Never hack for profit, Never hack for profit"></span><span hidden="hidden" itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Glad to see U (◦˙▽˙◦)"></span><div class="body md" itemprop="articleBody"><p>前记：在许多次 web-Bypass 后， <code>cat /flag</code>  却没有任何回显，总是被脚本的权限所困扰，然后就有了这篇文章，以借鉴为主，之后在实践中尝试、学习</p>
<h1 id="linux提权"><a class="anchor" href="#linux提权">#</a> Linux 提权</h1>
<h2 id="suid与sudo提权"><a class="anchor" href="#suid与sudo提权">#</a> SUID 与 sudo 提权</h2>
<p>简单了解什么是 suid：</p>
<blockquote>
<p>SUID 是 Set User ID（设置用户标识）的缩写。当一个可执行文件被设置了 SUID 位时，它将在执行时拥有该文件所有者的权限。这意味着，无论谁执行这个文件，它都会以文件所有者的权限运行，而不是执行者自己的权限。<br>
SUID 位的主要用途是允许普通用户执行一些需要特权权限的程序，而无需提升到超级用户（root）身份。例如， <code>passwd</code>  命令通常需要 root 权限才能修改用户密码文件，但是如果  <code>passwd</code>  程序被设置了 SUID 位，并且拥有 root 所有者，则普通用户也可以通过运行  <code>passwd</code>  命令来修改自己的密码，因为在执行时  <code>passwd</code>  程序将以 root 权限运行。</p>
</blockquote>
<h3 id="遍历目录中的suid文件"><a class="anchor" href="#遍历目录中的suid文件">#</a> 遍历目录中的 suid 文件</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">find</span> / <span class="token parameter variable">-perm</span> <span class="token parameter variable">-u</span><span class="token operator">=</span>s <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>/dev/null  <span class="token comment"># 得到所有 suid 文件</span></pre></td></tr><tr><td data-num="2"></td><td><pre>用sudo <span class="token parameter variable">-l</span> 查看哪些命令能被sudo</pre></td></tr></tbody></table></figure><p><img loading="lazy" data-src="https://s2.loli.net/2024/04/13/sltUpViX5dxjFoG.png" alt="suid文件.png"></p>
<h3 id="nmap交互模式"><a class="anchor" href="#nmap交互模式">#</a> nmap 交互模式</h3>
<p>nmap 5.20（使用 ``nmap -v <code>查看nmap版本）之前有一个</code>  interactive <code>交互模式，在</code>  nmap effective uid=0` 时，可以通过这个模式获得 root 权限交互式命令行</p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>nmap <span class="token parameter variable">--interactive</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment"># 通杀版：</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token builtin class-name">echo</span> <span class="token string">"os.execute('/bin/bash')"</span> <span class="token operator">&gt;</span> ./shell</pre></td></tr><tr><td data-num="4"></td><td><pre>nmap <span class="token parameter variable">--script</span><span class="token operator">=</span>shell</pre></td></tr></tbody></table></figure><h3 id="find"><a class="anchor" href="#find">#</a> find</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">find</span> / <span class="token parameter variable">-exec</span> <span class="token builtin class-name">command</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">find</span> <span class="token parameter variable">-exec</span> /bin/bash</pre></td></tr></tbody></table></figure><p>find 命令自带 - exec 参数，可以执行命令，若 find 有 suid 权限，那么使用 exec 相当于直接提权到 root.</p>
<h3 id="vim"><a class="anchor" href="#vim">#</a> vim</h3>
<p>vim 进入编辑时，使用 <code>:!shell</code>  进入 shell 交互模式</p>
<blockquote>
<p>同理： <code>man</code> 、 <code>git、</code>   <code>config</code>  、 <code>help</code> 、 <code>more</code> 、 <code>less</code> 、 <code>vim</code> 、 <code>vi</code> 、 <code>ftp</code> 、 <code>gdb</code>  等命令都有自己的 shell，我们只需在他们各自的 shell 中执行 ``/bin/sh <code>即可 一般都是在shell键入</code> :!/bin/sh` 来 bypass rbash</p>
</blockquote>
<h3 id="bash"><a class="anchor" href="#bash">#</a> bash</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">bash</span> <span class="token parameter variable">-p</span>  开启一个新root shell，前提是uid<span class="token operator">=</span><span class="token number">0</span></pre></td></tr></tbody></table></figure><h3 id="exim"><a class="anchor" href="#exim">#</a> exim</h3>
<p>exim 在特定版本下会有 suid 提权，可以通过<a href=""> searchsploit 查看</a></p>
<h3 id="rbash提权"><a class="anchor" href="#rbash提权">#</a> rbash 提权</h3>
<p>具体看<a target="_blank" rel="noopener" href="http://t.csdnimg.cn/EIwvy">这篇文章</a>，往后遇到回来补习</p>
<h3 id="python提权"><a class="anchor" href="#python提权">#</a> python 提权</h3>
<figure class="highlight python"><figcaption data-lang="python"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>python <span class="token operator">-</span>c <span class="token string">"import os;os.system('/bin/bash')"</span></pre></td></tr></tbody></table></figure><h3 id="php-shell"><a class="anchor" href="#php-shell">#</a> php shell</h3>
<figure class="highlight php"><figcaption data-lang="PHP"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>php <span class="token operator">-</span>a 进入php shell</pre></td></tr><tr><td data-num="2"></td><td><pre>执行命令<span class="token punctuation">:</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"/bin/bash"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></tbody></table></figure><h3 id="perl"><a class="anchor" href="#perl">#</a> perl</h3>
<figure class="highlight perl"><figcaption data-lang="perl"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>perl <span class="token operator">-e</span> <span class="token string">'exec "/bin/sh";'</span></pre></td></tr></tbody></table></figure><h3 id="ruby"><a class="anchor" href="#ruby">#</a> ruby</h3>
<figure class="highlight ruby"><figcaption data-lang="ruby"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre>ruby <span class="token operator">-</span>e <span class="token string-literal"><span class="token string">'exec "/bin/bash"'</span></span></pre></td></tr></tbody></table></figure><h3 id="cp复制命令"><a class="anchor" href="#cp复制命令">#</a> cp 复制命令</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">cp</span> /bin/bash/* <span class="token builtin class-name">.</span>    <span class="token comment"># 复制 /bin/bash 下所有命令到当前目录</span></pre></td></tr></tbody></table></figure><h3 id="爆破shadow"><a class="anchor" href="#爆破shadow">#</a> 爆破 shadow</h3>
<p>/etc/passwd 默认所有用户可读，但只有 root 可写。 /etc/passwd 里的用户口令往往以 x 代替，其加密后的密码会存入 /etc/shadow 里面，/etc/shadow 默认只有 root 可读。如果 /etc/shadow 可读，我们可以用 hashcat 或者 john 暴力破解 shadow 文件，</p>
<h3 id="文件重写"><a class="anchor" href="#文件重写">#</a> 文件重写</h3>
<p>计划任务由 crontab 管理，非 root 用户是无法列出 root 用户的计划任务的，但我们可以列出 /etc 的系统任务，系统任务默认是 root 权限运行的</p>
<pre><code class="language-纯文本">ls -l /etc/cron*
</code></pre>
<p>如果有权限能更改其中一个任务指定的脚本，我们就可以往脚本里添加如反弹 shell 等指令，从而提权</p>
<h3 id="环境变量劫持"><a class="anchor" href="#环境变量劫持">#</a> 环境变量劫持</h3>
<p>利用 LD_PRELOAD 优先加载指定的共享库文件，劫持系统命令</p>
<p>细读 p 神文章：</p>
<p><a target="_blank" rel="noopener" href="https://tttang.com/archive/1450/">我是如何利用环境变量注入执行任意命令 - 跳跳糖 (tttang.com)</a></p>
<h3 id="利用通配符提权"><a class="anchor" href="#利用通配符提权">#</a> 利用通配符提权</h3>
<p><a target="_blank" rel="noopener" href="https://www.secpulse.com/archives/72965.html">利用通配符实现 Linux 本地提权 - SecPulse.COM | 安全脉搏</a></p>
<h2 id="linux-内核提权"><a class="anchor" href="#linux-内核提权">#</a> Linux 内核提权</h2>
<blockquote>
<p>苯人 web 选手学不会 pwn 那么多原理，只会用 exp 照着 cve 的 wp 直接打</p>
</blockquote>
<h3 id="查看linux操作系统的内核版本和相关信息"><a class="anchor" href="#查看linux操作系统的内核版本和相关信息">#</a> 查看 Linux 操作系统的内核版本和相关信息</h3>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">cat</span> /etc/issue  <span class="token comment"># 查看 ubuntu 或者 centos 的版本</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">cat</span> /etc/*-release <span class="token comment"># 查看 centos 版本</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">uname</span> <span class="token parameter variable">-a</span> <span class="token comment"># 查看系统全部信息</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">uname</span> <span class="token parameter variable">-r</span> <span class="token comment"># 查看内核版本 -- 比较重要</span></pre></td></tr></tbody></table></figure><p><img loading="lazy" data-src="https://s2.loli.net/2024/04/13/g5nCthcxv8WEPBr.png" alt="Linux 3.10.0.png"></p>
<h3 id="searchsploit离线工具"><a class="anchor" href="#searchsploit离线工具">#</a> searchsploit 离线工具</h3>
<blockquote>
<ul class="lvl-1">
<li class="lvl-2">
<p>“searchsploit” 是一个用于 Exploit-DB 的命令行搜索工具，它还允许你随身带一份 Exploit-DB 的副本。</p>
</li>
<li class="lvl-2">
<p>SearchSploit 提供了在本地保存的存储库中执行详细的离线搜索的能力。</p>
</li>
<li class="lvl-2">
<p>许多漏洞都包含了二进制文件的链接，这些文件不包含在标准存储库中，但可以在 Exploit-DB 二进制文件中找到。</p>
</li>
</ul>
</blockquote>
<p>开赛前，请记得<strong>更新 searchsploit</strong>！</p>
<figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tbody><tr><td data-num="1"></td><td><pre><span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">apt</span> <span class="token parameter variable">-y</span> full-upgrade</pre></td></tr><tr><td data-num="2"></td><td><pre>searchsploit <span class="token parameter variable">-u</span></pre></td></tr></tbody></table></figure><details open="">
<summary><span class="pre-summary">&nbsp;</span><mark>使用 tips，点击打开</mark></summary><table>
<thead>
<tr>
<th style="text-align:center">选项</th>
<th style="text-align:center">功能</th>
<th style="text-align:left">例如</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-t</td>
<td style="text-align:center">仅对标题搜索</td>
<td style="text-align:left"><code>searchsploit -t smb windows remote</code></td>
</tr>
<tr>
<td style="text-align:center">--exclude</td>
<td style="text-align:center">选项删除不想要的结果</td>
<td style="text-align:left"><code>searchsploit smb windows remote --exclude="(POC)|txt"</code></td>
</tr>
<tr>
<td style="text-align:center">-p</td>
<td style="text-align:center">复制到剪切板</td>
<td style="text-align:left"><code>searchsploit -p 42315.py</code></td>
</tr>
<tr>
<td style="text-align:center">-m</td>
<td style="text-align:center">复制到当前工作目录</td>
<td style="text-align:left"><code>searchsploit -m 42315.py</code></td>
</tr>
<tr>
<td style="text-align:center">-w</td>
<td style="text-align:center">联网搜索</td>
<td style="text-align:left"><code>searchsploit -w smb windows remote</code></td>
</tr>
</tbody>
</table>
</details>
<p>searchsploit 后面可以填入多个搜索关键词</p>
<p><code>searchsploit [keywords1] [keywords2] ...</code></p>
<p>注意：SearchSploit 使用 AND 运算符，而不是 OR 运算符。使用的术语越多，滤除的结果越多。</p>
<p><code>searchsploit -m 50135.c</code> <br>
<img loading="lazy" data-src="https://s2.loli.net/2024/04/13/vIKTHaJA59FWVBq.png" alt="Ubuntu18.04.6.png"></p>
<p><strong>-m 选项同时可以获取该 poc 的 cve 信息，直接搜索引擎复现提权</strong><br>
 searchsploit 获取的 poc 需要<strong>上传 Linux 后编译</strong>，而不能在 kali 中编译<br>
 <code>gcc -o test 50808.c</code></p>
<div class="note warning">
<p>具体流程大概这样，具体提权的方法因靶机而异</p>
</div>
<h2 id="参考链接"><a class="anchor" href="#参考链接">#</a> 参考链接：</h2>
<p><a target="_blank" rel="noopener" href="https://const27.com/">https://const27.com/</a></p>
</div><footer><div class="meta"><span class="icon"><i class="ic i-eye"></i></span><span>此文章已被阅读次数:</span><span class="waline-pageview-count" id="twikoo_visitors" data-path="post/Linux提权新手村/">正在加载...</span><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">更新于</span><time title="修改时间：2024-04-15 23:48:37" itemprop="dateModified" datetime="2024-04-15T23:48:37+08:00">2024-04-15</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i>赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img loading="lazy" data-src="/assets/wechatpay.webp" alt="MorIo24 微信支付"><p>微信支付</p></div><div><img loading="lazy" data-src="/assets/alipay.webp" alt="MorIo24 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者：</strong>MorIo24<i class="ic i-at"><em>@</em></i>Glad to see U (◦˙▽˙◦)</li><li class="link"><strong>本文链接：</strong><a href="https://ctf-learner.github.io/post/Linux%E6%8F%90%E6%9D%83%E6%96%B0%E6%89%8B%E6%9D%91/" title="Linux提权新手村">https://ctf-learner.github.io/post/Linux提权新手村/</a></li><li class="license"><strong>版权声明：</strong>本站所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/post/%E4%B8%8D%E8%83%BD%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E6%89%AB%E6%8F%8F%E7%A5%9E%E5%99%A8/" rel="prev" itemprop="url" data-background-image="https://s2.loli.net/2024/04/15/BXrQFv9hOn2iZm6.webp" title="nc&amp;nmap"><span class="type">上一篇</span><span class="category"><i class="ic i-flag"></i>AWD</span><h3>nc&amp;nmap</h3></a></div><div class="item right"></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#linux%E6%8F%90%E6%9D%83"><span class="toc-number">1.</span> <span class="toc-text"> Linux 提权</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#suid%E4%B8%8Esudo%E6%8F%90%E6%9D%83"><span class="toc-number">1.1.</span> <span class="toc-text"> SUID 与 sudo 提权</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E7%9B%AE%E5%BD%95%E4%B8%AD%E7%9A%84suid%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.1.</span> <span class="toc-text"> 遍历目录中的 suid 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nmap%E4%BA%A4%E4%BA%92%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.1.2.</span> <span class="toc-text"> nmap 交互模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#find"><span class="toc-number">1.1.3.</span> <span class="toc-text"> find</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vim"><span class="toc-number">1.1.4.</span> <span class="toc-text"> vim</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#bash"><span class="toc-number">1.1.5.</span> <span class="toc-text"> bash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#exim"><span class="toc-number">1.1.6.</span> <span class="toc-text"> exim</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rbash%E6%8F%90%E6%9D%83"><span class="toc-number">1.1.7.</span> <span class="toc-text"> rbash 提权</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#python%E6%8F%90%E6%9D%83"><span class="toc-number">1.1.8.</span> <span class="toc-text"> python 提权</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php-shell"><span class="toc-number">1.1.9.</span> <span class="toc-text"> php shell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#perl"><span class="toc-number">1.1.10.</span> <span class="toc-text"> perl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ruby"><span class="toc-number">1.1.11.</span> <span class="toc-text"> ruby</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cp%E5%A4%8D%E5%88%B6%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.12.</span> <span class="toc-text"> cp 复制命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%86%E7%A0%B4shadow"><span class="toc-number">1.1.13.</span> <span class="toc-text"> 爆破 shadow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E9%87%8D%E5%86%99"><span class="toc-number">1.1.14.</span> <span class="toc-text"> 文件重写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%8A%AB%E6%8C%81"><span class="toc-number">1.1.15.</span> <span class="toc-text"> 环境变量劫持</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E9%80%9A%E9%85%8D%E7%AC%A6%E6%8F%90%E6%9D%83"><span class="toc-number">1.1.16.</span> <span class="toc-text"> 利用通配符提权</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux-%E5%86%85%E6%A0%B8%E6%8F%90%E6%9D%83"><span class="toc-number">1.2.</span> <span class="toc-text"> Linux 内核提权</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Blinux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC%E5%92%8C%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF"><span class="toc-number">1.2.1.</span> <span class="toc-text"> 查看 Linux 操作系统的内核版本和相关信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#searchsploit%E7%A6%BB%E7%BA%BF%E5%B7%A5%E5%85%B7"><span class="toc-number">1.2.2.</span> <span class="toc-text"> searchsploit 离线工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5"><span class="toc-number">1.3.</span> <span class="toc-text"> 参考链接：</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><img class="image" loading="lazy" decoding="async" itemprop="image" alt="MorIo24" src="/assets/avatar.webp"><p class="name" itemprop="name">MorIo24</p><div class="description" itemprop="description">Never hack for profit</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">4</span><span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">2</span><span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">8</span><span class="name">标签</span></a></div></nav><div class="social"><a target="_blank" rel="noopener" href="https://github.com/ctf-learner" class="item github" title="https://github.com/ctf-learner"><i class="ic i-github"></i></a><a target="_blank" rel="noopener" href="https://gitee.com/morio24" class="item gitee" title="https://gitee.com/morio24"><i class="ic i-gitee"></i></a><a href="gmail:morio24@qq.com" class="item email" title="gmail:morio24@qq.com"><i class="ic i-envelope"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/me" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="#" onclick="return false;"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li></ul></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-coffee"></i>友链</a></li></div></div></div></div><ul id="quick"><li class="prev pjax"></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/post/%E4%B8%8D%E8%83%BD%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E6%89%AB%E6%8F%8F%E7%A5%9E%E5%99%A8/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/AWD/" title="分类于AWD">AWD</a></div><span><a href="/post/AWD%E5%88%9D%E4%BD%93%E9%AA%8C/">AWD初体验</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/post/Linux%E6%8F%90%E6%9D%83%E6%96%B0%E6%89%8B%E6%9D%91/">Linux提权新手村</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%85%B3%E4%BA%8EshokaX/" title="分类于关于shokaX">关于shokaX</a></div><span><a href="/post/%E6%90%AD%E5%8D%9A%E5%AE%A2%E4%B8%80%E8%B7%AF%E7%9A%84%E5%BF%83%E9%85%B8/">搭博客一路的心酸</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/AWD/" title="分类于AWD">AWD</a></div><span><a href="/post/%E4%B8%8D%E8%83%BD%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84%E6%89%AB%E6%8F%8F%E7%A5%9E%E5%99%A8/">nc&amp;nmap</a></span></li></ul></div></div><div class="status"><div class="copyright">© 追风赶月莫停留，平芜尽处是春山 -<span itemprop="copyrightYear">2024</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">MorIo24 @ MorIo24's blog</span></div><div class="count"><div class="time-last"><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>var now = new Date();
function createtime() {
    var grt= new Date("4/16/2024 13:14:20");
    now.setTime(now.getTime()+250);
    days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
    hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
    if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
    mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
    seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
    snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
    document.getElementById("timeDate").innerHTML = "小破站在风雨中孤苦伶仃度过了 "+dnum+" 天 ";
    document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
}
setInterval("createtime()",250);</script></div><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="站点总字数">13k 字</span><span class="post-meta-divider"> | </span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="站点阅读时长">11 分钟</span></div><div class="powered-by">基于 <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> &amp; Theme.<a target="_blank" rel="noopener" href="https://github.com/theme-shoka-x/hexo-theme-shokaX/">ShokaX</a></div><script src="/live2d-widget/autoload.js"></script></div></div></footer></div><script data-config="" type="text/javascript">var LOCAL = {
    ispost: true,
        path: `post/Linux提权新手村/`,
        favicon: {
        show: `好久不见~(ღ˘⌣˘ღ)~`,
        hide: `404咯(｡í _ ì｡)`
    },
    search: {
        placeholder: "文章搜索",
        empty: "关于 「 ${query} 」，什么也没搜到",
        stats: "${time} ms 内找到 ${hits} 条结果"
    },
    copy_tex: false,
    katex: false,
    mermaid: false,
    audio: undefined,
    fancybox: true,
    nocopy: false,
    outime: true,
    template: `<div class="note warning"><p><span class="label warning">文章时效性提示</span><br>这是一篇发布于 {{publish}} 天前，最后一次更新在 {{updated}} 天前的文章，部分信息可能已经发生改变，请注意甄别。</p></div>`,
    quiz: {
        choice: `单选题`,
        multiple: `多选题`,
        true_false: `判断题`,
        essay: `问答题`,
        gap_fill: `填空题`,
        mistake: `错题备注`
    },
    ignores: [
        (uri) => uri.includes('#'),
        (uri) => new RegExp(LOCAL.path + '$').test(uri),
            []
    ]
};
</script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/pace/1.2.4/pace.min.js" async=""></script><script src="/js/siteInit.js?v=0.4.2" type="module" fetchpriority="high" defer=""></script></body></html>